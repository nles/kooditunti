// Automatically generated file.  Do not edit!
'use strict';var f,m=this;function aa(){}function ba(a){a.Xb=function(){return a.Yh?a.Yh:a.Yh=new a}}
function ca(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function da(a){return"array"==ca(a)}function ea(a){var b=ca(a);return"array"==b||"object"==b&&"number"==typeof a.length}function n(a){return"string"==typeof a}function q(a){return"number"==typeof a}function u(a){return"function"==ca(a)}function fa(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ga(a){return a[ha]||(a[ha]=++ia)}var ha="closure_uid_"+(1E9*Math.random()>>>0),ia=0;
function ja(a,b,c){return a.call.apply(a.bind,arguments)}function ka(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function la(a,b,c){la=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka;return la.apply(null,arguments)}
function ma(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var na=Date.now||function(){return+new Date};function w(a,b){function c(){}c.prototype=b.prototype;a.i=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.El=function(a,c,g){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[c].apply(a,h)}};function oa(a,b){null!=a&&this.append.apply(this,arguments)}f=oa.prototype;f.Z="";f.set=function(a){this.Z=""+a};f.append=function(a,b,c){this.Z+=a;if(null!=b)for(var d=1;d<arguments.length;d++)this.Z+=arguments[d];return this};f.clear=function(){this.Z=""};f.toString=function(){return this.Z};var pa;function qa(a){if(Error.captureStackTrace)Error.captureStackTrace(this,qa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}w(qa,Error);qa.prototype.name="CustomError";function ra(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}function sa(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}var ta=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function ua(a,b){var c=String(a).toLowerCase(),d=String(b).toLowerCase();return c<d?-1:c==d?0:1}
function va(a){if(!wa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(xa,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(za,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Aa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ba,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Ca,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Da,"&#0;"));return a}var xa=/&/g,za=/</g,Aa=/>/g,Ba=/"/g,Ca=/'/g,Da=/\x00/g,wa=/[\x00&<>"']/;
function Ea(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},c;c=m.document.createElement("div");return a.replace(Fa,function(a,e){var g=b[a];if(g)return g;if("#"==e.charAt(0)){var h=Number("0"+e.substr(1));isNaN(h)||(g=String.fromCharCode(h))}g||(c.innerHTML=a+" ",g=c.firstChild.nodeValue.slice(0,-1));return b[a]=g})}
function Ga(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));if(!isNaN(d))return String.fromCharCode(d)}return a}})}var Fa=/&([^;\s<&]+);?/g;function Ha(a,b){return a<b?-1:a>b?1:0};function Ia(a,b){b.unshift(a);qa.call(this,ra.apply(null,b));b.shift()}w(Ia,qa);Ia.prototype.name="AssertionError";function Ja(a,b){throw new Ia("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};function Ka(){this.Mg="";this.dj=La}Ka.prototype.Zc=!0;Ka.prototype.Wc=function(){return this.Mg};Ka.prototype.toString=function(){return"Const{"+this.Mg+"}"};function Ma(a){if(a instanceof Ka&&a.constructor===Ka&&a.dj===La)return a.Mg;Ja("expected object of type Const, got '"+a+"'");return"type_error:Const"}var La={};function Na(){this.fc="";this.$i=Oa}f=Na.prototype;f.Zc=!0;f.Wc=function(){return this.fc};f.cg=!0;f.xd=function(){return 1};f.toString=function(){return"SafeUrl{"+this.fc+"}"};var Oa={};var x=Array.prototype,Pa=x.indexOf?function(a,b,c){return x.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(n(a))return n(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Qa=x.forEach?function(a,b,c){x.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=n(a)?a.split(""):a,g=0;g<d;g++)g in e&&b.call(c,e[g],g,a)},Ra=x.filter?function(a,b,c){return x.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],g=0,h=n(a)?
a.split(""):a,k=0;k<d;k++)if(k in h){var l=h[k];b.call(c,l,k,a)&&(e[g++]=l)}return e},Sa=x.map?function(a,b,c){return x.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),g=n(a)?a.split(""):a,h=0;h<d;h++)h in g&&(e[h]=b.call(c,g[h],h,a));return e},Ta=x.every?function(a,b,c){return x.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=n(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&!b.call(c,e[g],g,a))return!1;return!0};function Ua(a,b){return 0<=Pa(a,b)}
function Va(a,b){var c=Pa(a,b),d;(d=0<=c)&&x.splice.call(a,c,1);return d}function Wa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Xa(a,b,c,d){x.splice.apply(a,Ya(arguments,1))}function Ya(a,b,c){return 2>=arguments.length?x.slice.call(a,b):x.slice.call(a,b,c)};function Za(){this.We="";this.Zi=$a}Za.prototype.Zc=!0;var $a={};Za.prototype.Wc=function(){return this.We};Za.prototype.toString=function(){return"SafeStyle{"+this.We+"}"};function ab(a){var b=new Za;b.We=a;return b}var bb=ab("");
function cb(a){var b="",c;for(c in a){if(!/^[-_a-zA-Z0-9]+$/.test(c))throw Error("Name allows only [-_a-zA-Z0-9], got: "+c);var d=a[c];null!=d&&(d instanceof Ka?d=Ma(d):db.test(d)||(Ja("String value allows only [-.%_!# a-zA-Z0-9], got: "+d),d="zClosurez"),b+=c+":"+d+";")}return b?ab(b):bb}var db=/^[-.%_!# a-zA-Z0-9]+$/;function eb(){this.ug="";this.fj=fb}f=eb.prototype;f.Zc=!0;f.Wc=function(){return this.ug};f.cg=!0;f.xd=function(){return 1};f.toString=function(){return"TrustedResourceUrl{"+this.ug+"}"};var fb={};function gb(a,b){for(var c in a)b.call(void 0,a[c],c,a)}var ib="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var g=0;g<ib.length;g++)c=ib[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}
function kb(a){var b=arguments.length;if(1==b&&da(arguments[0]))return kb.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};var lb=kb("area base br col command embed hr img input keygen link meta param source track wbr".split(" "));function mb(){this.fc="";this.Yi=nb;this.Hh=null}f=mb.prototype;f.cg=!0;f.xd=function(){return this.Hh};f.Zc=!0;f.Wc=function(){return this.fc};f.toString=function(){return"SafeHtml{"+this.fc+"}"};function ob(a){if(a instanceof mb&&a.constructor===mb&&a.Yi===nb)return a.fc;Ja("expected object of type SafeHtml, got '"+a+"'");return"type_error:SafeHtml"}function pb(a){if(a instanceof mb)return a;var b=null;a.cg&&(b=a.xd());return qb(va(a.Zc?a.Wc():String(a)),b)}
var rb=/^[a-zA-Z0-9-]+$/,sb=kb("action","cite","data","formaction","href","manifest","poster","src"),tb=kb("embed","iframe","link","object","script","style","template");
function ub(a,b,c){if(!rb.test(a))throw Error("Invalid tag name <"+a+">.");if(a.toLowerCase()in tb)throw Error("Tag name <"+a+"> is not allowed for SafeHtml.");var d=null,e="<"+a;if(b)for(var g in b){if(!rb.test(g))throw Error('Invalid attribute name "'+g+'".');var h=b[g];if(null!=h){var k,l=a;k=g;if(h instanceof Ka)h=Ma(h);else if("style"==k.toLowerCase()){if(!fa(h))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof h+" given: "+h);h instanceof Za||
(h=cb(h));l=void 0;h instanceof Za&&h.constructor===Za&&h.Zi===$a?l=h.We:(Ja("expected object of type SafeStyle, got '"+h+"'"),l="type_error:SafeStyle");h=l}else{if(/^on/i.test(k))throw Error('Attribute "'+k+'" requires goog.string.Const value, "'+h+'" given.');if(k.toLowerCase()in sb)if(h instanceof eb)h instanceof eb&&h.constructor===eb&&h.fj===fb?h=h.ug:(Ja("expected object of type TrustedResourceUrl, got '"+h+"'"),h="type_error:TrustedResourceUrl");else if(h instanceof Na)h instanceof Na&&h.constructor===
Na&&h.$i===Oa?h=h.fc:(Ja("expected object of type SafeUrl, got '"+h+"'"),h="type_error:SafeUrl");else throw Error('Attribute "'+k+'" on tag "'+l+'" requires goog.html.SafeUrl or goog.string.Const value, "'+h+'" given.');}h.Zc&&(h=h.Wc());k=k+'="'+va(String(h))+'"';e+=" "+k}}void 0!==c?da(c)||(c=[c]):c=[];!0===lb[a.toLowerCase()]?e+=">":(d=vb(c),e+=">"+ob(d)+"</"+a+">",d=d.xd());(a=b&&b.dir)&&(d=/^(ltr|rtl|auto)$/i.test(a)?0:null);return qb(e,d)}
function vb(a){function b(a){da(a)?Qa(a,b):(a=pb(a),d+=ob(a),a=a.xd(),0==c?c=a:0!=a&&c!=a&&(c=null))}var c=0,d="";Qa(arguments,b);return qb(d,c)}var nb={};function qb(a,b){var c=new mb;c.fc=a;c.Hh=b;return c}var wb=qb("",0);var xb={am:!0};var yb;a:{var zb=m.navigator;if(zb){var Ab=zb.userAgent;if(Ab){yb=Ab;break a}}yb=""}function Bb(a){return-1!=yb.indexOf(a)};var Cb=Bb("Opera")||Bb("OPR"),y=Bb("Trident")||Bb("MSIE"),Db=Bb("Gecko")&&-1==yb.toLowerCase().indexOf("webkit")&&!(Bb("Trident")||Bb("MSIE")),z=-1!=yb.toLowerCase().indexOf("webkit"),Eb=Bb("Macintosh"),Fb=Bb("Android"),Gb=Bb("iPhone")&&!Bb("iPod")&&!Bb("iPad"),Hb=Bb("iPad");function Ib(){var a=m.document;return a?a.documentMode:void 0}
var Jb=function(){var a="",b;if(Cb&&m.opera)return a=m.opera.version,u(a)?a():a;Db?b=/rv\:([^\);]+)(\)|;)/:y?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:z&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(yb))?a[1]:"");return y&&(b=Ib(),b>parseFloat(a))?String(b):a}(),Kb={};
function A(a){var b;if(!(b=Kb[a])){b=0;for(var c=ta(String(Jb)).split("."),d=ta(String(a)).split("."),e=Math.max(c.length,d.length),g=0;0==b&&g<e;g++){var h=c[g]||"",k=d[g]||"",l=/(\d*)(\D*)/g,r=/(\d*)(\D*)/g;do{var v=l.exec(h)||["","",""],p=r.exec(k)||["","",""];if(0==v[0].length&&0==p[0].length)break;b=Ha(0==v[1].length?0:parseInt(v[1],10),0==p[1].length?0:parseInt(p[1],10))||Ha(0==v[2].length,0==p[2].length)||Ha(v[2],p[2])}while(0==b)}b=Kb[a]=0<=b}return b}
var Lb=m.document,Mb=Lb&&y?Ib()||("CSS1Compat"==Lb.compatMode?parseInt(Jb,10):5):void 0;function Nb(a,b){this.width=a;this.height=b}f=Nb.prototype;f.clone=function(){return new Nb(this.width,this.height)};f.toString=function(){return"("+this.width+" x "+this.height+")"};f.$h=function(){return!(this.width*this.height)};f.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};f.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
f.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};f.scale=function(a,b){var c=q(b)?b:a;this.width*=a;this.height*=c;return this};function Ob(a,b){a.innerHTML=ob(b)};var Pb=!y||y&&9<=Mb,Qb=!Db&&!y||y&&y&&9<=Mb||Db&&A("1.9.1"),Rb=y&&!A("9");function Sb(a,b,c){return Math.min(Math.max(a,b),c)}function Tb(a){a%=360;return 0>360*a?a+360:a};function B(a,b){this.x=void 0!==a?a:0;this.y=void 0!==b?b:0}f=B.prototype;f.clone=function(){return new B(this.x,this.y)};f.toString=function(){return"("+this.x+", "+this.y+")"};function Ub(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)}f.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};f.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};f.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
f.translate=function(a,b){a instanceof B?(this.x+=a.x,this.y+=a.y):(this.x+=a,q(b)&&(this.y+=b));return this};f.scale=function(a,b){var c=q(b)?b:a;this.x*=a;this.y*=c;return this};function Vb(a){return a?new Wb(Xb(a)):pa||(pa=new Wb)}function Yb(a,b){gb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Zb?a.setAttribute(Zb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var Zb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function $b(){var a=window.document,a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new Nb(a.clientWidth,a.clientHeight)}function C(a,b,c){return ac(document,arguments)}
function ac(a,b){var c=b[0],d=b[1];if(!Pb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',va(d.name),'"');if(d.type){c.push(' type="',va(d.type),'"');var e={};jb(e,d);delete e.type;d=e}c.push(">");c=c.join("")}c=a.createElement(c);d&&(n(d)?c.className=d:da(d)?c.className=d.join(" "):Yb(c,d));2<b.length&&bc(a,c,b,2);return c}
function bc(a,b,c,d){function e(c){c&&b.appendChild(n(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var g=c[d];!ea(g)||fa(g)&&0<g.nodeType?e(g):Qa(cc(g)?Wa(g):g,e)}}function dc(a){for(var b;b=a.firstChild;)a.removeChild(b)}function ec(a){var b=E.g;b.parentNode&&b.parentNode.insertBefore(a,b)}function G(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}
function fc(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Xb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}var gc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},hc={IMG:" ",BR:"\n"};function ic(a){a=a.getAttributeNode("tabindex");return null!=a&&a.specified}function jc(a){a=a.tabIndex;return q(a)&&0<=a&&32768>a}
function kc(a){var b=[];lc(a,b,!1);return b.join("")}function lc(a,b,c){if(!(a.nodeName in gc))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in hc)b.push(hc[a.nodeName]);else for(a=a.firstChild;a;)lc(a,b,c),a=a.nextSibling}function cc(a){if(a&&"number"==typeof a.length){if(fa(a))return"function"==typeof a.item||"string"==typeof a.item;if(u(a))return"function"==typeof a.item}return!1}
function Wb(a){this.Ib=a||m.document||document}f=Wb.prototype;f.pb=Vb;f.h=function(a){return n(a)?this.Ib.getElementById(a):a};f.G=function(a,b,c){return ac(this.Ib,arguments)};f.createElement=function(a){return this.Ib.createElement(a)};f.createTextNode=function(a){return this.Ib.createTextNode(String(a))};f.appendChild=function(a,b){a.appendChild(b)};f.append=function(a,b){bc(Xb(a),a,arguments,1)};f.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
f.xi=dc;f.removeNode=G;f.uc=function(a){return Qb&&void 0!=a.children?a.children:Ra(a.childNodes,function(a){return 1==a.nodeType})};f.contains=fc;f.$b=function(a){var b;(b="A"==a.tagName||"INPUT"==a.tagName||"TEXTAREA"==a.tagName||"SELECT"==a.tagName||"BUTTON"==a.tagName?!a.disabled&&(!ic(a)||jc(a)):ic(a)&&jc(a))&&y?(a=u(a.getBoundingClientRect)?a.getBoundingClientRect():{height:a.offsetHeight,width:a.offsetWidth},a=null!=a&&0<a.height&&0<a.width):a=b;return a};y&&A(8);function mc(a){return a&&a.xj&&a.xj===xb?a.content:String(a).replace(nc,oc)}var pc={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function oc(a){return pc[a]}var nc=/[\x00\x22\x26\x27\x3c\x3e]/g;var qc={};function rc(){return'<div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary" onclick="BlocklyDialogs.hideDialog(true)">OK</button></div>'};function sc(){for(var a=tc,b=H,c='<div style="display: none"><span id="Games_name">Blockly Pelit</span><span id="Games_puzzle">Palapeli</span><span id="Games_maze">Sokkelo</span><span id="Games_bird">Lintu</span><span id="Games_turtle">Kilpikonna</span><span id="Games_movie">Elokuva</span><span id="Games_pondBasic">Lampi</span><span id="Games_pondAdvanced">JS-lampi</span><span id="Games_linesOfCode1">Ratkaisit t\u00e4m\u00e4n tason yhdell\u00e4 rivill\u00e4 JavaScripti\u00e4:</span><span id="Games_linesOfCode2">Ratkaisit t\u00e4m\u00e4n tason %1 rivill\u00e4 JavaScripti\u00e4:</span><span id="Games_nextLevel">Oletko valmis tasoon %1?</span><span id="Games_finalLevel">Oletko valmis seuraavaan haasteeseen?</span><span id="Games_linkTooltip">Tallenna ja linkit\u00e4 lohkoihin. </span><span id="Games_runTooltip">Suorita kirjoittamasi ohjelma. </span><span id="Games_runProgram">Suorita ohjelma</span><span id="Games_resetTooltip">Lopeta ohjelma ja nollaa taso. </span><span id="Games_resetProgram">Nollaa</span><span id="Games_help">Ohje</span><span id="Games_dialogOk">OK</span><span id="Games_dialogCancel">Peru</span><span id="Games_catLogic">Logiikka</span><span id="Games_catLoops">Silmukat</span><span id="Games_catMath">Matematiikka</span><span id="Games_catText">Teksti</span><span id="Games_catLists">Listat</span><span id="Games_catColour">V\u00e4ri</span><span id="Games_catVariables">Muuttujat</span><span id="Games_catProcedures">Funktiot</span><span id="Games_httpRequestError">Pyynt\u00f6 ep\u00e4onnistui.</span><span id="Games_linkAlert">Jaa lohkosi t\u00e4ll\u00e4 linkill\u00e4:</span><span id="Games_hashError">Valitettavasti \'%1\' ei vastaa mit\u00e4\u00e4n tallennettua ohjelmaa.</span><span id="Games_xmlError">Tallennuksen lataaminen ep\u00e4onnistui. Ehk\u00e4 se on tehty Blocklyn eri versiolla?</span><span id="Games_listVariable">lista</span><span id="Games_textVariable">teksti</span></div><div style="display: none"><span id="Pond_playerName">Pelaaja</span><span id="Pond_targetName">Kohde</span><span id="Pond_rabbitName">J\u00e4nis</span><span id="Pond_counterName">Laskuri</span><span id="Pond_rookName">Torni</span><span id="Pond_sniperName">Tarkka-ampuja</span><span id="Pond_pendulumName">Heiluri</span><span id="Pond_scaredName">Peloissaan</span><span id="Pond_scanTooltip">Scan for enemies. Specify a direction (0-360). Returns the distance to the closest enemy in that direction. Returns Infinity if no enemy found.</span><span id="Pond_cannonTooltip">Fire the cannon. Specify a direction (0-360) and a range (0-70).</span><span id="Pond_swimTooltip">Ui eteenp\u00e4in. M\u00e4\u00e4rittele suunta (0-360). </span><span id="Pond_stopTooltip">Stop swimming. Player will slow to a stop.</span><span id="Pond_healthTooltip">Returns the player\'s current health (0 is dead, 100 is healthy).</span><span id="Pond_speedTooltip">Palauttaa pelajaan nopeuden (0 tarkoittaa \\npys\u00e4htynytt\u00e4, 100 t\u00e4ytt\u00e4 nopeutta). </span><span id="Pond_locXTooltip">Returns the X coordinate of the player (0 is the left edge, 100 is the right edge).</span><span id="Pond_locYTooltip">Returns the Y coordinate of the player (0 is the bottom edge, 100 is the top edge).</span></div><div style="display: none"></div><table width="100%"><tr><td><h1>'+
('<span id="title">'+(uc?'<a href="index.html?lang='+mc(a)+'">':'<a href="./?lang='+mc(a)+'">')+"Blockly Pelit</a> : "+mc("JS-lampi")+"</span>"),d=" &nbsp; ",e=1;11>e;e++)d+=" "+(e==b?'<span class="level_number level_done" id="level'+mc(e)+'">'+mc(e)+"</span>":10==e?'<a class="level_number" id="level'+mc(e)+'" href="?lang='+mc(a)+"&level="+mc(e)+mc("")+'">'+mc(e)+"</a>":'<a class="level_dot" id="level'+mc(e)+'" href="?lang='+mc(a)+"&level="+mc(e)+mc("")+'"></a>');return c+d+'</h1></td><td class="farSide"><select id="languageMenu"></select>&nbsp;<button id="linkButton" title="Tallenna ja linkit\u00e4 lohkoihin. "><img src="media/1x1.gif" class="link icon21"></button>&nbsp;<button id="helpButton">Ohje</button></td></tr></table><div id="visualization"><canvas id="scratch" width="400" height="400" style="display: none"></canvas><canvas id="display" width="400" height="400"></canvas></div><table id="playerStatTable"><tbody><tr id="playerStatRow"></tr></tbody></table><table width="400"><tr><td style="width: 190px; text-align: center; vertical-align: top;"><button id="docsButton" title="N\u00e4yt\u00e4 kieliohje">Ohjeet</button></td><td><button id="runButton" class="primary" title="Suorita kirjoittamasi ohjelma. "><img src="media/1x1.gif" class="run icon21"> Suorita ohjelma</button><button id="resetButton" class="primary" style="display: none" title="Lopeta ohjelma ja nollaa taso. "><img src="media/1x1.gif" class="stop icon21"> Nollaa</button></td></tr></table><div id="dialogDocs"><img src="media/1x1.gif" class="close icon21" id="closeDocs"><iframe id="frameDocs"></iframe></div><div id="editor"></div>\n<div id="playerTarget" style="display: none">\n</div>\n\n<div id="playerRabbit" style="display: none">\n/* rabbit */\n// rabbit runs around the field, randomly and never fires; use as a target.\n\n/* go - go to the point specified */\nfunction go (dest_x, dest_y) {\n  var course = plot_course(dest_x, dest_y);\n  while (distance(loc_x(), loc_y(), dest_x, dest_y) > 5) {\n    drive(course, 25);\n  }\n  while (speed() > 0) {\n    drive(course, 0);\n  }\n}\n\n/* distance forumula. */\nfunction distance(x1, y1, x2, y2) {\n  var x = x1 - x2;\n  var y = y1 - y2;\n  return Math.sqrt((x * x) + (y * y));\n}\n\n/* plot_course - figure out which heading to go. */\nfunction plot_course(xx, yy) {\n  var d;\n  var curx = loc_x();\n  var cury = loc_y();\n  var x = curx - xx;\n  var y = cury - yy;\n\n  if (x == 0) {\n    if (yy > cury) {\n      d = 90;\n    } else {\n      d = 270;\n    }\n  } else {\n    if (yy < cury) {\n      if (xx > curx) {\n        d = 360 + Math.atan_deg(y / x);\n      } else {\n        d = 180 + Math.atan_deg(y / x);\n      }\n    } else {\n      if (xx > curx) {\n        d = Math.atan_deg(y / x);\n      } else {\n        d = 180 + Math.atan_deg(y / x);\n      }\n    }\n  }\n  return d;\n}\n\nwhile (true) {\n  // Go somewhere in the field.\n  var x = Math.random() * 100;\n  var y = Math.random() * 100;\n  go(x, y);\n}\n</div>\n\n<div id="playerCounter" style="display: none">\n/* counter */\n/* scan in a counter-clockwise direction (increasing degrees) */\n/* moves when hit */\n\nvar range;\nvar last_dir = 0;\n\nvar res = 2;\nvar d = damage();\nvar angle = Math.random() * 360;\nwhile (true) {\n  while ((range = scan(angle, res)) != Infinity) {\n    if (range > 70) { /* out of range, head toward it */\n      drive(angle, 50);\n      var i = 1;\n      while (i++ < 50) /* use a counter to limit move time */\n        ;\n      drive (angle, 0);\n      if (d != damage()) {\n        d = damage();\n        run();\n      }\n      angle -= 3;\n    } else {\n      while (!cannon(angle, range))\n        ;\n      if (d != damage()) {\n        d = damage();\n        run();\n      }\n      angle -= 15;\n    }\n  }\n  if (d != damage()) {\n    d = damage();\n    run();\n  }\n  angle += res;\n  angle %= 360;\n}\n\n/* run moves around the center of the field */\nfunction run() {\n  var i = 0;\n  var x = loc_x();\n  var y = loc_y();\n\n  if (last_dir == 0) {\n    last_dir = 1;\n    if (y > 51) {\n      drive(270, 100);\n      while (y - 10 < loc_y() && i++ < 50)\n        ;\n      drive(270, 0);\n    } else {\n      drive(90, 100);\n      while (y + 10 > loc_y() && i++ < 50)\n        ;\n      drive(90, 0);\n    }\n  } else {\n    last_dir = 0;\n    if (x > 51) {\n      drive(180, 100);\n      while (x - 10 < loc_x() && i++ < 50)\n        ;\n      drive(180, 0);\n    } else {\n      drive(0, 100);\n      while (x + 10 > loc_x() && i++ < 50)\n        ;\n      drive(0, 0);\n    }\n  }\n}\n</div>\n\n<div id="playerRook" style="display: none">\n/* rook.r  -  scans the battlefield like a rook, i.e., only 0,90,180,270 */\n/* move horizontally only, but looks horz and vertically */\n\n/* move to center of board */\nif (loc_y() < 50) {\n  while (loc_y() < 40)        /* stop near center */\n    drive(90, 100);           /* start moving */\n} else {\n  while (loc_y() > 60)        /* stop near center */\n    drive(270, 100);          /* start moving */\n}\ndrive(0, 0);\nwhile (speed() > 0)\n  ;\n\n/* initialize starting parameters */\nvar d = damage();\nvar course = 0;\nvar boundary = 99;\ndrive(course, 30);\n\n/* main loop */\nwhile(true) {\n  /* look all directions */\n  look(0);\n  look(90);\n  look(180);\n  look(270);\n\n  /* if near end of battlefield, change directions */\n  if (course == 0) {\n    if (loc_x() > boundary || speed() == 0)\n      change();\n  }\n  else {\n    if (loc_x() < boundary || speed() == 0)\n      change();\n  }\n}\n\n/* look somewhere, and fire cannon repeatedly at in-range target */\nfunction look(deg) {\n  var range;\n  while ((range = scan(deg, 4)) <= 70)  {\n    drive(course, 0);\n    cannon(deg, range);\n    if (d + 20 != damage()) {\n      d = damage();\n      change();\n    }\n  }\n}\n\nfunction change() {\n  if (course == 0) {\n    boundary = 1;\n    course = 180;\n  } else {\n    boundary = 99;\n    course = 0;\n  }\n  drive(course, 30);\n}\n</div>\n\n<div id="playerSniper" style="display: none">\n/* sniper */\n/* strategy: since a scan of the entire battlefield can be done in 90 */\n/* degrees from a corner, sniper can scan the field quickly. */\n\n/* external variables, that can be used by any function */\nvar corner = 0;           /* current corner 0, 1, 2, or 2 */\nvar sc = 0;               /* current scan start */\n\nvar range;          /* range to target */\n\n/* initialize the corner info */\n/* x and y location of a corner, and starting scan degree */\nvar c1x = 2,  c1y = 2,  s1 = 0;\nvar c2x = 2,  c2y = 98, s2 = 270;\nvar c3x = 98, c3y = 98, s3 = 180;\nvar c4x = 98, c4y = 2,  s4 = 90;\nvar closest = Infinity;\nnew_corner();       /* start at a random corner */\nvar d = damage();       /* get current damage */\nvar dir = sc;           /* starting scan direction */\n\nwhile (true) {         /* loop is executed forever */\n  while (dir < sc + 90) {  /* scan through 90 degree range */\n    range = scan(dir, 2);   /* look at a direction */\n    if (range <= 70) {\n      while (range > 0) {    /* keep firing while in range */\n        closest = range;     /* set closest flag */\n        cannon(dir, range);   /* fire! */\n        range = scan(dir, 1); /* check target again */\n        if (d + 15 > damage())  /* sustained several hits, */\n          range = 0;            /* goto new corner */\n      }\n      dir -= 10;             /* back up scan, in case */\n    }\n\n    dir += 2;                /* increment scan */\n    if (d != damage()) {     /* check for damage incurred */\n      new_corner();          /* we\'re hit, move now */\n      d = damage();\n      dir = sc;\n    }\n  }\n\n  if (closest == Infinity) {       /* check for any targets in range */\n    new_corner();             /* nothing, move to new corner */\n    d = damage();\n    dir = sc;\n  } else {                     /* targets in range, resume */\n    dir = sc;\n  }\n  closest = Infinity;\n}\n\n/* new corner function to move to a different corner */\nfunction new_corner() {\n  var x, y;\n\n  var rand = Math.floor(Math.random() * 4);           /* pick a random corner */\n  if (rand == corner)       /* but make it different than the */\n    corner = (rand + 1) % 4;/* current corner */\n  else\n    corner = rand;\n  if (corner == 0) {       /* set new x,y and scan start */\n    x = c1x;\n    y = c1y;\n    sc = s1;\n  }\n  if (corner == 1) {\n    x = c2x;\n    y = c2y;\n    sc = s2;\n  }\n  if (corner == 2) {\n    x = c3x;\n    y = c3y;\n    sc = s3;\n  }\n  if (corner == 3) {\n    x = c4x;\n    y = c4y;\n    sc = s4;\n  }\n\n  /* find the heading we need to get to the desired corner */\n  var angle = plot_course(x,y);\n\n  /* start drive train, full speed */\n\n  /* keep traveling until we are within 15 meters */\n  /* speed is checked in case we run into wall, other robot */\n  /* not terribly great, since were are doing nothing while moving */\n\n  while (distance(loc_x(), loc_y(), x, y) > 15)\n    drive(angle, 100);\n\n  /* cut speed, and creep the rest of the way */\n\n  while (distance(loc_x(), loc_y(), x, y) > 1)\n    drive(angle, 20);\n\n  /* stop drive, should coast in the rest of the way */\n  drive(angle, 0);\n}  /* end of new_corner */\n\n/* classical pythagorean distance formula */\nfunction distance(x1, y1, x2, y2) {\n  var x = x1 - x2;\n  var y = y1 - y2;\n  return Math.sqrt((x * x) + (y * y));\n}\n\n/* plot course function, return degree heading to */\n/* reach destination x, y; uses atan() trig function */\nfunction plot_course(xx, yy) {\n  var d;\n  var x,y;\n  var curx, cury;\n\n  curx = loc_x();  /* get current location */\n  cury = loc_y();\n  x = curx - xx;\n  y = cury - yy;\n\n  /* atan only returns -90 to +90, so figure out how to use */\n  /* the atan() value */\n\n  if (x == 0) {      /* x is zero, we either move due north or south */\n    if (yy > cury)\n      d = 90;        /* north */\n    else\n      d = 270;       /* south */\n  } else {\n    if (yy < cury) {\n      if (xx > curx)\n        d = 360 + Math.atan_deg(y / x);  /* south-east, quadrant 4 */\n      else\n        d = 180 + Math.atan_deg(y / x);  /* south-west, quadrant 3 */\n    } else {\n      if (xx > curx)\n        d = Math.atan_deg(y / x);        /* north-east, quadrant 1 */\n      else\n        d = 180 + Math.atan_deg(y / x);  /* north-west, quadrant 2 */\n    }\n  }\n  return d;\n}\n</div>\n\n<div id="playerPendulum" style="display: none">\n/* Slowly moves east and west.  Does not fire. */\nvar west = false;\nwhile (true) {\n  if (west) {\n    if (loc_x() > 15) {\n      drive(180, 25);\n    } else {\n      west = false;\n      drive(0, 0);\n    }\n  } else {\n    if (loc_x() < 75) {\n      drive(0, 25);\n    } else {\n      west = true;\n      drive(0, 0);\n    }\n  }\n}\n</div>\n\n<div id="playerScared" style="display: none">\n/* Moves south-west when hit.  Does not fire. */\nvar d = damage();\nwhile (true) {\n  if (d != damage()) {\n    drive(315, 100);\n    var t = 0;\n    for (var t = 0; t < 100; t++) {}\n    d = damage();\n    drive(0, 0);\n  }\n}\n</div>\n<div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="dialogDone" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;">Onnittelut!</div><div id="dialogLinesText" style="font-size: large; margin: 1em;"></div><pre id="containerCode"></pre><div id="dialogDoneText" style="font-size: large; margin: 1em;"></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0"><button id="doneCancel">Peru</button><button id="doneOk" class="secondary">OK</button></div></div>'+
('<div id="dialogStorage" class="dialogHiddenContent"><div id="containerStorage"></div>'+rc()+"</div>")+(3==b?'<div id="helpUseScan" class="dialogHiddenContent"><div style="padding-bottom: 0.7ex">Ratkaisusi toimii mutta osaatko tehd\u00e4 sen paremmin. K\u00e4yt\u00e4 \'scan\' toimintoa jotta voit m\u00e4\u00e4ritt\u00e4\u00e4 kuinka kauas tykin pit\u00e4\u00e4 ampua.</div>'+rc()+"</div>":"")+'<div id="help" class="dialogHiddenContent"><div style="padding-bottom: 0.7ex">'+(1==b?"K\u00e4yt\u00e4 'cannon' komentoa osuaksesi kohteeseen. Ensimm\u00e4inen parametri on kulma, toinen parametri on et\u00e4isyys. Koita l\u00f6yt\u00e4\u00e4 oikea yhdistelm\u00e4.<pre>cannon(0, 70);</pre>":
2==b?"T\u00e4h\u00e4n maaliin pit\u00e4\u00e4 osua useita kertoja. K\u00e4yt\u00e4 'while (true)' lohkoa  toistaaksesi jotain ikuisesti.<pre>while (true) {\n  ...\n}</pre>":3==b?"T\u00e4m\u00e4 vastustaja liikkuu edestakaisin ja on siihen on siksi vaikea osua. 'scan' toiminto palauttaa tarkan et\u00e4isyyden vastustajaan m\u00e4\u00e4riteltyyn suuntaan.<pre>scan(0, 5)</pre>T\u00e4m\u00e4 et\u00e4isyys on juuri mit\u00e4 'cannon' komento tarvitsee ampuakseen tarkasti.":4==b?"T\u00e4m\u00e4 vastustaja on liian kaukana jotta voisit k\u00e4ytt\u00e4\u00e4 kanuunaa (kantama on 70 metri\u00e4). Joudut siksi k\u00e4ytt\u00e4m\u00e4\u00e4n 'swim' toimintoa uidaksesi vastustajaa kohti ja t\u00f6rm\u00e4t\u00e4ksesi siihen.<pre>swim(0, 50);</pre>":
5==b?"T\u00e4m\u00e4 vihollinen on my\u00f6s liian kaukana jotta kanuunaa voisi k\u00e4ytt\u00e4\u00e4. Olet my\u00f6s liian heikko selviyty\u00e4ksesi yhteent\u00f6rm\u00e4yksest\u00e4. Ui vastustajaa kohti kunnes et\u00e4isyys on v\u00e4hemm\u00e4n kuin 50. Pys\u00e4hdy sitter ja k\u00e4yt\u00e4 kanuunaa.<pre>loc_x() &lt; 50</pre><pre>stop();</pre>":6==b?"T\u00e4m\u00e4 vihollinen siirtyy kauemmas kun saa osuman. Ui sit\u00e4 kohti jos se on ampumas\u00e4teen ulkopuolella (70 metri\u00e4).":7==
b?"J\u00e4nis juoksentelee satunnaisesti. Onnistutko osumaan siihen?":8==b?"Rook tappelee takaisin. Se kuitenkin katsoo vain pohjoiseen, etel\u00e4\u00e4n, it\u00e4\u00e4n ja l\u00e4nteen.":9==b?"'Counter' katselee jokaiseen suuntaan. Osaatko k\u00e4ytt\u00e4\u00e4 kahta vastustajaa yht\u00e4aikaa?":10==b?"Sniper on piilossa nurkassa etsim\u00e4ss\u00e4 kohteita. Onnea. Todellakin.":"")+"</div>"+rc()+"</div>"};
// Copyright 2012 Google Inc.  Apache License 2.0
var vc={},I,wc,J,xc,yc,zc,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,Ic,Jc;
// Copyright 2012 Google Inc.  Apache License 2.0
function Kc(){this.jd=[]}f=Kc.prototype;f.v=!1;f.jg=Infinity;f.j=function(){this.clear()};f.pd=function(a){this.jd.push(a);this.Jb()};f.df=function(a){for(var b=!1,c,d=0;c=this.jd[d];d++)if(c==a){this.jd.splice(d,1);b=!0;break}if(!b)throw"Block not present in workspace's list of top-most blocks.";this.Jb()};function Lc(a,b){var c=[].concat(a.jd);if(b&&1<c.length){var d=Math.sin(3*Math.PI/180);I&&(d*=-1);c.sort(function(a,b){var c=a.Q(),k=b.Q();return c.y+d*c.x-(k.y+d*k.x)})}return c}
f.rc=function(){for(var a=Lc(this,!1),b=0;b<a.length;b++)a.push.apply(a,a[b].uc());return a};f.clear=function(){for(;this.jd.length;)this.jd[0].j()};f.Be=function(){return 0};function Mc(a,b){for(var c=a.rc(),d=0,e;e=c[d];d++)if(e.id==b)return e;return null}function Nc(a){return Infinity==a.jg?Infinity:a.jg-a.rc().length}f.Jb=function(){};
// Copyright 2012 Google Inc.  Apache License 2.0
function Oc(a){this.Wd=new Nb(0,25);this.Rb(a)}f=Oc.prototype;f.k=null;f.O=!0;f.clone=function(){Ja("There should never be an instance of Field, only its derived classes.")};f.ld=!0;f.U=function(a){this.k||(this.k=a,this.Ja=K("g",{},null),this.O||(this.Ja.style.display="none"),this.Bf=K("rect",{rx:4,ry:4,x:-5,y:-12,height:16},this.Ja),this.ya=K("text",{"class":"blocklyText"},this.Ja),this.Nc(),a.J().appendChild(this.Ja),this.kg=L(this.Ja,"mouseup",this,this.pg),Pc(this))};
f.j=function(){this.kg&&(M(this.kg),this.kg=null);this.k=null;G(this.Ja);this.Bf=this.ya=this.Ja=null};f.Nc=function(){this.ld&&(this.k.Tc&&!N?(Qc(this.Ja,"blocklyEditableText"),Rc(this.Ja,"blocklyNoNEditableText"),this.Ja.style.cursor=this.wl):(Qc(this.Ja,"blocklyNonEditableText"),Rc(this.Ja,"blocklyEditableText"),this.Ja.style.cursor=""))};f.w=function(){return this.O};f.F=function(a){if(this.O!=a){this.O=a;var b=this.J();b&&(b.style.display=a?"block":"none",this.Pd())}};f.J=function(){return this.Ja};
f.Pd=function(){if(this.O&&this.ya){try{var a=this.ya.getComputedTextLength()}catch(b){a=8*this.ya.textContent.length}this.Bf&&this.Bf.setAttribute("width",a+10)}else a=0;this.Wd.width=a};f.Qh=function(){this.Wd.width||this.Pd();return this.Wd};f.Kb=function(){return this.tb};f.Rb=function(a){null!==a&&a!==this.tb&&(this.tb=a,Pc(this),this.k&&this.k.v&&(this.k.L(),this.k.Na(),this.k.t.Jb()))};
function Pc(a){if(a.ya){var b=a.tb;dc(a.ya);b=b.replace(/\s/g,"\u00a0");I&&b&&(b+="\u200f");b||(b="\u00a0");a.ya.appendChild(document.createTextNode(b));a.Wd.width=0}}f.Rh=function(){return this.Kb()};f.gd=function(a){this.Rb(a)};f.pg=function(a){if(!Gb&&!Hb||A("537.51.2")||0===a.layerX||0===a.layerY)Sc(a)||2!=Tc&&this.k.Tc&&!N&&this.fm()};f.gf=function(){};
// Copyright 2012 Google Inc.  Apache License 2.0
function Uc(a){a=a.rc();for(var b=[],c=[],d=0;d<a.length;d++){var e=a[d].Ql;e&&(e=e.call(a[d]))&&(e[2]?b.push(e):c.push(e))}c.sort(Vc);b.sort(Vc);return[c,b]}function Vc(a,b){var c=a[0].toLowerCase(),d=b[0].toLowerCase();return c>d?1:c<d?-1:0}
function Wc(a,b,c,d){function e(e,g){for(var l=0;l<e.length;l++){var r=Xc(d,g);Yc(r,"NAME").gd(e[l][0]);for(var v=[],p=0;p<e[l][1].length;p++)v[p]="ARG"+p;r.em(e[l][1],v);r.Nb();a.push(r);b.push(2*c)}}if(Zc.procedures_defnoreturn){var g=Xc(d,"procedures_defnoreturn");g.Nb();a.push(g);b.push(2*c)}Zc.procedures_defreturn&&(g=Xc(d,"procedures_defreturn"),g.Nb(),a.push(g),b.push(2*c));Zc.procedures_ifreturn&&(g=Xc(d,"procedures_ifreturn"),g.Nb(),a.push(g),b.push(2*c));b.length&&(b[b.length-1]=3*c);g=
Uc(d.Ji);e(g[0],"procedures_callnoreturn");e(g[1],"procedures_callreturn")};function $c(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}f=$c.prototype;f.Be=function(){return this.right-this.left};f.clone=function(){return new $c(this.top,this.right,this.bottom,this.left)};f.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};
f.contains=function(a){return this&&a?a instanceof $c?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};f.expand=function(a,b,c,d){fa(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=b,this.bottom+=c,this.left-=d);return this};
f.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};f.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};f.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};
f.translate=function(a,b){a instanceof B?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,q(b)&&(this.top+=b,this.bottom+=b));return this};f.scale=function(a,b){var c=q(b)?b:a;this.left*=a;this.right*=a;this.top*=c;this.bottom*=c;return this};function ad(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}f=ad.prototype;f.clone=function(){return new ad(this.left,this.top,this.width,this.height)};f.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"};f.contains=function(a){return a instanceof ad?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};
f.Qh=function(){return new Nb(this.width,this.height)};f.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};f.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
f.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};f.translate=function(a,b){a instanceof B?(this.left+=a.x,this.top+=a.y):(this.left+=a,q(b)&&(this.top+=b));return this};f.scale=function(a,b){var c=q(b)?b:a;this.left*=a;this.width*=a;this.top*=c;this.height*=c;return this};function bd(a,b){var c=Xb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function cd(a,b){return bd(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}function dd(){var a=document,b=a.body,a=a.documentElement;return new B(b.scrollLeft||a.scrollLeft,b.scrollTop||a.scrollTop)}
function ed(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}y&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function fd(a){var b=Xb(a);cd(a,"position");var c=new B(0,0),d;d=b?Xb(b):document;var e;(e=!y||y&&9<=Mb)||(e="CSS1Compat"==Vb(d).Ib.compatMode);if(a==(e?d.documentElement:d.body))return c;a=ed(a);d=Vb(b).Ib;b=z||"CSS1Compat"!=d.compatMode?d.body||d.documentElement:d.documentElement;d=d.parentWindow||d.defaultView;b=y&&A("10")&&d.pageYOffset!=b.scrollTop?new B(b.scrollLeft,b.scrollTop):new B(d.pageXOffset||b.scrollLeft,d.pageYOffset||b.scrollTop);c.x=a.left+b.x;c.y=a.top+b.y;return c}
function gd(a){var b=hd;if("none"!=cd(a,"display"))return b(a);var c=a.style,d=c.display,e=c.visibility,g=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=g;c.visibility=e;return a}function hd(a){var b=a.offsetWidth,c=a.offsetHeight,d=z&&!b&&!c;return(void 0===b||d)&&a.getBoundingClientRect?(a=ed(a),new Nb(a.right-a.left,a.bottom-a.top)):new Nb(b,c)}function id(a){var b=fd(a);a=gd(a);return new ad(b.x,b.y,a.width,a.height)}
function jd(a,b){a.style.display=b?"":"none"}var kd=Db?"MozUserSelect":z?"WebkitUserSelect":null;function ld(a,b,c){c=c?null:a.getElementsByTagName("*");if(kd){if(b=b?"none":"",a.style[kd]=b,c){a=0;for(var d;d=c[a];a++)d.style[kd]=b}}else if(y||Cb)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)}var md={thin:2,medium:4,thick:6};
function nd(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null,d;if(c in md)d=md[c];else if(/^\d+px?$/.test(c))d=parseInt(c,10);else{d=a.style.left;var e=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=c;c=a.style.pixelLeft;a.style.left=d;a.runtimeStyle.left=e;d=c}return d}
function od(a){if(y&&!(y&&9<=Mb)){var b=nd(a,"borderLeft"),c=nd(a,"borderRight"),d=nd(a,"borderTop");a=nd(a,"borderBottom");return new $c(d,c,a,b)}b=bd(a,"borderLeftWidth");c=bd(a,"borderRightWidth");d=bd(a,"borderTopWidth");a=bd(a,"borderBottomWidth");return new $c(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))};var pd="closure_listenable_"+(1E6*Math.random()|0),qd=0;function rd(a,b,c,d,e){this.yc=a;this.Xe=null;this.src=b;this.type=c;this.le=!!d;this.De=e;this.key=++qd;this.dd=this.ke=!1}function sd(a){a.dd=!0;a.yc=null;a.Xe=null;a.src=null;a.De=null};function td(a){this.src=a;this.Fa={};this.ce=0}td.prototype.add=function(a,b,c,d,e){var g=a.toString();a=this.Fa[g];a||(a=this.Fa[g]=[],this.ce++);var h=ud(a,b,d,e);-1<h?(b=a[h],c||(b.ke=!1)):(b=new rd(b,this.src,g,!!d,e),b.ke=c,a.push(b));return b};td.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.Fa))return!1;var e=this.Fa[a];b=ud(e,b,c,d);return-1<b?(sd(e[b]),x.splice.call(e,b,1),0==e.length&&(delete this.Fa[a],this.ce--),!0):!1};
function vd(a,b){var c=b.type;if(!(c in a.Fa))return!1;var d=Va(a.Fa[c],b);d&&(sd(b),0==a.Fa[c].length&&(delete a.Fa[c],a.ce--));return d}td.prototype.bf=function(a){a=a&&a.toString();var b=0,c;for(c in this.Fa)if(!a||c==a){for(var d=this.Fa[c],e=0;e<d.length;e++)++b,sd(d[e]);delete this.Fa[c];this.ce--}return b};td.prototype.yd=function(a,b,c,d){a=this.Fa[a.toString()];var e=-1;a&&(e=ud(a,b,c,d));return-1<e?a[e]:null};
function ud(a,b,c,d){for(var e=0;e<a.length;++e){var g=a[e];if(!g.dd&&g.yc==b&&g.le==!!c&&g.De==d)return e}return-1};var wd=!y||y&&9<=Mb,xd=!y||y&&9<=Mb,yd=y&&!A("9");!z||A("528");Db&&A("1.9b")||y&&A("8")||Cb&&A("9.5")||z&&A("528");Db&&!A("8")||y&&A("9");var zd="ontouchstart"in m||!!(m.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!m.navigator||!m.navigator.msMaxTouchPoints);function Ad(){0!=Bd&&(Cd[ga(this)]=this);this.rd=this.rd;this.Qe=this.Qe}var Bd=0,Cd={};Ad.prototype.rd=!1;Ad.prototype.j=function(){if(!this.rd&&(this.rd=!0,this.na(),0!=Bd)){var a=ga(this);delete Cd[a]}};Ad.prototype.na=function(){if(this.Qe)for(;this.Qe.length;)this.Qe.shift()()};function Dd(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Cc=!1;this.yi=!0}Dd.prototype.stopPropagation=function(){this.Cc=!0};Dd.prototype.preventDefault=function(){this.defaultPrevented=!0;this.yi=!1};function Ed(a){Ed[" "](a);return a}Ed[" "]=aa;function Fd(a,b){Dd.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.rg=!1;this.Ba=null;a&&this.U(a,b)}w(Fd,Dd);var Gd=[1,4,2];f=Fd.prototype;
f.U=function(a,b){this.Ba=a;var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(Db){var e;a:{try{Ed(d.nodeName);e=!0;break a}catch(g){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;Object.defineProperties?Object.defineProperties(this,{offsetX:{configurable:!0,enumerable:!0,get:this.Oh,set:this.Tk},offsetY:{configurable:!0,enumerable:!0,get:this.Ph,set:this.Uk}}):(this.offsetX=this.Oh(),
this.offsetY=this.Ph());this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.rg=Eb?a.metaKey:a.ctrlKey;this.state=a.state;a.defaultPrevented&&this.preventDefault()};
function Hd(a){return wd?0==a.Ba.button:"click"==a.type?!0:!!(a.Ba.button&Gd[0])}f.stopPropagation=function(){Fd.i.stopPropagation.call(this);this.Ba.stopPropagation?this.Ba.stopPropagation():this.Ba.cancelBubble=!0};f.preventDefault=function(){Fd.i.preventDefault.call(this);var a=this.Ba;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,yd)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};f.Oh=function(){return z||void 0!==this.Ba.offsetX?this.Ba.offsetX:this.Ba.layerX};
f.Tk=function(a){Object.defineProperties(this,{offsetX:{writable:!0,enumerable:!0,configurable:!0,value:a}})};f.Ph=function(){return z||void 0!==this.Ba.offsetY?this.Ba.offsetY:this.Ba.layerY};f.Uk=function(a){Object.defineProperties(this,{offsetY:{writable:!0,enumerable:!0,configurable:!0,value:a}})};var Id="closure_lm_"+(1E6*Math.random()|0),Jd={},Kd=0;function Ld(a,b,c,d,e){if(da(b)){for(var g=0;g<b.length;g++)Ld(a,b[g],c,d,e);return null}c=Md(c);if(a&&a[pd])a=a.D(b,c,d,e);else{if(!b)throw Error("Invalid event type");var g=!!d,h=Nd(a);h||(a[Id]=h=new td(a));c=h.add(b,c,!1,d,e);c.Xe||(d=Od(),c.Xe=d,d.src=a,d.yc=c,a.addEventListener?a.addEventListener(b.toString(),d,g):a.attachEvent(Pd(b.toString()),d),Kd++);a=c}return a}
function Od(){var a=Qd,b=xd?function(c){return a.call(b.src,b.yc,c)}:function(c){c=a.call(b.src,b.yc,c);if(!c)return c};return b}function Rd(a,b,c,d,e){if(da(b))for(var g=0;g<b.length;g++)Rd(a,b[g],c,d,e);else c=Md(c),a&&a[pd]?a.ab(b,c,d,e):a&&(a=Nd(a))&&(b=a.yd(b,c,!!d,e))&&Sd(b)}
function Sd(a){if(q(a)||!a||a.dd)return!1;var b=a.src;if(b&&b[pd])return vd(b.Wb,a);var c=a.type,d=a.Xe;b.removeEventListener?b.removeEventListener(c,d,a.le):b.detachEvent&&b.detachEvent(Pd(c),d);Kd--;(c=Nd(b))?(vd(c,a),0==c.ce&&(c.src=null,b[Id]=null)):sd(a);return!0}function Pd(a){return a in Jd?Jd[a]:Jd[a]="on"+a}function Td(a,b,c,d){var e=!0;if(a=Nd(a))if(b=a.Fa[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var g=b[a];g&&g.le==c&&!g.dd&&(g=Ud(g,d),e=e&&!1!==g)}return e}
function Ud(a,b){var c=a.yc,d=a.De||a.src;a.ke&&Sd(a);return c.call(d,b)}
function Qd(a,b){if(a.dd)return!0;if(!xd){var c;if(!(c=b))a:{c=["window","event"];for(var d=m,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new Fd(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var g=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(h){g=!0}if(g||void 0==e.returnValue)e.returnValue=!0}e=[];for(g=c.currentTarget;g;g=g.parentNode)e.push(g);for(var g=a.type,k=e.length-1;!c.Cc&&0<=k;k--){c.currentTarget=e[k];var l=Td(e[k],g,!0,c),d=d&&l}for(k=0;!c.Cc&&k<
e.length;k++)c.currentTarget=e[k],l=Td(e[k],g,!1,c),d=d&&l}return d}return Ud(a,new Fd(b,this))}function Nd(a){a=a[Id];return a instanceof td?a:null}var Vd="__closure_events_fn_"+(1E9*Math.random()>>>0);function Md(a){if(u(a))return a;a[Vd]||(a[Vd]=function(b){return a.handleEvent(b)});return a[Vd]};function Wd(a){Ad.call(this);this.Uh=a;this.Me={}}w(Wd,Ad);var Xd=[];f=Wd.prototype;f.D=function(a,b,c,d){da(b)||(b&&(Xd[0]=b.toString()),b=Xd);for(var e=0;e<b.length;e++){var g=Ld(a,b[e],c||this.handleEvent,d||!1,this.Uh||this);if(!g)break;this.Me[g.key]=g}return this};
f.ab=function(a,b,c,d,e){if(da(b))for(var g=0;g<b.length;g++)this.ab(a,b[g],c,d,e);else c=c||this.handleEvent,e=e||this.Uh||this,c=Md(c),d=!!d,b=a&&a[pd]?a.yd(b,c,d,e):a?(a=Nd(a))?a.yd(b,c,d,e):null:null,b&&(Sd(b),delete this.Me[b.key]);return this};f.bf=function(){gb(this.Me,Sd);this.Me={}};f.na=function(){Wd.i.na.call(this);this.bf()};f.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Yd(){}ba(Yd);Yd.prototype.yk=0;function Zd(){Ad.call(this);this.Wb=new td(this);this.hj=this;this.qg=null}w(Zd,Ad);Zd.prototype[pd]=!0;f=Zd.prototype;f.ze=function(){return this.qg};f.Dg=function(a){this.qg=a};f.addEventListener=function(a,b,c,d){Ld(this,a,b,c,d)};f.removeEventListener=function(a,b,c,d){Rd(this,a,b,c,d)};
f.dispatchEvent=function(a){var b,c=this.ze();if(c)for(b=[];c;c=c.ze())b.push(c);var c=this.hj,d=a.type||a;if(n(a))a=new Dd(a,c);else if(a instanceof Dd)a.target=a.target||c;else{var e=a;a=new Dd(d,c);jb(a,e)}var e=!0,g;if(b)for(var h=b.length-1;!a.Cc&&0<=h;h--)g=a.currentTarget=b[h],e=$d(g,d,!0,a)&&e;a.Cc||(g=a.currentTarget=c,e=$d(g,d,!0,a)&&e,a.Cc||(e=$d(g,d,!1,a)&&e));if(b)for(h=0;!a.Cc&&h<b.length;h++)g=a.currentTarget=b[h],e=$d(g,d,!1,a)&&e;return e};
f.na=function(){Zd.i.na.call(this);this.Wb&&this.Wb.bf(void 0);this.qg=null};f.D=function(a,b,c,d){return this.Wb.add(String(a),b,!1,c,d)};f.ab=function(a,b,c,d){return this.Wb.remove(String(a),b,c,d)};function $d(a,b,c,d){b=a.Wb.Fa[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,g=0;g<b.length;++g){var h=b[g];if(h&&!h.dd&&h.le==c){var k=h.yc,l=h.De||h.src;h.ke&&vd(a.Wb,h);e=!1!==k.call(l,d)&&e}}return e&&0!=d.yi}f.yd=function(a,b,c,d){return this.Wb.yd(String(a),b,c,d)};function ae(a){Zd.call(this);this.pe=a||Vb();this.ff=be;this.Fe=null;this.B=!1;this.u=null;this.Zb=void 0;this.Ub=this.S=this.xa=this.Oe=null;this.rl=!1}w(ae,Zd);ae.prototype.hk=Yd.Xb();var be=null;
function ce(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");}function de(a){return a.Fe||(a.Fe=":"+(a.hk.yk++).toString(36))}f=ae.prototype;f.h=function(){return this.u};function ee(a){a.Zb||(a.Zb=new Wd(a));return a.Zb}
f.Ga=function(a){if(this==a)throw Error("Unable to set parent component");if(a&&this.xa&&this.Fe&&fe(this.xa,this.Fe)&&this.xa!=a)throw Error("Unable to set parent component");this.xa=a;ae.i.Dg.call(this,a)};f.getParent=function(){return this.xa};f.Dg=function(a){if(this.xa&&this.xa!=a)throw Error("Method not supported");ae.i.Dg.call(this,a)};f.pb=function(){return this.pe};f.G=function(){this.u=this.pe.createElement("div")};f.L=function(a){this.Pd(a)};
f.Pd=function(a,b){if(this.B)throw Error("Component already rendered");this.u||this.G();a?a.insertBefore(this.u,b||null):this.pe.Ib.body.appendChild(this.u);this.xa&&!this.xa.B||this.oa()};f.oa=function(){this.B=!0;ge(this,function(a){!a.B&&a.h()&&a.oa()})};f.Ya=function(){ge(this,function(a){a.B&&a.Ya()});this.Zb&&this.Zb.bf();this.B=!1};
f.na=function(){this.B&&this.Ya();this.Zb&&(this.Zb.j(),delete this.Zb);ge(this,function(a){a.j()});!this.rl&&this.u&&G(this.u);this.xa=this.Oe=this.u=this.Ub=this.S=null;ae.i.na.call(this)};f.sf=function(a,b){this.Pc(a,he(this),b)};
f.Pc=function(a,b,c){if(a.B&&(c||!this.B))throw Error("Component already rendered");if(0>b||b>he(this))throw Error("Child component index out of bounds");this.Ub&&this.S||(this.Ub={},this.S=[]);if(a.getParent()==this){var d=de(a);this.Ub[d]=a;Va(this.S,a)}else{var d=this.Ub,e=de(a);if(e in d)throw Error('The object already contains the key "'+e+'"');d[e]=a}a.Ga(this);Xa(this.S,b,0,a);a.B&&this.B&&a.getParent()==this?(c=this.mb(),b=c.childNodes[b]||null,b!=a.h()&&c.insertBefore(a.h(),b)):c?(this.u||
this.G(),b=O(this,b+1),a.Pd(this.mb(),b?b.u:null)):this.B&&!a.B&&a.u&&a.u.parentNode&&1==a.u.parentNode.nodeType&&a.oa()};f.mb=function(){return this.u};function ie(a){null==a.ff&&(a.ff="rtl"==cd(a.B?a.u:a.pe.Ib.body,"direction"));return a.ff}f.Td=function(a){if(this.B)throw Error("Component already rendered");this.ff=a};function je(a){return!!a.S&&0!=a.S.length}function he(a){return a.S?a.S.length:0}function fe(a,b){var c;a.Ub&&b?(c=a.Ub,c=(b in c?c[b]:void 0)||null):c=null;return c}
function O(a,b){return a.S?a.S[b]||null:null}function ge(a,b,c){a.S&&Qa(a.S,b,c)}function ke(a,b){return a.S&&b?Pa(a.S,b):-1}f.removeChild=function(a,b){if(a){var c=n(a)?a:de(a);a=fe(this,c);if(c&&a){var d=this.Ub;c in d&&delete d[c];Va(this.S,a);b&&(a.Ya(),a.u&&G(a.u));a.Ga(null)}}if(!a)throw Error("Child is not in parent component");return a};f.xi=function(a){for(var b=[];je(this);)b.push(this.removeChild(O(this,0),a));return b};function le(a){if(a.classList)return a.classList;a=a.className;return n(a)&&a.match(/\S+/g)||[]}function me(a,b){return a.classList?a.classList.contains(b):Ua(le(a),b)}function ne(a,b){a.classList?a.classList.add(b):me(a,b)||(a.className+=0<a.className.length?" "+b:b)}function oe(a,b){if(a.classList)Qa(b,function(b){ne(a,b)});else{var c={};Qa(le(a),function(a){c[a]=!0});Qa(b,function(a){c[a]=!0});a.className="";for(var d in c)a.className+=0<a.className.length?" "+d:d}}
function pe(a,b){a.classList?a.classList.remove(b):me(a,b)&&(a.className=Ra(le(a),function(a){return a!=b}).join(" "))}function qe(a,b){a.classList?Qa(b,function(b){pe(a,b)}):a.className=Ra(le(a),function(a){return!Ua(b,a)}).join(" ")};function re(a,b){if(!a)throw Error("Invalid class name "+a);if(!u(b))throw Error("Invalid decorator function "+b);}var se={};var te;function ue(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}function P(a,b,c){da(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(te||(te={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=te,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)};function ve(){}var we;ba(ve);var xe={button:"pressed",checkbox:"checked",menuitem:"selected",menuitemcheckbox:"checked",menuitemradio:"checked",radio:"checked",tab:"selected",treeitem:"selected"};f=ve.prototype;f.se=function(){};f.G=function(a){return a.pb().G("div",this.ve(a).join(" "),a.Gb)};f.mb=function(a){return a};f.sd=function(a,b,c){if(a=a.h?a.h():a){var d=[b];y&&!A("7")&&(d=ye(le(a),b),d.push(b));(c?oe:qe)(a,d)}};f.Hd=function(a){ie(a)&&this.Td(a.h(),!0);a.isEnabled()&&this.Ic(a,a.w())};
function ze(a,b,c){if(a=c||a.se())c=b.getAttribute("role")||null,a!=c&&ue(b,a)}function Ae(a,b,c){var d=b.$g;null!=d&&a.Ag(c,d);b.w()||P(c,"hidden",!b.w());b.isEnabled()||Be(c,1,!b.isEnabled());b.X&8&&Be(c,8,b.Je());b.X&16&&Be(c,16,!!(b.aa&16));b.X&64&&Be(c,64,b.$c())}f.Ag=function(a,b){P(a,"label",b)};f.zg=function(a,b){ld(a,!b,!y&&!Cb)};f.Td=function(a,b){this.sd(a,this.va()+"-rtl",b)};f.$b=function(a){var b;return a.X&32&&(b=a.ga())?ic(b)&&jc(b):!1};
f.Ic=function(a,b){var c;if(a.X&32&&(c=a.ga())){if(!b&&a.aa&32){try{c.blur()}catch(d){}a.aa&32&&a.Cd(null)}(ic(c)&&jc(c))!=b&&(b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex")))}};f.F=function(a,b){jd(a,b);a&&P(a,"hidden",!b)};f.Za=function(a,b,c){var d=a.h();if(d){var e=this.ue(b);e&&this.sd(a,e,c);Be(d,b,c)}};
function Be(a,b,c){we||(we={1:"disabled",8:"selected",16:"checked",64:"expanded"});b=we[b];var d=a.getAttribute("role")||null;d&&(d=xe[d]||b,b="checked"==b||"selected"==b?d:b);b&&P(a,b,c)}f.ga=function(a){return a.h()};f.va=function(){return"goog-control"};f.ve=function(a){var b=this.va(),c=[b],d=this.va();d!=b&&c.push(d);b=a.aa;for(d=[];b;){var e=b&-b;d.push(this.ue(e));b&=~e}c.push.apply(c,d);(a=a.zb)&&c.push.apply(c,a);y&&!A("7")&&c.push.apply(c,ye(c));return c};
function ye(a,b){var c=[];b&&(a=a.concat([b]));Qa([],function(d){!Ta(d,ma(Ua,a))||b&&!Ua(d,b)||c.push(d.join("_"))});return c}f.ue=function(a){if(!this.hh){var b=this.va();b.replace(/\xa0|\s/g," ");this.hh={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}}return this.hh[a]};function Ce(a,b,c,d,e){if(!(y||z&&A("525")))return!0;if(Eb&&e)return De(a);if(e&&!d)return!1;q(b)&&(b=Ee(b));if(!c&&(17==b||18==b||Eb&&91==b))return!1;if(z&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(y&&d&&b==a)return!1;switch(a){case 13:return!0;case 27:return!z}return De(a)}
function De(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||z&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function Ee(a){if(Db)a=Fe(a);else if(Eb&&z)a:switch(a){case 93:a=91;break a}return a}
function Fe(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function Ge(a,b){Zd.call(this);a&&He(this,a,b)}w(Ge,Zd);f=Ge.prototype;f.u=null;f.Ke=null;f.eg=null;f.Le=null;f.Pa=-1;f.bc=-1;f.wf=!1;
var Ie={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Je={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Ke=y||z&&A("525"),Le=Eb&&Db;f=Ge.prototype;
f.$j=function(a){z&&(17==this.Pa&&!a.ctrlKey||18==this.Pa&&!a.altKey||Eb&&91==this.Pa&&!a.metaKey)&&(this.bc=this.Pa=-1);-1==this.Pa&&(a.ctrlKey&&17!=a.keyCode?this.Pa=17:a.altKey&&18!=a.keyCode?this.Pa=18:a.metaKey&&91!=a.keyCode&&(this.Pa=91));Ke&&!Ce(a.keyCode,this.Pa,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.bc=Ee(a.keyCode),Le&&(this.wf=a.altKey))};f.ak=function(a){this.bc=this.Pa=-1;this.wf=a.altKey};
f.handleEvent=function(a){var b=a.Ba,c,d,e=b.altKey;y&&"keypress"==a.type?(c=this.bc,d=13!=c&&27!=c?b.keyCode:0):z&&"keypress"==a.type?(c=this.bc,d=0<=b.charCode&&63232>b.charCode&&De(c)?b.charCode:0):Cb?(c=this.bc,d=De(c)?b.keyCode:0):(c=b.keyCode||this.bc,d=b.charCode||0,Le&&(e=this.wf),Eb&&63==d&&224==c&&(c=191));var g=c=Ee(c),h=b.keyIdentifier;c?63232<=c&&c in Ie?g=Ie[c]:25==c&&a.shiftKey&&(g=9):h&&h in Je&&(g=Je[h]);a=g==this.Pa;this.Pa=g;b=new Me(g,d,a,b);b.altKey=e;this.dispatchEvent(b)};
f.h=function(){return this.u};function He(a,b,c){a.Le&&a.detach();a.u=b;a.Ke=Ld(a.u,"keypress",a,c);a.eg=Ld(a.u,"keydown",a.$j,c,a);a.Le=Ld(a.u,"keyup",a.ak,c,a)}f.detach=function(){this.Ke&&(Sd(this.Ke),Sd(this.eg),Sd(this.Le),this.Le=this.eg=this.Ke=null);this.u=null;this.bc=this.Pa=-1};f.na=function(){Ge.i.na.call(this);this.detach()};function Me(a,b,c,d){Fd.call(this,d);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}w(Me,Fd);function Q(a,b,c){ae.call(this,c);if(!b){b=this.constructor;for(var d;b;){d=ga(b);if(d=se[d])break;b=b.i?b.i.constructor:null}b=d?u(d.Xb)?d.Xb():new d:null}this.C=b;this.Sk(void 0!==a?a:null);this.$g=null}w(Q,ae);f=Q.prototype;f.Gb=null;f.aa=0;f.X=39;f.pj=255;f.Yd=0;f.O=!0;f.zb=null;f.Fd=!0;f.vf=!1;f.Ik=null;f.ga=function(){return this.C.ga(this)};f.ye=function(){return this.wa||(this.wa=new Ge)};
f.sd=function(a,b){b?a&&(this.zb?Ua(this.zb,a)||this.zb.push(a):this.zb=[a],this.C.sd(this,a,!0)):a&&this.zb&&Va(this.zb,a)&&(0==this.zb.length&&(this.zb=null),this.C.sd(this,a,!1))};f.G=function(){var a=this.C.G(this);this.u=a;ze(this.C,a,this.Ae());this.vf||this.C.zg(a,!1);this.w()||this.C.F(a,!1)};f.Ae=function(){return this.Ik};f.Ag=function(a){this.$g=a;var b=this.h();b&&this.C.Ag(b,a)};f.mb=function(){return this.C.mb(this.h())};
f.oa=function(){Q.i.oa.call(this);Ae(this.C,this,this.u);this.C.Hd(this);if(this.X&-2&&(this.Fd&&Ne(this,!0),this.X&32)){var a=this.ga();if(a){var b=this.ye();He(b,a);ee(this).D(b,"key",this.qb).D(a,"focus",this.Ce).D(a,"blur",this.Cd)}}};
function Ne(a,b){var c=ee(a),d=a.h();b?(c.D(d,"mouseover",a.Zf).D(d,"mousedown",a.Ed).D(d,"mouseup",a.Gd).D(d,"mouseout",a.Yf),a.Dd!=aa&&c.D(d,"contextmenu",a.Dd),y&&c.D(d,"dblclick",a.Sh)):(c.ab(d,"mouseover",a.Zf).ab(d,"mousedown",a.Ed).ab(d,"mouseup",a.Gd).ab(d,"mouseout",a.Yf),a.Dd!=aa&&c.ab(d,"contextmenu",a.Dd),y&&c.ab(d,"dblclick",a.Sh))}f.Ya=function(){Q.i.Ya.call(this);this.wa&&this.wa.detach();this.w()&&this.isEnabled()&&this.C.Ic(this,!1)};
f.na=function(){Q.i.na.call(this);this.wa&&(this.wa.j(),delete this.wa);delete this.C;this.zb=this.Gb=null};f.Sk=function(a){this.Gb=a};f.Sf=function(){var a=this.Gb;if(!a)return"";if(!n(a))if(da(a))a=Sa(a,kc).join("");else{if(Rb&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];lc(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Rb||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""))}return sa(a)};
f.Td=function(a){Q.i.Td.call(this,a);var b=this.h();b&&this.C.Td(b,a)};f.zg=function(a){this.vf=a;var b=this.h();b&&this.C.zg(b,a)};f.w=function(){return this.O};f.F=function(a,b){if(b||this.O!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.h();c&&this.C.F(c,a);this.isEnabled()&&this.C.Ic(this,a);this.O=a;return!0}return!1};f.isEnabled=function(){return!(this.aa&1)};
f.Sd=function(a){var b=this.getParent();b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!Oe(this,1,!a)||(a||(this.setActive(!1),this.sb(!1)),this.w()&&this.C.Ic(this,a),this.Za(1,!a,!0))};f.sb=function(a){Oe(this,2,a)&&this.Za(2,a)};f.nk=function(){return!!(this.aa&4)};f.setActive=function(a){Oe(this,4,a)&&this.Za(4,a)};f.Je=function(){return!!(this.aa&8)};f.Vk=function(){Oe(this,8,!0)&&this.Za(8,!0)};f.$c=function(){return!!(this.aa&64)};function Pe(a,b){Oe(a,64,b)&&a.Za(64,b)}
f.Za=function(a,b,c){c||1!=a?this.X&a&&b!=!!(this.aa&a)&&(this.C.Za(this,a,b),this.aa=b?this.aa|a:this.aa&~a):this.Sd(!b)};f.Ra=function(a,b){if(this.B&&this.aa&a&&!b)throw Error("Component already rendered");!b&&this.aa&a&&this.Za(a,!1);this.X=b?this.X|a:this.X&~a};function Qe(a,b){return!!(a.pj&b)&&!!(a.X&b)}function Oe(a,b,c){return!!(a.X&b)&&!!(a.aa&b)!=c&&(!(a.Yd&b)||a.dispatchEvent(ce(b,c)))&&!a.rd}
f.Zf=function(a){!Re(a,this.h())&&this.dispatchEvent("enter")&&this.isEnabled()&&Qe(this,2)&&this.sb(!0)};f.Yf=function(a){!Re(a,this.h())&&this.dispatchEvent("leave")&&(Qe(this,4)&&this.setActive(!1),Qe(this,2)&&this.sb(!1))};f.Dd=aa;function Re(a,b){return!!a.relatedTarget&&fc(b,a.relatedTarget)}f.Ed=function(a){this.isEnabled()&&(Qe(this,2)&&this.sb(!0),!Hd(a)||z&&Eb&&a.ctrlKey||(Qe(this,4)&&this.setActive(!0),this.C.$b(this)&&this.ga().focus()));this.vf||!Hd(a)||z&&Eb&&a.ctrlKey||a.preventDefault()};
f.Gd=function(a){this.isEnabled()&&(Qe(this,2)&&this.sb(!0),this.nk()&&this.Ve(a)&&Qe(this,4)&&this.setActive(!1))};f.Sh=function(a){this.isEnabled()&&this.Ve(a)};f.Ve=function(a){if(Qe(this,16)){var b=!(this.aa&16);Oe(this,16,b)&&this.Za(16,b)}Qe(this,8)&&this.Vk();Qe(this,64)&&Pe(this,!this.$c());b=new Dd("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.rg=a.rg);return this.dispatchEvent(b)};
f.Ce=function(){Qe(this,32)&&Oe(this,32,!0)&&this.Za(32,!0)};f.Cd=function(){Qe(this,4)&&this.setActive(!1);Qe(this,32)&&Oe(this,32,!1)&&this.Za(32,!1)};f.qb=function(a){return this.w()&&this.isEnabled()&&this.vc(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};f.vc=function(a){return 13==a.keyCode&&this.Ve(a)};if(!u(Q))throw Error("Invalid component class "+Q);if(!u(ve))throw Error("Invalid renderer class "+ve);var Se=ga(Q);se[Se]=ve;re("goog-control",function(){return new Q(null)});function Te(){this.ih=[]}w(Te,ve);ba(Te);function Ue(a,b){var c=a.ih[b];if(!c){switch(b){case 0:c=a.va()+"-highlight";break;case 1:c=a.va()+"-checkbox";break;case 2:c=a.va()+"-content"}a.ih[b]=c}return c}f=Te.prototype;f.se=function(){return"menuitem"};f.G=function(a){var b=a.pb().G("div",this.ve(a).join(" "),Ve(this,a.Gb,a.pb()));We(this,a,b,!!(a.X&8)||!!(a.X&16));return b};f.mb=function(a){return a&&a.firstChild};function Ve(a,b,c){a=Ue(a,2);return c.G("div",a,b)}
f.Ci=function(a,b,c){a&&b&&We(this,a,b,c)};f.zi=function(a,b,c){a&&b&&We(this,a,b,c)};function We(a,b,c,d){ze(a,c,b.Ae());Ae(a,b,c);var e;if(e=a.mb(c)){e=e.firstChild;var g=Ue(a,1);e=!!e&&fa(e)&&1==e.nodeType&&me(e,g)}else e=!1;d!=e&&(d?ne(c,"goog-option"):pe(c,"goog-option"),c=a.mb(c),d?(a=Ue(a,1),c.insertBefore(b.pb().G("div",a),c.firstChild||null)):c.removeChild(c.firstChild))}
f.ue=function(a){switch(a){case 2:return Ue(this,0);case 16:case 8:return"goog-option-selected";default:return Te.i.ue.call(this,a)}};f.va=function(){return"goog-menuitem"};function Xe(a,b,c,d){Q.call(this,a,d||Te.Xb(),c);this.gd(b)}w(Xe,Q);f=Xe.prototype;f.Rh=function(){var a=this.Oe;return null!=a?a:this.Sf()};f.gd=function(a){this.Oe=a};f.Ra=function(a,b){Xe.i.Ra.call(this,a,b);switch(a){case 8:this.aa&16&&!b&&Oe(this,16,!1)&&this.Za(16,!1);var c=this.h();c&&this.C.Ci(this,c,b);break;case 16:(c=this.h())&&this.C.zi(this,c,b)}};f.Ci=function(a){this.Ra(8,a)};f.zi=function(a){this.Ra(16,a)};
f.Sf=function(){var a=this.Gb;return da(a)?(a=Sa(a,function(a){return fa(a)&&1==a.nodeType&&(me(a,"goog-menuitem-accel")||me(a,"goog-menuitem-mnemonic-separator"))?"":kc(a)}).join(""),sa(a)):Xe.i.Sf.call(this)};f.Gd=function(a){var b=this.getParent();if(b){var c=b.oi;b.oi=null;if(b=c&&q(a.clientX))b=new B(a.clientX,a.clientY),b=c==b?!0:c&&b?c.x==b.x&&c.y==b.y:!1;if(b)return}Xe.i.Gd.call(this,a)};f.vc=function(a){return a.keyCode==this.gi&&this.Ve(a)?!0:Xe.i.vc.call(this,a)};f.Sj=function(){return this.gi};
re("goog-menuitem",function(){return new Xe(null)});Xe.prototype.Ae=function(){return this.X&16?"menuitemcheckbox":this.X&8?"menuitemradio":Xe.i.Ae.call(this)};Xe.prototype.getParent=function(){return Q.prototype.getParent.call(this)};Xe.prototype.ze=function(){return Q.prototype.ze.call(this)};function Ye(a){this.ah=a}ba(Ye);f=Ye.prototype;f.se=function(){return this.ah};function Ze(a,b){a&&(a.tabIndex=b?0:-1)}f.G=function(a){return a.pb().G("div",this.ve(a).join(" "))};f.mb=function(a){return a};f.Hd=function(a){a=a.h();ld(a,!0,Db);y&&(a.hideFocus=!0);var b=this.se();b&&ue(a,b)};f.ga=function(a){return a.h()};f.va=function(){return"goog-container"};f.ve=function(a){var b=this.va(),c=[b,a.cd==$e?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};function af(){}w(af,ve);ba(af);af.prototype.G=function(a){return a.pb().G("div",this.va())};af.prototype.va=function(){return"goog-menuseparator"};function bf(a,b){Q.call(this,null,a||af.Xb(),b);this.Ra(1,!1);this.Ra(2,!1);this.Ra(4,!1);this.Ra(32,!1);this.aa=1}w(bf,Q);bf.prototype.oa=function(){bf.i.oa.call(this);var a=this.h();ue(a,"separator")};re("goog-menuseparator",function(){return new bf});function cf(a){this.ah=a||"menu"}w(cf,Ye);ba(cf);cf.prototype.va=function(){return"goog-menu"};cf.prototype.Hd=function(a){cf.i.Hd.call(this,a);a=a.h();P(a,"haspopup","true")};re("goog-menuseparator",function(){return new bf});function df(a,b,c){ae.call(this,c);this.C=b||Ye.Xb();this.cd=a||ef}w(df,ae);var $e="horizontal",ef="vertical";f=df.prototype;f.fg=null;f.wa=null;f.C=null;f.cd=null;f.O=!0;f.pc=!0;f.Qf=!0;f.N=-1;f.$=null;f.bd=!1;f.kj=!1;f.Fk=!0;f.Eb=null;f.ga=function(){return this.fg||this.C.ga(this)};f.ye=function(){return this.wa||(this.wa=new Ge(this.ga()))};f.G=function(){this.u=this.C.G(this)};f.mb=function(){return this.C.mb(this.h())};
f.oa=function(){df.i.oa.call(this);ge(this,function(a){a.B&&ff(this,a)},this);var a=this.h();this.C.Hd(this);this.F(this.O,!0);ee(this).D(this,"enter",this.Wf).D(this,"highlight",this.Zj).D(this,"unhighlight",this.dk).D(this,"open",this.bk).D(this,"close",this.Wj).D(a,"mousedown",this.Ed).D(Xb(a),"mouseup",this.Xj).D(a,["mousedown","mouseup","mouseover","mouseout","contextmenu"],this.Vj);this.$b()&&gf(this,!0)};
function gf(a,b){var c=ee(a),d=a.ga();b?c.D(d,"focus",a.Ce).D(d,"blur",a.Cd).D(a.ye(),"key",a.qb):c.ab(d,"focus",a.Ce).ab(d,"blur",a.Cd).ab(a.ye(),"key",a.qb)}f.Ya=function(){this.fd(-1);this.$&&Pe(this.$,!1);this.bd=!1;df.i.Ya.call(this)};f.na=function(){df.i.na.call(this);this.wa&&(this.wa.j(),this.wa=null);this.C=this.$=this.Eb=this.fg=null};f.Wf=function(){return!0};
f.Zj=function(a){var b=ke(this,a.target);if(-1<b&&b!=this.N){var c=O(this,this.N);c&&c.sb(!1);this.N=b;c=O(this,this.N);this.bd&&c.setActive(!0);this.Fk&&this.$&&c!=this.$&&(c.X&64?Pe(c,!0):Pe(this.$,!1))}b=this.h();null!=a.target.h()&&P(b,"activedescendant",a.target.h().id)};f.dk=function(a){a.target==O(this,this.N)&&(this.N=-1);this.h().removeAttribute("aria-activedescendant")};f.bk=function(a){(a=a.target)&&a!=this.$&&a.getParent()==this&&(this.$&&Pe(this.$,!1),this.$=a)};
f.Wj=function(a){a.target==this.$&&(this.$=null)};f.Ed=function(a){this.pc&&(this.bd=!0);var b=this.ga();b&&ic(b)&&jc(b)?b.focus():a.preventDefault()};f.Xj=function(){this.bd=!1};f.Vj=function(a){var b;a:{b=a.target;if(this.Eb)for(var c=this.h();b&&b!==c;){var d=b.id;if(d in this.Eb){b=this.Eb[d];break a}b=b.parentNode}b=null}if(b)switch(a.type){case "mousedown":b.Ed(a);break;case "mouseup":b.Gd(a);break;case "mouseover":b.Zf(a);break;case "mouseout":b.Yf(a);break;case "contextmenu":b.Dd(a)}};
f.Ce=function(){};f.Cd=function(){this.fd(-1);this.bd=!1;this.$&&Pe(this.$,!1)};f.qb=function(a){return this.isEnabled()&&this.w()&&(0!=he(this)||this.fg)&&this.vc(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
f.vc=function(a){var b=O(this,this.N);if(b&&"function"==typeof b.qb&&b.qb(a)||this.$&&this.$!=b&&"function"==typeof this.$.qb&&this.$.qb(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.$b())this.ga().blur();else return!1;break;case 36:hf(this);break;case 35:jf(this);break;case 38:if(this.cd==ef)kf(this);else return!1;break;case 37:if(this.cd==$e)ie(this)?lf(this):kf(this);else return!1;break;case 40:if(this.cd==ef)lf(this);else return!1;break;case 39:if(this.cd==
$e)ie(this)?kf(this):lf(this);else return!1;break;default:return!1}return!0};function ff(a,b){var c=b.h(),c=c.id||(c.id=de(b));a.Eb||(a.Eb={});a.Eb[c]=b}f.sf=function(a,b){df.i.sf.call(this,a,b)};f.Pc=function(a,b,c){a.Yd|=2;a.Yd|=64;!this.$b()&&this.kj||a.Ra(32,!1);a.B&&0!=a.Fd&&Ne(a,!1);a.Fd=!1;var d=a.getParent()==this?ke(this,a):-1;df.i.Pc.call(this,a,b,c);a.B&&this.B&&ff(this,a);a=d;-1==a&&(a=he(this));a==this.N?this.N=Math.min(he(this)-1,b):a>this.N&&b<=this.N?this.N++:a<this.N&&b>this.N&&this.N--};
f.removeChild=function(a,b){if(a=n(a)?fe(this,a):a){var c=ke(this,a);-1!=c&&(c==this.N?(a.sb(!1),this.N=-1):c<this.N&&this.N--);var d=a.h();d&&d.id&&this.Eb&&(c=this.Eb,d=d.id,d in c&&delete c[d])}c=a=df.i.removeChild.call(this,a,b);c.B&&1!=c.Fd&&Ne(c,!0);c.Fd=!0;return a};f.w=function(){return this.O};
f.F=function(a,b){if(b||this.O!=a&&this.dispatchEvent(a?"show":"hide")){this.O=a;var c=this.h();c&&(jd(c,a),this.$b()&&Ze(this.ga(),this.pc&&this.O),b||this.dispatchEvent(this.O?"aftershow":"afterhide"));return!0}return!1};f.isEnabled=function(){return this.pc};f.Sd=function(a){this.pc!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.pc=!0,ge(this,function(a){a.Pi?delete a.Pi:a.Sd(!0)})):(ge(this,function(a){a.isEnabled()?a.Sd(!1):a.Pi=!0}),this.bd=this.pc=!1),this.$b()&&Ze(this.ga(),a&&this.O))};
f.$b=function(){return this.Qf};f.Ic=function(a){a!=this.Qf&&this.B&&gf(this,a);this.Qf=a;this.pc&&this.O&&Ze(this.ga(),a)};f.fd=function(a){(a=O(this,a))?a.sb(!0):-1<this.N&&O(this,this.N).sb(!1)};f.sb=function(a){this.fd(ke(this,a))};function hf(a){mf(a,function(a,c){return(a+1)%c},he(a)-1)}function jf(a){mf(a,function(a,c){a--;return 0>a?c-1:a},0)}function lf(a){mf(a,function(a,c){return(a+1)%c},a.N)}function kf(a){mf(a,function(a,c){a--;return 0>a?c-1:a},a.N)}
function mf(a,b,c){c=0>c?ke(a,a.$):c;var d=he(a);c=b.call(a,c,d);for(var e=0;e<=d;){var g=O(a,c);if(g&&a.gh(g)){a.fd(c);break}e++;c=b.call(a,c,d)}}f.gh=function(a){return a.w()&&a.isEnabled()&&!!(a.X&2)};function nf(){}w(nf,ve);ba(nf);nf.prototype.va=function(){return"goog-menuheader"};function of(a,b,c){Q.call(this,a,c||nf.Xb(),b);this.Ra(1,!1);this.Ra(2,!1);this.Ra(4,!1);this.Ra(32,!1);this.aa=1}w(of,Q);re("goog-menuheader",function(){return new of(null)});function pf(a,b){df.call(this,ef,b||cf.Xb(),a);this.Ic(!1)}w(pf,df);f=pf.prototype;f.uf=!0;f.lj=!1;f.va=function(){return this.C.va()};f.removeItem=function(a){(a=this.removeChild(a,!0))&&a.j()};function qf(a){a.uf=!0;a.Ic(!0)}f.F=function(a,b,c){(b=pf.i.F.call(this,a,b))&&a&&this.B&&this.uf&&this.ga().focus();this.oi=a&&c&&q(c.clientX)?new B(c.clientX,c.clientY):null;return b};f.Wf=function(a){this.uf&&this.ga().focus();return pf.i.Wf.call(this,a)};
f.gh=function(a){return(this.lj||a.isEnabled())&&a.w()&&!!(a.X&2)};f.vc=function(a){var b=pf.i.vc.call(this,a);b||ge(this,function(c){!b&&c.Sj&&c.gi==a.keyCode&&(this.isEnabled()&&this.sb(c),b=c.qb(a))},this);return b};
f.fd=function(a){pf.i.fd.call(this,a);if(a=O(this,a)){var b=a.h();a=this.h();var c,d=fd(b);c=fd(a);var e=od(a),g=d.x-c.x-e.left,d=d.y-c.y-e.top,h=a.clientWidth-b.offsetWidth,b=a.clientHeight-b.offsetHeight,k=a.scrollLeft,l=a.scrollTop;if(a==document.body||a==document.documentElement)k=c.x+e.left,l=c.y+e.top,!y||y&&10<=Mb||(k+=e.left,l+=e.top);k+=Math.min(g,Math.max(g-h,0));l+=Math.min(d,Math.max(d-b,0));c=new B(k,l);a.scrollLeft=c.x;a.scrollTop=c.y}};
// Copyright 2012 Google Inc.  Apache License 2.0

// Copyright 2013 Google Inc.  Apache License 2.0

// Copyright 2012 Google Inc.  Apache License 2.0
function rf(a,b,c,d){var e=d.Ji,g;if(e.ob)g=e.ob();else if(e.rc)g=e.rc();else throw"Not Block or Workspace: "+e;for(var e=Object.create(null),h=0;h<g.length;h++){var k=g[h].Tj;if(k)for(var k=k.call(g[h]),l=0;l<k.length;l++){var r=k[l];r&&(e[r.toLowerCase()]=r)}}g=[];for(var v in e)g.push(e[v]);g.sort(ua);g.unshift(null);v=void 0;for(e=0;e<g.length;e++)g[e]!==v&&((h=Zc.variables_get?Xc(d,"variables_get"):null)&&h.Nb(),(k=Zc.variables_set?Xc(d,"variables_set"):null)&&k.Nb(),null===g[e]?v=(h||k).Tj()[0]:
(h&&Yc(h,"VAR").gd(g[e]),k&&Yc(k,"VAR").gd(g[e])),k&&a.push(k),h&&a.push(h),h&&k?b.push(c,3*c):b.push(2*c))};
// Copyright 2012 Google Inc.  Apache License 2.0
var sf=/#(.)(.)(.)/;function tf(a){var b=a[0],c=a[1];a=a[2];b=Number(b);c=Number(c);a=Number(a);if(isNaN(b)||0>b||255<b||isNaN(c)||0>c||255<c||isNaN(a)||0>a||255<a)throw Error('"('+b+","+c+","+a+'") is not a valid RGB color');b=uf(b.toString(16));c=uf(c.toString(16));a=uf(a.toString(16));return"#"+b+c+a}var vf=/^#(?:[0-9a-f]{3}){1,2}$/i;function uf(a){return 1==a.length?"0"+a:a}
function wf(a){var b=0,c=0,d=0,e=Math.floor(a/60),g=a/60-e;a=165.75*.55;var h=165.75*(1-.45*g),g=165.75*(1-.45*(1-g));switch(e){case 1:b=h;c=165.75;d=a;break;case 2:b=a;c=165.75;d=g;break;case 3:b=a;c=h;d=165.75;break;case 4:b=g;c=a;d=165.75;break;case 5:b=165.75;c=a;d=h;break;case 6:case 0:b=165.75,c=g,d=a}return[Math.floor(b),Math.floor(c),Math.floor(d)]}function xf(a,b,c){c=Sb(c,0,1);return[Math.round(c*a[0]+(1-c)*b[0]),Math.round(c*a[1]+(1-c)*b[1]),Math.round(c*a[2]+(1-c)*b[2])]};function yf(a,b,c){if(u(a))c&&(a=la(a,c));else if(a&&"function"==typeof a.handleEvent)a=la(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:m.setTimeout(a,b||0)};function R(a,b,c){ae.call(this,c);this.ma=b||zf;this.ag=a instanceof mb?a:qb(a,null)}w(R,ae);var Af={};f=R.prototype;f.yg=!1;f.ud=!1;f.il=null;f.jj=wb;f.Kd=!0;f.ne=-1;f.na=function(){R.i.na.call(this);this.Lc&&(this.Lc.removeNode(this),this.Lc=null);this.u=null};
f.He=function(){var a=this.h();if(a){var b=Bf(this);b&&!b.id&&(b.id=de(this)+".label");ue(a,"treeitem");P(a,"selected",!1);P(a,"expanded",!1);P(a,"level",this.Uc());b&&P(a,"labelledby",b.id);(a=this.xe())&&ue(a,"presentation");(a=this.we())&&ue(a,"presentation");if(a=Cf(this))if(ue(a,"group"),a.hasChildNodes())for(a=he(this),b=1;b<=a;b++){var c=O(this,b-1).h();P(c,"setsize",a);P(c,"posinset",b)}}};
f.G=function(){var a=this.pb(),b=this.Og(),c=a.Ib,a=c.createElement("div");y?(Ob(a,vb(ub("br"),b)),a.removeChild(a.firstChild)):Ob(a,b);if(1==a.childNodes.length)b=a.removeChild(a.firstChild);else for(b=c.createDocumentFragment();a.firstChild;)b.appendChild(a.firstChild);this.u=b};f.oa=function(){R.i.oa.call(this);Af[de(this)]=this;this.He()};f.Ya=function(){R.i.Ya.call(this);delete Af[de(this)]};
f.Pc=function(a,b){var c=O(this,b-1),d=O(this,b);R.i.Pc.call(this,a,b);a.Bc=c;a.rb=d;c?c.rb=a:this.Mh=a;d?d.Bc=a:this.bi=a;var e=this.Ca();e&&Df(a,e);Ef(a,this.Uc()+1);if(this.h()&&(this.kd(),this.Ka())){e=Cf(this);a.h()||a.G();var g=a.h(),h=d&&d.h();e.insertBefore(g,h);this.B&&a.oa();d||(c?c.kd():(jd(e,!0),this.Qb(this.Ka())))}};f.add=function(a,b){a.getParent()&&a.getParent().removeChild(a);this.Pc(a,b?ke(this,b):he(this));return a};
f.removeChild=function(a){var b=this.Ca(),c=b?b.Qa:null;if(c==a||a.contains(c))b.hasFocus()?(this.select(),yf(this.Ek,10,this)):this.select();R.i.removeChild.call(this,a);this.bi==a&&(this.bi=a.Bc);this.Mh==a&&(this.Mh=a.rb);a.Bc&&(a.Bc.rb=a.rb);a.rb&&(a.rb.Bc=a.Bc);c=!a.rb;a.Lc=null;a.ne=-1;if(b&&(b.removeNode(this),this.B)){b=Cf(this);if(a.B){var d=a.h();b.removeChild(d);a.Ya()}c&&(c=O(this,he(this)-1))&&c.kd();je(this)||(b.style.display="none",this.kd(),this.xe().className=this.te())}return a};
f.remove=R.prototype.removeChild;f.Ek=function(){this.select()};f.Uc=function(){var a=this.ne;0>a&&(a=(a=this.getParent())?a.Uc()+1:0,Ef(this,a));return a};function Ef(a,b){if(b!=a.ne){a.ne=b;var c=Ff(a);if(c){var d=Hf(a)+"px";ie(a)?c.style.paddingRight=d:c.style.paddingLeft=d}ge(a,function(a){Ef(a,b+1)})}}f.contains=function(a){for(;a;){if(a==this)return!0;a=a.getParent()}return!1};f.uc=function(){var a=[];ge(this,function(b){a.push(b)});return a};f.Je=function(){return this.yg};
f.select=function(){var a=this.Ca();a&&a.Jc(this)};function If(a,b){if(a.yg!=b){a.yg=b;Jf(a);var c=a.h();c&&(P(c,"selected",b),b&&(c=a.Ca().h(),P(c,"activedescendant",de(a))))}}f.Ka=function(){return this.ud};
f.Qb=function(a){var b=a!=this.ud;if(!b||this.dispatchEvent(a?"beforeexpand":"beforecollapse")){var c;this.ud=a;c=this.Ca();var d=this.h();if(je(this)){if(!a&&c&&this.contains(c.Qa)&&this.select(),d){if(c=Cf(this))if(jd(c,a),a&&this.B&&!c.hasChildNodes()){var e=[];ge(this,function(a){e.push(a.Og())});Ob(c,vb(e));ge(this,function(a){a.oa()})}this.kd()}}else(c=Cf(this))&&jd(c,!1);d&&(this.xe().className=this.te(),P(d,"expanded",a));b&&this.dispatchEvent(a?"expand":"collapse")}};f.toggle=function(){this.Qb(!this.Ka())};
f.expand=function(){this.Qb(!0)};f.collapse=function(){this.Qb(!1)};f.xg=function(){var a=this.getParent();a&&(a.Qb(!0),a.xg())};f.Og=function(){var a=this.Ca(),b=!a.Vd||a==this.getParent()&&!a.Fg?this.ma.oh:this.ma.nh,a=this.Ka()&&je(this),b={"class":b,style:Kf(this)},c=[];a&&ge(this,function(a){c.push(a.Og())});a=ub("div",b,c);return ub("div",{"class":this.ma.xh,id:de(this)},[Lf(this),a])};function Hf(a){return Math.max(0,(a.Uc()-1)*a.ma.dg)}
function Lf(a){var b={};b["padding-"+(ie(a)?"right":"left")]=Hf(a)+"px";var b={"class":a.Ad(),style:b},c=a.Tf(),d=ub("span",{style:{display:"inline-block"},"class":a.te()}),e=ub("span",{"class":a.ma.yh,title:a.il||null},a.ag);a=vb(e,ub("span",{},a.jj));return ub("div",b,[c,d,a])}f.Ad=function(){return this.ma.Hf+(this.Je()?" "+this.ma.Ah:"")};f.Tf=function(){return ub("span",{type:"expand",style:{display:"inline-block"},"class":Mf(this)})};
function Mf(a){var b=a.Ca(),c=!b.Vd||b==a.getParent()&&!b.Fg,d=a.ma,e=new oa;e.append(d.mc," ",d.yj," ");if(je(a)){var g=0;b.Eg&&a.Kd&&(g=a.Ka()?2:1);c||(g=a.rb?g+8:g+4);switch(g){case 1:e.append(d.Cj);break;case 2:e.append(d.Bj);break;case 4:e.append(d.sh);break;case 5:e.append(d.Aj);break;case 6:e.append(d.zj);break;case 8:e.append(d.uh);break;case 9:e.append(d.Ej);break;case 10:e.append(d.Dj);break;default:e.append(d.rh)}}else c?e.append(d.rh):a.rb?e.append(d.uh):e.append(d.sh);return e.toString()}
function Kf(a){var b=a.Ka()&&je(a);return cb({"background-position":Nf(a),display:b?null:"none"})}function Nf(a){return(a.rb?(a.Uc()-1)*a.ma.dg:"-100")+"px 0"}f.h=function(){var a=R.i.h.call(this);a||(this.u=a=this.pb().h(de(this)));return a};function Ff(a){return(a=a.h())?a.firstChild:null}f.we=function(){var a=Ff(this);return a?a.firstChild:null};f.xe=function(){var a=Ff(this);return a?a.childNodes[1]:null};function Bf(a){return(a=Ff(a))&&a.lastChild?a.lastChild.previousSibling:null}
function Cf(a){return(a=a.h())?a.lastChild:null}f.Rb=function(a){this.ag=a=pb(a);var b=Bf(this);b&&Ob(b,a);(a=this.Ca())&&Of(a,this)};f.Kb=function(){var a=ob(this.ag);return-1!=a.indexOf("&")?"document"in m?Ea(a):Ga(a):a};function Jf(a){var b=Ff(a);b&&(b.className=a.Ad())}f.kd=function(){var a=this.we();a&&(a.className=Mf(this));if(a=Cf(this))a.style.backgroundPosition=Nf(this)};f.ng=function(a){"expand"==a.target.getAttribute("type")&&je(this)?this.Kd&&this.toggle():(this.select(),Jf(this))};
f.ki=function(a){"expand"==a.target.getAttribute("type")&&je(this)||this.Kd&&this.toggle()};function Pf(a){return a.Ka()&&je(a)?Pf(O(a,he(a)-1)):a}function Df(a,b){a.Lc!=b&&(a.Lc=b,Of(b,a),ge(a,function(a){Df(a,b)}))}
var zf={dg:19,zh:"goog-tree-root goog-tree-item",wh:"goog-tree-hide-root",xh:"goog-tree-item",nh:"goog-tree-children",oh:"goog-tree-children-nolines",Hf:"goog-tree-row",yh:"goog-tree-item-label",mc:"goog-tree-icon",yj:"goog-tree-expand-icon",Cj:"goog-tree-expand-icon-plus",Bj:"goog-tree-expand-icon-minus",Ej:"goog-tree-expand-icon-tplus",Dj:"goog-tree-expand-icon-tminus",Aj:"goog-tree-expand-icon-lplus",zj:"goog-tree-expand-icon-lminus",uh:"goog-tree-expand-icon-t",sh:"goog-tree-expand-icon-l",rh:"goog-tree-expand-icon-blank",
Ff:"goog-tree-expanded-folder-icon",ph:"goog-tree-collapsed-folder-icon",Gf:"goog-tree-file-icon",vh:"goog-tree-expanded-folder-icon",qh:"goog-tree-collapsed-folder-icon",Ah:"selected"};function Qf(a,b,c){R.call(this,a,b,c)}w(Qf,R);Qf.prototype.Ca=function(){if(this.Lc)return this.Lc;var a=this.getParent();return a&&(a=a.Ca())?(Df(this,a),a):null};Qf.prototype.te=function(){var a=this.Ka(),b=this.Nj;if(a&&b)return b;b=this.fk;if(!a&&b)return b;b=this.ma;if(je(this)){if(a&&b.Ff)return b.mc+" "+b.Ff;if(!a&&b.ph)return b.mc+" "+b.ph}else if(b.Gf)return b.mc+" "+b.Gf;return""};
// Copyright 2012 Google Inc.  Apache License 2.0
function Rf(a){var b;I&&(b=a.Be());var c=C("xml");a=Lc(a,!0);for(var d=0,e;e=a[d];d++){var g=Sf(e);e=e.Q();g.setAttribute("x",I?b-e.x:e.x);g.setAttribute("y",e.y);c.appendChild(g)}return c}
function Sf(a){var b=C("block");b.setAttribute("type",a.type);b.setAttribute("id",a.id);if(a.ii){var c=a.ii();c&&b.appendChild(c)}for(var c=0,d;d=a.V[c];c++)for(var e=0,g;g=d.ua[e];e++)if(g.name&&g.ld){var h=C("field",null,g.Rh());h.setAttribute("name",g.name);b.appendChild(h)}if(c=a.Nh())c=C("comment",null,c),"object"==typeof a.M&&(c.setAttribute("pinned",a.M.w()),d=a.M.tc(),c.setAttribute("h",d.height),c.setAttribute("w",d.width)),b.appendChild(c);e=!1;for(c=0;d=a.V[c];c++){var k;g=!0;5!=d.type&&
(h=S(d.n),1==d.type?(k=C("value"),e=!0):3==d.type&&(k=C("statement")),h&&(k.appendChild(Sf(h)),g=!1),k.setAttribute("name",d.name),g||b.appendChild(k))}e&&b.setAttribute("inline",a.Id);a.isCollapsed()&&b.setAttribute("collapsed",!0);a.disabled&&b.setAttribute("disabled",!0);a.nc&&!N||b.setAttribute("deletable",!1);a.Ob&&!N||b.setAttribute("movable",!1);a.Tc&&!N||b.setAttribute("editable",!1);if(a=Tf(a))k=C("next",null,Sf(a)),b.appendChild(k);return b}
function Uf(a){return(new XMLSerializer).serializeToString(a)}function Vf(a){a=(new DOMParser).parseFromString(a,"text/xml");if(!a||!a.firstChild||"xml"!=a.firstChild.nodeName.toLowerCase()||a.firstChild!==a.lastChild)throw"Blockly.Xml.textToDom did not obtain a valid XML tree.";return a.firstChild}
function Wf(a,b){var c;I&&(c=a.Be());for(var d=0,e;e=b.childNodes[d];d++)if("block"==e.nodeName.toLowerCase()){var g=Xf(a,e),h=parseInt(e.getAttribute("x"),10);e=parseInt(e.getAttribute("y"),10);isNaN(h)||isNaN(e)||g.moveBy(I?c-h:h,e)}}function Xf(a,b,c){var d=Yf(a,b,c);if(a.v){Zf(d,!0);a=d.ob();for(b=a.length-1;0<=b;b--)a[b].Nb();for(b=a.length-1;0<=b;b--)a[b].L(!1);setTimeout(function(){Zf(d,!1)},1);$f(d);ag(window,"resize")}return d}
function Yf(a,b,c){var d=null,e=b.getAttribute("type");if(!e)throw"Block type unspecified: \n"+b.outerHTML;var g=b.getAttribute("id");if(c&&g){d=bg(g,a);if(!d)throw"Couldn't get Block with id: "+g;g=d.getParent();d.t&&d.j(!0,!1,!0);d.fill(a,e);d.xa=g}else d=Xc(a,e);for(var h=null,g=0,k;k=b.childNodes[g];g++)if(3!=k.nodeType||!k.data.match(/^\s*$/)){for(var h=null,l=0,r;r=k.childNodes[l];l++)3==r.nodeType&&r.data.match(/^\s*$/)||(h=r);l=k.getAttribute("name");switch(k.nodeName.toLowerCase()){case "mutation":d.Kj&&
(d.Kj(k),d.Nb&&d.Nb());break;case "comment":d.Qd(k.textContent);var v=k.getAttribute("pinned");v&&setTimeout(function(){d.M&&d.M.F&&d.M.F("true"==v)},1);h=parseInt(k.getAttribute("w"),10);k=parseInt(k.getAttribute("h"),10);!isNaN(h)&&!isNaN(k)&&d.M&&d.M.F&&d.M.Gc(h,k);break;case "title":case "field":Yc(d,l).gd(k.textContent);break;case "value":case "statement":k=cg(d,l);if(!k)throw"Input "+l+" does not exist in block "+e;if(h&&"block"==h.nodeName.toLowerCase())if(h=Yf(a,h,c),h.I)dg(k.n,h.I);else if(h.A)dg(k.n,
h.A);else throw"Child block does not have output or previous statement.";break;case "next":if(h&&"block"==h.nodeName.toLowerCase()){if(!d.H)throw"Next statement does not exist.";if(d.H.m)throw"Next statement is already connected.";h=Yf(a,h,c);if(!h.A)throw"Next block does not have previous statement.";dg(d.H,h.A)}break;default:console.log("Ignoring unknown tag: "+k.nodeName)}}(a=b.getAttribute("inline"))&&eg(d,"true"==a);(a=b.getAttribute("disabled"))&&d.Rd("true"==a);(a=b.getAttribute("deletable"))&&
fg(d,"true"==a);if(a=b.getAttribute("movable"))d.Ob="true"==a;(a=b.getAttribute("editable"))&&gg(d,"true"==a);(b=b.getAttribute("collapsed"))&&d.Hc("true"==b);return d}function hg(a){for(var b=0,c;c=a.childNodes[b];b++)if("next"==c.nodeName.toLowerCase()){a.removeChild(c);break}}m.Blockly||(m.Blockly={});m.Blockly.Xml||(m.Blockly.Xml={});m.Blockly.Xml.domToText=Uf;m.Blockly.Xml.domToWorkspace=Wf;m.Blockly.Xml.textToDom=Vf;m.Blockly.Xml.workspaceToDom=Rf;
// Copyright 2012 Google Inc.  Apache License 2.0
function ig(a,b,c,d,e,g,h){var k=jg;I&&(k=-k);this.nj=k*Math.PI/180;this.o=a;this.Gb=b;this.Di=c;a.hd.appendChild(this.Ef(b,!(!g||!h)));kg(this,d,e);g&&h||(a=this.Gb.getBBox(),g=a.width+2*lg,h=a.height+2*lg);this.Gc(g,h);mg(this);ng(this);this.wg=!0;N||(L(this.je,"mousedown",this,this.rj),this.Pb&&L(this.Pb,"mousedown",this,this.Pk))}var lg=6,jg=20,og=null,pg=null;function qg(){og&&(M(og),og=null);pg&&(M(pg),pg=null)}f=ig.prototype;f.wg=!1;f.cb=0;f.xf=0;f.Dc=0;f.Od=0;f.K=0;f.Oa=0;f.Af=!0;
f.Ef=function(a,b){this.eb=K("g",{},null);var c=K("g",{filter:"url(#blocklyEmboss)"},this.eb);this.dh=K("path",{},c);this.je=K("rect",{"class":"blocklyDraggable",x:0,y:0,rx:lg,ry:lg},c);b?(this.Pb=K("g",{"class":I?"blocklyResizeSW":"blocklyResizeSE"},this.eb),c=2*lg,K("polygon",{points:"0,x x,x x,0".replace(/x/g,c.toString())},this.Pb),K("line",{"class":"blocklyResizeLine",x1:c/3,y1:c-1,x2:c-1,y2:c/3},this.Pb),K("line",{"class":"blocklyResizeLine",x1:2*c/3,y1:c-1,x2:c-1,y2:2*c/3},this.Pb)):this.Pb=
null;this.eb.appendChild(a);return this.eb};f.rj=function(a){rg(this);qg();Sc(a)||sg(a)||(tg(ug),this.Ih=I?this.Dc+a.clientX:this.Dc-a.clientX,this.Lj=this.Od-a.clientY,og=L(document,"mouseup",this,qg),pg=L(document,"mousemove",this,this.sj),vg(),a.stopPropagation())};f.sj=function(a){this.Af=!1;this.Dc=I?this.Ih-a.clientX:this.Ih+a.clientX;this.Od=this.Lj+a.clientY;mg(this);ng(this)};
f.Pk=function(a){rg(this);qg();Sc(a)||(tg(ug),this.Ok=I?this.K+a.clientX:this.K-a.clientX,this.Nk=this.Oa-a.clientY,og=L(document,"mouseup",this,qg),pg=L(document,"mousemove",this,this.Qk),vg(),a.stopPropagation())};f.Qk=function(a){this.Af=!1;var b=this.Ok,c=this.Nk+a.clientY,b=I?b-a.clientX:b+a.clientX;this.Gc(b,c);I&&mg(this)};function rg(a){a.eb.parentNode.appendChild(a.eb)}function kg(a,b,c){a.cb=b;a.xf=c;a.wg&&mg(a)}
function mg(a){a.eb.setAttribute("transform","translate("+(I?a.cb-a.Dc-a.K:a.cb+a.Dc)+", "+(a.Od+a.xf)+")")}f.tc=function(){return{width:this.K,height:this.Oa}};
f.Gc=function(a,b){var c=2*lg;a=Math.max(a,c+45);b=Math.max(b,c+18);this.K=a;this.Oa=b;this.je.setAttribute("width",a);this.je.setAttribute("height",b);this.Pb&&(I?this.Pb.setAttribute("transform","translate("+2*lg+", "+(b-c)+") scale(-1 1)"):this.Pb.setAttribute("transform","translate("+(a-c)+", "+(b-c)+")"));if(this.wg){if(this.Af){var c=-this.K/4,d=-this.Oa-25,e=this.o.Yb();I?this.cb-e.Ua-c-this.K<T?c=this.cb-e.Ua-this.K-T:this.cb-e.Ua-c>e.ea&&(c=this.cb-e.Ua-e.ea):this.cb+c<e.Ua?c=e.Ua-this.cb:
e.Ua+e.ea<this.cb+c+this.K+10+T&&(c=e.Ua+e.ea-this.cb-this.K-T);this.xf+d<e.hc&&(d=this.Di.getBBox().height);this.Dc=c;this.Od=d}mg(this);ng(this)}ag(this.eb,"resize")};
function ng(a){var b=[],c=a.K/2,d=a.Oa/2,e=-a.Dc,g=-a.Od;if(c==e&&d==g)b.push("M "+c+","+d);else{g-=d;e-=c;I&&(e*=-1);var h=Math.sqrt(g*g+e*e),k=Math.acos(e/h);0>g&&(k=2*Math.PI-k);var l=k+Math.PI/2;l>2*Math.PI&&(l-=2*Math.PI);var r=Math.sin(l),v=Math.cos(l),p=a.tc(),l=(p.width+p.height)/10,l=Math.min(l,p.width,p.height)/2,p=1-8/h,e=c+p*e,g=d+p*g,p=c+l*v,D=d+l*r,c=c-l*v,d=d-l*r,r=k+a.nj;r>2*Math.PI&&(r-=2*Math.PI);k=Math.sin(r)*h/4;h=Math.cos(r)*h/4;b.push("M"+p+","+D);b.push("C"+(p+h)+","+(D+k)+
" "+e+","+g+" "+e+","+g);b.push("C"+e+","+g+" "+(c+h)+","+(d+k)+" "+c+","+d)}b.push("z");a.dh.setAttribute("d",b.join(" "))}f.Cg=function(a){this.je.setAttribute("fill",a);this.dh.setAttribute("fill",a)};f.j=function(){qg();G(this.eb);this.Di=this.Gb=this.o=this.eb=null};
// Copyright 2011 Google Inc.  Apache License 2.0
function wg(a){this.o=a}f=wg.prototype;f.od=47;f.of=45;f.md=15;f.Vi=35;f.Vg=35;f.ge=25;f.$c=!1;f.g=null;f.kf=null;f.hg=0;f.cc=0;f.ci=0;f.Li=0;
f.G=function(){this.g=K("g",{filter:"url(#blocklyTrashcanShadowFilter)"},null);var a=K("clipPath",{id:"blocklyTrashBodyClipPath"},this.g);K("rect",{width:this.od,height:this.of,y:this.md},a);K("image",{width:xg,height:yg,y:-32,"clip-path":"url(#blocklyTrashBodyClipPath)"},this.g).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",zg+Ag);a=K("clipPath",{id:"blocklyTrashLidClipPath"},this.g);K("rect",{width:this.od,height:this.md},a);this.kf=K("image",{width:xg,height:yg,y:-32,"clip-path":"url(#blocklyTrashLidClipPath)"},
this.g);this.kf.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",zg+Ag);this.yf();return this.g};f.U=function(){Bg(this,!1);this.ec();L(window,"resize",this,this.ec)};f.j=function(){this.g&&(G(this.g),this.g=null);this.o=this.kf=null;m.clearTimeout(this.hg)};f.ec=function(){var a=this.o.Yb();a&&(this.ci=I?this.Vg:a.ea+a.Va-this.od-this.Vg,this.Li=a.Aa+a.Wa-(this.of+this.md)-this.Vi,this.g.setAttribute("transform","translate("+this.ci+","+this.Li+")"))};
f.zd=function(){var a=Cg(this.g);return new ad(a.x-this.ge,a.y-this.ge,this.od+2*this.ge,this.of+this.md+2*this.ge)};function Bg(a,b){a.$c!=b&&(m.clearTimeout(a.hg),a.$c=b,a.yf())}f.yf=function(){this.cc+=this.$c?.2:-.2;this.cc=Sb(this.cc,0,1);var a=45*this.cc;this.kf.setAttribute("transform","rotate("+(I?-a:a)+", "+(I?4:this.od-4)+", "+(this.md-2)+")");this.g.style.opacity=.2+.2*this.cc;0<this.cc&&1>this.cc&&(this.hg=yf(this.yf,20,this))};f.close=function(){Bg(this,!1)};
// Copyright 2011 Google Inc.  Apache License 2.0
function Dg(a){this.o=a;this.R=null;this.Bd=new Eg(a,!0,!0);this.ee=new Eg(a,!1,!0);this.qd=K("rect",{height:T,width:T,style:"fill: #fff"},null);Fg(this.qd,a.hd)}Dg.prototype.j=function(){M(this.Te);this.Te=null;G(this.qd);this.R=this.o=this.qd=null;this.Bd.j();this.Bd=null;this.ee.j();this.ee=null};
Dg.prototype.resize=function(){var a=this.o.Yb();if(a){var b=!1,c=!1;this.R&&this.R.ea==a.ea&&this.R.Aa==a.Aa&&this.R.Wa==a.Wa&&this.R.Va==a.Va?(this.R&&this.R.Rc==a.Rc&&this.R.Ua==a.Ua&&this.R.Fb==a.Fb||(b=!0),this.R&&this.R.Xa==a.Xa&&this.R.hc==a.hc&&this.R.gb==a.gb||(c=!0)):c=b=!0;b&&this.Bd.resize(a);c&&this.ee.resize(a);this.R&&this.R.ea==a.ea&&this.R.Va==a.Va||this.qd.setAttribute("x",this.ee.ic);this.R&&this.R.Aa==a.Aa&&this.R.Wa==a.Wa||this.qd.setAttribute("y",this.Bd.nf);this.R=a}};
Dg.prototype.set=function(a,b){this.Bd.set(a);this.ee.set(b)};function Eg(a,b,c){this.o=a;this.Ue=c||!1;this.Da=b;this.Ef();b?(this.$a.setAttribute("height",T),this.ba.setAttribute("height",T-6),this.ba.setAttribute("y",3)):(this.$a.setAttribute("width",T),this.ba.setAttribute("width",T-6),this.ba.setAttribute("x",3));this.mi=L(this.$a,"mousedown",this,this.Ak);this.ni=L(this.ba,"mousedown",this,this.Bk)}var Gg,Hg,T=15;zd&&(T=25);f=Eg.prototype;
f.j=function(){this.Se();this.Te&&(M(this.Te),this.Te=null);M(this.mi);this.mi=null;M(this.ni);this.ni=null;G(this.g);this.o=this.ba=this.$a=this.g=null};
f.resize=function(a){if(!a&&(a=this.o.Yb(),!a))return;if(this.Da){var b=a.ea;this.Ue?b-=T:this.F(b<a.Xa);this.La=b/a.Rc;if(-Infinity===this.La||Infinity===this.La||isNaN(this.La))this.La=0;var c=a.ea*this.La,d=(a.Ua-a.Fb)*this.La;this.ba.setAttribute("width",Math.max(0,c));this.ic=a.Va;this.Ue&&I&&(this.ic+=a.Va+T);this.nf=a.Wa+a.Aa-T;this.g.setAttribute("transform","translate("+this.ic+", "+this.nf+")");this.$a.setAttribute("width",Math.max(0,b));this.ba.setAttribute("x",Ig(this,d))}else{b=a.Aa;
this.Ue?b-=T:this.F(b<a.Xa);this.La=b/a.Xa;if(-Infinity===this.La||Infinity===this.La||isNaN(this.La))this.La=0;c=a.Aa*this.La;d=(a.hc-a.gb)*this.La;this.ba.setAttribute("height",Math.max(0,c));this.ic=a.Va;I||(this.ic+=a.ea-T);this.nf=a.Wa;this.g.setAttribute("transform","translate("+this.ic+", "+this.nf+")");this.$a.setAttribute("height",Math.max(0,b));this.ba.setAttribute("y",Ig(this,d))}Jg(this)};
f.Ef=function(){this.g=K("g",{},null);this.$a=K("rect",{"class":"blocklyScrollbarBackground"},this.g);var a=Math.floor((T-6)/2);this.ba=K("rect",{"class":"blocklyScrollbarKnob",rx:a,ry:a},this.g);Fg(this.g,this.o.hd)};f.w=function(){return"none"!=this.g.getAttribute("display")};f.F=function(a){if(a!=this.w()){if(this.Ue)throw"Unable to toggle visibility of paired scrollbars.";a?this.g.setAttribute("display","block"):(this.o.Bi({x:0,y:0}),this.g.setAttribute("display","none"))}};
f.Ak=function(a){this.Se();if(!Sc(a)){var b=Kg(a),b=this.Da?b.x:b.y,c=Cg(this.ba),c=this.Da?c.x:c.y,d=parseFloat(this.ba.getAttribute(this.Da?"width":"height")),e=parseFloat(this.ba.getAttribute(this.Da?"x":"y")),g=.95*d;b<=c?e-=g:b>=c+d&&(e+=g);this.ba.setAttribute(this.Da?"x":"y",Ig(this,e));Jg(this)}a.stopPropagation()};
f.Bk=function(a){this.Se();Sc(a)||(this.Xk=parseFloat(this.ba.getAttribute(this.Da?"x":"y")),this.Zk=this.Da?a.clientX:a.clientY,Gg=L(document,"mouseup",this,this.Se),Hg=L(document,"mousemove",this,this.Dk));a.stopPropagation()};f.Dk=function(a){this.ba.setAttribute(this.Da?"x":"y",Ig(this,this.Xk+((this.Da?a.clientX:a.clientY)-this.Zk)));Jg(this)};f.Se=function(){Lg();vg(!0);Gg&&(M(Gg),Gg=null);Hg&&(M(Hg),Hg=null)};
function Ig(a,b){if(0>=b||isNaN(b))b=0;else{var c=a.Da?"width":"height",d=parseFloat(a.$a.getAttribute(c)),c=parseFloat(a.ba.getAttribute(c));b=Math.min(b,d-c)}return b}function Jg(a){var b=parseFloat(a.ba.getAttribute(a.Da?"x":"y")),c=parseFloat(a.$a.getAttribute(a.Da?"width":"height")),b=b/c;isNaN(b)&&(b=0);c={};a.Da?c.x=b:c.y=b;a.o.Bi(c)}f.set=function(a){this.ba.setAttribute(this.Da?"x":"y",a*this.La);Jg(this)};
function Fg(a,b){var c=b.nextSibling,d=b.parentNode;if(!d)throw"Reference node has no parent.";c?d.insertBefore(a,c):d.appendChild(a)};
// Copyright 2014 Google Inc.  Apache License 2.0
function Mg(a,b){Mg.i.constructor.call(this);this.Yb=a;this.Bi=b;var c=[];c[1]=new Ng;c[2]=new Ng;c[3]=new Ng;c[4]=new Ng;this.wj=c}w(Mg,Kc);f=Mg.prototype;f.v=!0;f.ai=!1;f.Nf=!1;f.scrollX=0;f.scrollY=0;f.Ta=null;f.gc=null;f.G=function(){this.g=K("g",{},null);this.Y=K("g",{},this.g);this.hd=K("g",{},this.g);this.Jb();return this.g};f.j=function(){this.v=!1;Mg.i.j.call(this);this.g&&(G(this.g),this.g=null);this.hd=this.Y=null;this.qa&&(this.qa.j(),this.qa=null);this.Ta&&(this.Ta.j(),this.Ta=null)};
function Og(){var a=E;if(wc&&!N){a.Ta=new wg(a);var b=a.Ta.G();a.g.insertBefore(b,a.Y);a.Ta.U()}}f.pd=function(a){Mg.i.pd.call(this,a);Pg&&this==E&&-1==Qg.indexOf(a)&&Qg.push(a)};f.df=function(a){Mg.i.df.call(this,a);Pg&&this==E&&Qg.Yl(a)};f.clear=function(){vg();Mg.i.clear.call(this)};f.Be=function(){return this.Yb().ea};f.L=function(){for(var a=this.rc(),b=0,c;c=a[b];b++)c.uc().length||c.L()};
function Rg(a,b){a.Pg=b;a.Qg&&(M(a.Qg),a.Qg=null);b&&(a.Qg=L(a.Y,"blocklySelectChange",a,function(){this.Pg=!1}))}function Sg(a){var b=E;b.Pg&&0!=Tc&&Rg(b,!1);if(b.Pg){var c=null;if(a&&(c=Mc(b,a),!c))return;Rg(b,!1);c?c.select():U&&Tg();setTimeout(function(){Rg(b,!0)},1)}}f.Jb=function(){this.v&&this.Y&&ag(this.Y,"blocklyWorkspaceChange")};
function Ug(a,b){var c=Kg(b),c=new B(c.x,c.y);if(a.Ch){if(a.Ch.contains(c))return Bg(a.Ta,!0),tg(Vg),!0;Bg(a.Ta,!1)}if(a.Bh&&a.Bh.contains(c))return tg(Vg),!0;tg(ug);return!1}Mg.prototype.clear=Mg.prototype.clear;
// Copyright 2013 Google Inc.  Apache License 2.0
function Wg(a){this.Ia=a}f=Wg.prototype;f.ha=null;f.Xc=0;f.Yc=0;f.Sc=function(){this.Ea||(this.Ea=K("g",{},null),this.Ia.J().appendChild(this.Ea),L(this.Ea,"mouseup",this,this.gk),this.Nc())};f.j=function(){G(this.Ea);this.Ea=null;this.F(!1);this.Ia=null};f.Nc=function(){this.Ia.ac?Rc(this.Ea,"blocklyIconGroup"):Qc(this.Ea,"blocklyIconGroup")};f.w=function(){return!!this.ha};f.gk=function(){this.Ia.ac||this.F(!this.w())};f.Mc=function(){if(this.w()){var a=tf(wf(this.Ia.lh));this.ha.Cg(a)}};
function Xg(a){var b=a.Ia.Q(),c=Yg(a.Ea),d=b.x+c.x+8,b=b.y+c.y+8;if(d!==a.Xc||b!==a.Yc)a.Xc=d,a.Yc=b,a.w()&&kg(a.ha,d,b)};
// Copyright 2012 Google Inc.  Apache License 2.0

// Copyright 2011 Google Inc.  Apache License 2.0
function Zg(a,b){this.k=a;this.m=null;this.type=b;this.P=this.ub=0;this.ib=a.t.wj;this.$f=!this.ib;this.Ab=!1}f=Zg.prototype;f.j=function(){if(this.m)throw"Disconnect connection before disposing of it.";this.Ab&&$g(this.ib[this.type],this);ah==this&&(ah=null);bh==this&&(bh=null)};function ch(a){return 1==a.type||3==a.type}
function dg(a,b){if(a.k==b.k)throw"Attempted to connect a block to itself.";if(a.k.t!==b.k.t)throw"Blocks are on different workspaces.";if(dh[a.type]!=b.type)throw"Attempt to connect incompatible types.";if(1==a.type||2==a.type){if(a.m)throw"Source connection already connected (value).";if(b.m){var c=S(b);c.Ga(null);if(!c.I)throw"Orphan block does not have an output connection.";for(var d=a.k;d=eh(d,c);)if(S(d))d=S(d);else{dg(d,c.I);c=null;break}c&&setTimeout(function(){fh(c.I,b)},gh)}}else{if(a.m)throw"Source connection already connected (block).";
if(b.m){if(4!=a.type)throw"Can only do a mid-stack connection with the top of a block.";c=S(b);c.Ga(null);if(!c.A)throw"Orphan block does not have a previous connection.";for(d=a.k;d.H;)if(d.H.m)d=Tf(d);else{hh(c.A,d.H)&&(dg(d.H,c.A),c=null);break}c&&setTimeout(function(){fh(c.A,b)},gh)}}var e;ch(a)?(d=a.k,e=b.k):(d=b.k,e=a.k);a.m=b;b.m=a;e.Ga(d);d.v&&$f(d);e.v&&$f(e);d.v&&e.v&&(3==a.type||4==a.type?e.L():d.L())}
function eh(a,b){for(var c=!1,d=0;d<a.V.length;d++){var e=a.V[d].n;if(e&&1==e.type&&hh(b.I,e)){if(c)return null;c=e}}return c}f.disconnect=function(){var a=this.m;if(!a)throw"Source connection not connected.";if(a.m!=this)throw"Target connection not connected to source connection.";this.m=a.m=null;var b;ch(this)?(b=this.k,a=a.k):(b=a.k,a=this.k);b.v&&b.L();a.v&&($f(a),a.L())};function S(a){return a.m?a.m.k:null}
function fh(a,b){if(0==Tc){var c=ih(a.k);if(!c.ac){var d=!1;if(!c.Ob||N){c=ih(b.k);if(!c.Ob||N)return;b=a;d=!0}c.J().parentNode.appendChild(c.J());var e=b.ub+V-a.ub,g=b.P+V-a.P;d&&(g=-g);I&&(e=-e);c.moveBy(e,g)}}}f.moveTo=function(a,b){this.Ab&&$g(this.ib[this.type],this);this.ub=a;this.P=b;this.$f||jh(this.ib[this.type],this)};f.moveBy=function(a,b){this.moveTo(this.ub+a,this.P+b)};function kh(a,b){(a.$f=b)&&a.Ab?$g(a.ib[a.type],a):b||a.Ab||jh(a.ib[a.type],a)}
f.Wh=function(){var a;1==this.type||2==this.type?(a=I?-8:8,a="m 0,0 v 5 c 0,10 "+-a+",-8 "+-a+",7.5 s "+a+",-2.5 "+a+",7.5 v 5"):a=I?"m 20,0 h -5 l -6,4 -3,0 -6,-4 h -5":"m -20,0 h 5 l 6,4 3,0 6,-4 h 5";var b=this.k.Q();Zg.Ee=K("path",{"class":"blocklyHighlightedConnectionPath",d:a,transform:"translate("+(this.ub-b.x)+", "+(this.P-b.y)+")"},this.k.J())};
function lh(a){var b=Math.round(a.m.ub-a.ub),c=Math.round(a.m.P-a.P);if(0!=b||0!=c){a=S(a);var d=a.J();if(!d)throw"block is not rendered.";d=Yg(d);a.J().setAttribute("transform","translate("+(d.x-b)+", "+(d.y-c)+")");mh(a,-b,-c)}}
function nh(a,b,c,d){function e(a){var c=g[a];if((2==c.type||4==c.type)&&c.m||1==c.type&&c.m&&(!S(c).Ob||N)||!hh(p,c))return!0;c=c.k;do{if(v==c)return!0;c=c.getParent()}while(c);var d=h-g[a].ub,c=k-g[a].P,d=Math.sqrt(d*d+c*c);d<=b&&(r=g[a],b=d);return c<b}if(a.m)return{n:null,ti:b};var g=a.ib[dh[a.type]],h=a.ub+c,k=a.P+d;c=0;for(var l=d=g.length-2;c<l;)g[l].P<k?c=l:d=l,l=Math.floor((c+d)/2);d=c=l;var r=null,v=a.k,p=a;if(g.length){for(;0<=c&&e(c);)c--;do d++;while(d<g.length&&e(d))}return{n:r,ti:b}}
function hh(a,b){if(!a.Qc||!b.Qc)return!0;for(var c=0;c<a.Qc.length;c++)if(-1!=b.Qc.indexOf(a.Qc[c]))return!0;return!1}f.ed=function(a){a?(da(a)||(a=[a]),this.Qc=a,this.m&&!hh(this,this.m)&&(ch(this)?S(this).Ga(null):this.k.Ga(null),this.k.Na())):this.Qc=null;return this};
function oh(a){var b=V;function c(a){var c=e-d[a].ub,h=g-d[a].P;Math.sqrt(c*c+h*h)<=b&&l.push(d[a]);return h<b}var d=a.ib[dh[a.type]],e=a.ub,g=a.P;a=0;for(var h=d.length-2,k=h;a<k;)d[k].P<g?a=k:h=k,k=Math.floor((a+h)/2);var h=a=k,l=[];if(d.length){for(;0<=a&&c(a);)a--;do h++;while(h<d.length&&c(h))}return l}
function ph(a){jh(a.ib[a.type],a);a.$f=!1;var b=[];if(1!=a.type&&3!=a.type)return b;if(a=S(a)){var c;a.isCollapsed()?(c=[],a.I&&c.push(a.I),a.H&&c.push(a.H),a.A&&c.push(a.A)):c=qh(a,!0);for(var d=0;d<c.length;d++)b.push.apply(b,ph(c[d]));0==b.length&&(b[0]=a)}return b}function Ng(){}Ng.prototype=[];
function jh(a,b){if(b.Ab)throw"Connection already in database.";for(var c=0,d=a.length;c<d;){var e=Math.floor((c+d)/2);if(a[e].P<b.P)c=e+1;else if(a[e].P>b.P)d=e;else{c=e;break}}a.splice(c,0,b);b.Ab=!0}
function $g(a,b){if(!b.Ab)throw"Connection not in database.";b.Ab=!1;for(var c=0,d=a.length-2,e=d;c<e;)a[e].P<b.P?c=e:d=e,e=Math.floor((c+d)/2);for(d=c=e;0<=c&&a[c].P==b.P;){if(a[c]==b){a.splice(c,1);return}c--}do{if(a[d]==b){a.splice(d,1);return}d++}while(d<a.length&&a[d].P==b.P);throw"Unable to find connection in connectionDB.";};
// Copyright 2013 Google Inc.  Apache License 2.0
var Zc={jl:0,Pj:function(){var a=(++Zc.jl).toString();return Pg?rh(a):a},Cl:function(a){var b={U:function(){var b=this;this.Cg(a.Il);this.wc=a.wc;"string"==typeof a.Sa?this.gf(a.Sa):"function"==typeof a.Sa&&this.gf(function(){return a.Sa(b)});"undefined"!=a.Gk?sh(this,a.Gk):(th(this,"undefined"==typeof a.Kk?!0:a.Kk),uh(this,"undefined"==typeof a.zk?!0:a.zk));var d=[];d.push(a.text);a.mj&&a.mj.forEach(function(a){"undefined"==a.type||1==a.type?d.push([a.name,a.check,"undefined"==typeof a.align?1:a.align]):
Ja("addTemplate() can only handle value inputs.")});d.push(1);a.lk&&this.dm(a.lk);vh.prototype.Jd.apply(this,d)}};b.ii=a.hm?function(){var b=a.wk?a.Vl():document.createElement("mutation");b.setAttribute("is_statement",this.isStatement||!1);return b}:a.wk;Zc[a.Gl]=b}};
// Copyright 2011 Google Inc.  Apache License 2.0
function wh(a){wh.i.constructor.call(this,a);this.Sc()}w(wh,Wg);f=wh.prototype;f.tb="";f.K=160;f.Oa=80;f.Sc=function(){Wg.prototype.Sc.call(this);K("circle",{"class":"blocklyIconShield",r:8,cx:8,cy:8},this.Ea);this.bg=K("text",{"class":"blocklyIconMark",x:8,y:13},this.Ea);this.bg.appendChild(document.createTextNode("?"))};f.Nc=function(){this.w()&&(this.F(!1),this.F(!0));Wg.prototype.Nc.call(this)};
f.Mk=function(){var a=this.ha.tc(),b=2*lg;this.wd.setAttribute("width",a.width-b);this.wd.setAttribute("height",a.height-b);this.Ma.style.width=a.width-b-4+"px";this.Ma.style.height=a.height-b-4+"px"};
f.F=function(a){if(a!=this.w())if((!this.Ia.Tc||N)&&!this.Ma||y)xh.prototype.F.call(this,a);else{var b=this.Kb(),c=this.tc();if(a){a=this.Ia.t;this.wd=K("foreignObject",{x:lg,y:lg},null);var d=document.createElementNS("http://www.w3.org/1999/xhtml","body");d.setAttribute("xmlns","http://www.w3.org/1999/xhtml");d.className="blocklyMinimalBody";this.Ma=document.createElementNS("http://www.w3.org/1999/xhtml","textarea");this.Ma.className="blocklyCommentTextarea";this.Ma.setAttribute("dir",I?"RTL":"LTR");
d.appendChild(this.Ma);this.wd.appendChild(d);L(this.Ma,"mouseup",this,this.hl);this.ha=new ig(a,this.wd,this.Ia.Sb,this.Xc,this.Yc,this.K,this.Oa);L(this.ha.eb,"resize",this,this.Mk);this.Mc();this.tb=null}else this.ha.j(),this.wd=this.Ma=this.ha=null;this.Rb(b);this.Gc(c.width,c.height)}};f.hl=function(){rg(this.ha);this.Ma.focus()};f.tc=function(){return this.w()?this.ha.tc():{width:this.K,height:this.Oa}};f.Gc=function(a,b){this.Ma?this.ha.Gc(a,b):(this.K=a,this.Oa=b)};
f.Kb=function(){return this.Ma?this.Ma.value:this.tb};f.Rb=function(a){this.Ma?this.Ma.value=a:this.tb=a};f.j=function(){this.Ia.M=null;Wg.prototype.j.call(this)};
// Copyright 2011 Google Inc.  Apache License 2.0
var yh=!1,zh=0,Ah=0,Bh={x:0,y:0},Ch=null,Dh=null,Eh=null,Fh=null,Gh=null,Hh=null;function Ih(){var a=K("g",{"class":"blocklyHidden"},null);Eh=a;Hh=K("rect",{"class":"blocklyTooltipShadow",x:2,y:2},a);Gh=K("rect",{"class":"blocklyTooltipBackground"},a);Fh=K("text",{"class":"blocklyTooltipText"},a);return a}function Jh(a){L(a,"mouseover",null,Kh);L(a,"mouseout",null,Lh);L(a,"mousemove",null,Mh)}function Kh(a){for(a=a.target;!n(a.Sa)&&!u(a.Sa);)a=a.Sa;Ch!=a&&(Nh(),Dh=null,Ch=a);clearTimeout(zh)}
function Lh(){zh=setTimeout(function(){Dh=Ch=null;Nh()},1);clearTimeout(Ah)}function Mh(a){Ch&&Ch.Sa&&0==Tc&&!Oh&&(yh?(a=Kg(a),10<Math.sqrt(Math.pow(Bh.x-a.x,2)+Math.pow(Bh.y-a.y,2))&&Nh()):Dh!=Ch&&(clearTimeout(Ah),Bh=Kg(a),Ah=setTimeout(Ph,1E3)))}function Nh(){yh&&(yh=!1,Eh&&(Eh.style.display="none"));clearTimeout(Ah)}
function Ph(){Dh=Ch;if(Eh){dc(Fh);var a=Ch.Sa;u(a)&&(a=a());var b=a,a=50;if(b.length<=a)a=b;else{for(var c=b.trim().split(/\s+/),d=0;d<c.length;d++)c[d].length>a&&(a=c[d].length);var e,d=-Infinity,g,h=1;do{e=d;g=b;for(var b=[],k=c.length/h,l=1,d=0;d<c.length-1;d++)l<(d+1.5)/k?(l++,b[d]=!0):b[d]=!1;for(var b=Qh(c,b,a),d=Rh(c,b,a),k=c,l=[],r=0;r<k.length;r++)l.push(k[r]),void 0!==b[r]&&l.push(b[r]?"\n":" ");b=l.join("");h++}while(d>e);a=g}a=a.split("\n");for(c=0;c<a.length;c++)K("tspan",{dy:"1em",x:5},
Fh).appendChild(document.createTextNode(a[c]));yh=!0;Eh.style.display="block";a=Fh.getBBox();c=10+a.width;e=a.height;Gh.setAttribute("width",c);Gh.setAttribute("height",e);Hh.setAttribute("width",c);Hh.setAttribute("height",e);if(I)for(e=a.width,g=0;h=Fh.childNodes[g];g++)h.setAttribute("text-anchor","end"),h.setAttribute("x",e+5);e=Bh.x;e=I?e-(0+c):e+0;c=Bh.y+10;g=Sh();c+a.height>g.height&&(c-=a.height+20);I?e=Math.max(5,e):e+a.width>g.width-10&&(e=g.width-a.width-10);Eh.setAttribute("transform",
"translate("+e+","+c+")")}}function Rh(a,b,c){for(var d=[0],e=[],g=0;g<a.length;g++)d[d.length-1]+=a[g].length,!0===b[g]?(d.push(0),e.push(a[g].charAt(a[g].length-1))):!1===b[g]&&d[d.length-1]++;a=Math.max.apply(Math,d);for(g=b=0;g<d.length;g++)b-=2*Math.pow(Math.abs(c-d[g]),1.5),b-=Math.pow(a-d[g],1.5),-1!=".?!".indexOf(e[g])?b+=c/3:-1!=",;)]}".indexOf(e[g])&&(b+=c/4);1<d.length&&d[d.length-1]<=d[d.length-2]&&(b+=.5);return b}
function Qh(a,b,c){for(var d=Rh(a,b,c),e,g=0;g<b.length-1;g++)if(b[g]!=b[g+1]){var h=[].concat(b);h[g]=!h[g];h[g+1]=!h[g+1];var k=Rh(a,h,c);k>d&&(d=k,e=h)}return e?Qh(a,e,c):b};
// Copyright 2012 Google Inc.  Apache License 2.0
function Th(a){this.k=null;this.Wd=new Nb(0,25);this.Rb(a)}w(Th,Oc);f=Th.prototype;f.clone=function(){return new Th(this.Kb())};f.ld=!1;f.U=function(a){this.k||(this.k=a,this.ya=K("text",{"class":"blocklyText"},null),this.O||(this.ya.style.display="none"),a.J().appendChild(this.ya),this.ya.Sa=this.k,Jh(this.ya),Pc(this))};f.j=function(){G(this.ya);this.ya=null};f.J=function(){return this.ya};f.gf=function(a){this.ya.Sa=a};
// Copyright 2012 Google Inc.  Apache License 2.0
function Uh(a,b,c,d){this.type=a;this.name=b;this.k=c;this.n=d;this.ua=[];this.align=-1;this.O=!0}function Vh(a,b,c){if(!b&&!c)return a;n(b)&&(b=new Th(b));a.k.v&&b.U(a.k);b.name=c;b.Jk&&Vh(a,b.Jk);a.ua.push(b);b.fl&&Vh(a,b.fl);a.k.v&&(a.k.L(),a.k.Na());return a}f=Uh.prototype;f.w=function(){return this.O};
f.F=function(a){var b=[];if(this.O==a)return b;for(var c=(this.O=a)?"block":"none",d=0,e;e=this.ua[d];d++)e.F(a);if(this.n){if(a)b=ph(this.n);else if(d=this.n,d.Ab&&$g(d.ib[d.type],d),d.m){e=S(d).ob();for(var g=0;g<e.length;g++){for(var h=e[g],k=qh(h,!0),l=0;l<k.length;l++){var r=k[l];r.Ab&&$g(d.ib[r.type],r)}h=Wh(h);for(k=0;k<h.length;k++)h[k].F(!1)}}if(d=S(this.n))d.J().style.display=c,a||(d.v=!1)}return b};f.ed=function(a){if(!this.n)throw"This input does not have a connection.";this.n.ed(a);return this};
function Xh(a,b){a.align=b;a.k.v&&a.k.L();return a}f.U=function(){for(var a=0;a<this.ua.length;a++)this.ua[a].U(this.k)};f.j=function(){for(var a=0,b;b=this.ua[a];a++)b.j();this.n&&this.n.j();this.k=null};
// Copyright 2012 Google Inc.  Apache License 2.0
function xh(a){xh.i.constructor.call(this,a);this.Sc()}w(xh,Wg);f=xh.prototype;f.tb="";f.Sc=function(){Wg.prototype.Sc.call(this);K("path",{"class":"blocklyIconShield",d:"M 2,15 Q -1,15 0.5,12 L 6.5,1.7 Q 8,-1 9.5,1.7 L 15.5,12 Q 17,15 14,15 z"},this.Ea);this.bg=K("text",{"class":"blocklyIconMark",x:8,y:13},this.Ea);this.bg.appendChild(document.createTextNode("!"))};
f.F=function(a){if(a!=this.w())if(a){var b=this.tb;a=K("text",{"class":"blocklyText blocklyBubbleText",y:lg},null);for(var b=b.split("\n"),c=0;c<b.length;c++)K("tspan",{dy:"1em",x:lg},a).appendChild(document.createTextNode(b[c]));this.ha=new ig(this.Ia.t,a,this.Ia.Sb,this.Xc,this.Yc,null,null);if(I)for(var b=a.getBBox().width,c=0,d;d=a.childNodes[c];c++)d.setAttribute("text-anchor","end"),d.setAttribute("x",b+lg);this.Mc();a=this.ha.tc();this.ha.Gc(a.width,a.height)}else this.ha.j(),this.ha=null};
f.Rb=function(a){this.tb!=a&&(this.tb=a,this.w()&&(this.F(!1),this.F(!0)))};f.j=function(){this.Ia.fe=null;Wg.prototype.j.call(this)};
// Copyright 2011 Google Inc.  Apache License 2.0
function vh(){}function Xc(a,b){if(Pg)return Yh.create(vh,a,b);var c=a.v?new Zh:new vh;c.initialize(a,b);return c}f=vh.prototype;f.initialize=function(a,b){this.id=Zc.Pj();a.pd(this);this.fill(a,b)};
f.fill=function(a,b){this.A=this.H=this.I=null;this.V=[];this.disabled=this.v=this.Id=!1;this.Sa="";this.contextMenu=!0;this.Ac=null;this.vb=[];this.Tc=this.Ob=this.nc=!0;this.lc=!1;this.M=null;this.Ri=new B(0,0);this.t=a;this.ac=a.ai;if(b){this.type=b;var c=Zc[b],d;for(d in c)this[d]=c[d]}u(this.U)&&this.U()};function bg(a,b){return Pg?$h.get(a):Mc(b,a)}
f.j=function(a,b,c){ai(this,a);this.t&&!c&&(this.t.df(this),this.t=null);U==this&&(U=null);for(a=this.vb.length-1;0<=a;a--)this.vb[a].j(!1);for(a=0;b=this.V[a];a++)b.j();this.V.length=0;b=qh(this,!0);for(a=0;a<b.length;a++)c=b[a],c.m&&c.disconnect(),b[a].j();if(Pg&&!bi)$h["delete"](this.id.toString())};function ai(a,b){var c;c=!1;if(a.I)a.I.m&&a.Ga(null);else{var d=null;a.A&&a.A.m&&(d=a.A.m,a.Ga(null));var e=Tf(a);if(b&&e){var g=a.H.m;e.Ga(null);d&&hh(d,g)&&dg(d,g)}}c&&a.moveBy(V*(I?-1:1),2*V)}
function qh(a,b){var c=[];if(b||a.v)if(a.I&&c.push(a.I),a.A&&c.push(a.A),a.H&&c.push(a.H),b||!a.lc)for(var d=0,e;e=a.V[d];d++)e.n&&c.push(e.n);return c}f.Na=function(){if(0==Tc){var a=ih(this);if(!a.ac)for(var b=qh(this,!1),c=0,d;d=b[c];c++){d.m&&ch(d)&&S(d).Na();for(var e=oh(d),g=0,h;h=e[g];g++)d.m&&h.m||ih(h.k)!=a&&(ch(d)?fh(h,d):fh(d,h))}}};f.getParent=function(){return this.Ac};function Tf(a){return a.H&&S(a.H)}function ih(a){var b=a;do a=b,b=a.Ac;while(b);return a}f.uc=function(){return this.vb};
f.Ga=function(a){if(this.Ac){for(var b=this.Ac.vb,c,d=0;c=b[d];d++)if(c==this){b.splice(d,1);break}this.Ac=null;this.A&&this.A.m&&this.A.disconnect();this.I&&this.I.m&&this.I.disconnect()}else Ua(Lc(this.t,!1),this)&&this.t.df(this);(this.Ac=a)?a.vb.push(this):this.t.pd(this)};f.ob=function(){for(var a=[this],b,c=0;b=this.vb[c];c++)a.push.apply(a,b.ob());return a};function fg(a,b){a.nc=b;a.Ii&&ci(a.Ii)}
function gg(a,b){a.Tc=b;for(var c=0,d;d=a.V[c];c++)for(var e=0,g;g=d.ua[e];e++)g.Nc();d=Wh(a);for(c=0;c<d.length;c++)d[c].Nc()}function Zf(a,b){if(!b&&a.isCollapsed()){if(a.I&&kh(a.I,b),a.A&&kh(a.A,b),a.H){kh(a.H,b);var c=S(a.H);c&&Zf(c,b)}}else for(var d=qh(a,!0),e=0;c=d[e];e++)kh(c,b),ch(c)&&(c=S(c))&&Zf(c,b)}f.gf=function(a){this.Sa=a};f.Cg=function(a){this.lh=a;this.v&&this.Mc()};function Yc(a,b){for(var c=0,d;d=a.V[c];c++)for(var e=0,g;g=d.ua[e];e++)if(g.name===b)return g;return null}
function th(a,b){var c;a.A&&(a.A.j(),a.A=null);b&&(void 0===c&&(c=null),a.A=new Zg(a,4),a.A.ed(c));a.v&&(a.L(),a.Na())}function uh(a,b){var c;a.H&&(a.H.j(),a.H=null);b&&(void 0===c&&(c=null),a.H=new Zg(a,3),a.H.ed(c));a.v&&(a.L(),a.Na())}function sh(a,b){a.I&&(a.I.j(),a.I=null);void 0===b&&(b=null);a.I=new Zg(a,2);a.I.ed(b);a.v&&(a.L(),a.Na())}function eg(a,b){a.Id=b;a.v&&(a.L(),a.Na(),a.t.Jb())}f.Rd=function(a){this.disabled=a};
function di(a){for(;;){a:for(;;){do{var b=a;a=a.getParent();if(!a){a=null;break a}}while(Tf(a)==b);break a}if(!a)return!1;if(a.disabled)return!0}}f.isCollapsed=function(){return this.lc};f.Hc=function(a){this.lc=a};f.toString=function(a){for(var b=[],c=0,d;d=this.V[c];c++){for(var e=0,g;g=d.ua[e];e++)b.push(g.Kb());d.n&&((d=S(d.n))?b.push(d.toString()):b.push("?"))}b=ta(b.join(" "))||"???";a&&b.length>a&&(b=b.substring(0,a-3)+"...");return b};
f.Jd=function(a,b){function c(a){a instanceof Oc?Vh(this,a):Vh(this,a[1],a[0])}var d=arguments[arguments.length-1];--arguments.length;for(var e=a.split(this.Jd.aj),g=[],h=0;h<e.length;h+=2){var k=ta(e[h]),l=void 0;k&&g.push(new Th(k));if((k=e[h+1])&&"%"==k.charAt(0)){var k=parseInt(k.substring(1),10),r=arguments[k];r[1]instanceof Oc?g.push([r[0],r[1]]):l=Xh(ei(this,1,r[0]).ed(r[1]),r[2]);arguments[k]=null}else"\n"==k&&g.length&&(l=ei(this,5,""));l&&g.length&&(g.forEach(c,l),g=[])}g.length&&(l=Xh(ei(this,
5,""),d),g.forEach(c,l));for(h=1;h<arguments.length-1;h++);eg(this,!a.match(this.Jd.Ui))};f.Jd.aj=/(%\d+|\n)/;f.Jd.Ui=/%1\s*$/;function ei(a,b,c){var d=null;if(1==b||3==b)d=new Zg(a,b);b=new Uh(b,c,a,d);a.V.push(b);a.v&&(a.L(),a.Na());return b}function cg(a,b){for(var c=0,d;d=a.V[c];c++)if(d.name==b)return d;return null}f.Nh=function(){return this.M||""};f.Qd=function(a){this.M=a};f.Q=function(){return this.Ri};f.moveBy=function(a,b){this.Ri.translate(a,b)};
// Copyright 2011 Google Inc.  Apache License 2.0
function gi(){var a=this;this.o=new Mg(function(){return hi(a)},function(b){var c=hi(a);c&&(q(b.y)&&(a.o.scrollY=-c.Xa*b.y-c.gb),a.o.Y.setAttribute("transform","translate(0,"+(a.o.scrollY+c.Wa)+")"))});this.o.ai=!0;this.Jh=[];this.Oa=this.K=0;this.Cf=[];this.Bb=[]}var ii,ji,ki,li,mi,ni;f=gi.prototype;f.ie=!0;f.sa=8;f.G=function(){this.g=K("g",{},null);this.$a=K("path",{"class":"blocklyFlyoutBackground"},this.g);this.g.appendChild(this.o.G());return this.g};
f.j=function(){this.Lb();M(this.Jh);this.Jh.length=0;this.Fc&&(this.Fc.j(),this.Fc=null);this.o=null;this.g&&(G(this.g),this.g=null);this.$d=this.$a=null};function hi(a){if(!a.w())return null;var b=a.Oa-2*a.sa,c=a.K;try{var d=a.o.Y.getBBox()}catch(e){d={height:0,y:0}}return{Aa:b,ea:c,Xa:d.height+d.y,hc:-a.o.scrollY,gb:0,Wa:a.sa,Va:0}}
f.U=function(a){this.$d=a;this.o.Ji=a;this.Fc=new Eg(this.o,!1,!1);this.Lb();L(window,"resize",this,this.ec);this.ec();L(this.g,"wheel",this,this.Qi);L(this.g,"mousewheel",this,this.Qi);L(this.$d.Y,"blocklyWorkspaceChange",this,this.Of);L(this.g,"mousedown",this,this.Re)};
f.ec=function(){if(this.w()){var a=this.$d.Yb();if(a){var b=this.K-this.sa;I&&(b*=-1);var c=["M "+(I?this.K:0)+",0"];c.push("h",b);c.push("a",this.sa,this.sa,0,0,I?0:1,I?-this.sa:this.sa,this.sa);c.push("v",Math.max(0,a.Aa-2*this.sa));c.push("a",this.sa,this.sa,0,0,I?0:1,I?this.sa:-this.sa,this.sa);c.push("h",-b);c.push("z");this.$a.setAttribute("d",c.join(" "));b=a.Va;I&&(b+=a.ea,b-=this.K);this.g.setAttribute("transform","translate("+b+","+a.Wa+")");this.Oa=a.Aa;this.Fc&&this.Fc.resize()}}};
f.Qi=function(a){var b=a.deltaY||-a.wheelDeltaY;if(b){Db&&(b*=10);var c=hi(this),b=c.hc+b,b=Math.min(b,c.Xa-c.Aa),b=Math.max(b,0);this.Fc.set(b);a.preventDefault()}};f.w=function(){return this.g&&"block"==this.g.style.display};f.Lb=function(){if(this.w()){this.g.style.display="none";for(var a=0,b;b=this.Bb[a];a++)M(b);this.Bb.length=0;this.vg&&(M(this.vg),this.vg=null)}};
f.show=function(a){this.Lb();for(var b=Lc(this.o,!1),c=0,d;d=b[c];c++)d.t==this.o&&d.j(!1,!1);for(var c=0,e;e=this.Cf[c];c++)G(e);this.Cf.length=0;var g=this.sa;this.g.style.display="block";var b=[],h=[];if("VARIABLE"==a)rf(b,h,g,this.o);else if("PROCEDURE"==a)Wc(b,h,g,this.o);else for(var k=0;d=a[k];k++)d.tagName&&"BLOCK"==d.tagName.toUpperCase()&&(d=Xf(this.o,d),b.push(d),h.push(3*g));a=g;for(k=0;d=b[k];k++){c=d.ob();e=0;for(var l;l=c[e];e++)l.ac=!0,l.Qd(null);d.L();l=d.J();e=oi(d);c=I?0:g+8;d.moveBy(c,
a);a+=e.height+h[k];e=K("rect",{"fill-opacity":0},null);this.o.Y.insertBefore(e,d.J());d.vd=e;this.Cf[k]=e;this.ie?this.Bb.push(L(l,"mousedown",null,pi(this,d))):this.Bb.push(L(l,"mousedown",null,qi(this,d)));this.Bb.push(L(l,"mouseover",d,d.tf));this.Bb.push(L(l,"mouseout",d,d.cf));this.Bb.push(L(e,"mousedown",null,pi(this,d)));this.Bb.push(L(e,"mouseover",d,d.tf));this.Bb.push(L(e,"mouseout",d,d.cf))}this.Bb.push(L(this.$a,"mouseover",this,function(){for(var a=Lc(this.o,!1),b=0,c;c=a[b];b++)c.cf()}));
this.K=0;this.ui();this.Of();ri(window,"resize");this.vg=L(this.o.Y,"blocklyWorkspaceChange",this,this.ui);this.o.Jb()};
f.ui=function(){for(var a=0,b=this.sa,c=Lc(this.o,!1),d=0,e;e=c[d];d++)var g=oi(e),a=Math.max(a,g.width);a+=b+8+b/2+T;if(this.K!=a){for(d=0;e=c[d];d++){var g=oi(e),h=e.Q();if(I){var k=a-b-8-h.x;e.moveBy(k,0);h.x+=k}e.vd&&(e.vd.setAttribute("width",g.width),e.vd.setAttribute("height",g.height),e.vd.setAttribute("x",I?h.x-g.width:h.x),e.vd.setAttribute("y",h.y))}this.K=a;ag(window,"resize")}};
function qi(a,b){return function(c){si();vg();Sc(c)?ti(b,c):(Lg(),tg(ug),ii=c,ji=b,ki=a,li=L(document,"mouseup",this,si),mi=L(document,"mousemove",this,a.Ck));c.stopPropagation()}}f.Re=function(a){Sc(a)||(vg(!0),ui(),this.Ei=a.clientY,ni=L(document,"mousemove",this,this.og),li=L(document,"mouseup",this,ui),a.preventDefault(),a.stopPropagation())};f.og=function(a){var b=a.clientY-this.Ei;this.Ei=a.clientY;a=hi(this);b=a.hc-b;b=Math.min(b,a.Xa-a.Aa);b=Math.max(b,0);this.Fc.set(b)};
f.Ck=function(a){"mousemove"==a.type&&1>=a.clientX&&0==a.clientY&&0==a.button?a.stopPropagation():(Lg(),Math.sqrt(Math.pow(a.clientX-ii.clientX,2)+Math.pow(a.clientY-ii.clientY,2))>vi&&pi(ki,ji)(ii))};function pi(a,b){return function(c){if(!Sc(c)&&!b.disabled){var d=Sf(b),d=Xf(a.$d,d),e=b.J();if(!e)throw"originBlock is not rendered.";var e=Cg(e),g=d.J();if(!g)throw"block is not rendered.";g=Cg(g);d.moveBy(e.x-g.x,e.y-g.y);a.ie?a.Lb():a.Of();d.Re(c)}}}
f.Of=function(){for(var a=Nc(this.$d),b=Lc(this.o,!1),c=0,d;d=b[c];c++){var e=d.ob().length>a;d.Rd(e)}};function ui(){li&&(M(li),li=null);mi&&(M(mi),mi=null);ni&&(M(ni),ni=null);li&&(M(li),li=null);ki=ji=ii=null}f.zd=function(){var a=Cg(this.g).x;I||(a-=1E7);return new ad(a,-1E7,1E7+this.K,this.Oa+2E7)};function wi(a){if("function"==typeof a.Vf)return a.Vf();if(n(a))return a.split("");if(ea(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}b=[];c=0;for(d in a)b[c++]=a[d];return b};function xi(a){this.Db=void 0;this.ta={};if(a){var b;if("function"==typeof a.Uf)b=a.Uf();else if("function"!=typeof a.Vf)if(ea(a)||n(a)){b=[];for(var c=a.length,d=0;d<c;d++)b.push(d)}else for(d in b=[],c=0,a)b[c++]=d;else b=void 0;a=wi(a);for(c=0;c<b.length;c++)this.set(b[c],a[c])}}f=xi.prototype;f.set=function(a,b){yi(this,a,b,!1)};f.add=function(a,b){yi(this,a,b,!0)};
function yi(a,b,c,d){for(var e=0;e<b.length;e++){var g=b.charAt(e);a.ta[g]||(a.ta[g]=new xi);a=a.ta[g]}if(d&&void 0!==a.Db)throw Error('The collection already contains the key "'+b+'"');a.Db=c}f.get=function(a){a:{for(var b=this,c=0;c<a.length;c++)if(b=b.ta[a.charAt(c)],!b){a=void 0;break a}a=b}return a?a.Db:void 0};f.Vf=function(){var a=[];zi(this,a);return a};function zi(a,b){void 0!==a.Db&&b.push(a.Db);for(var c in a.ta)zi(a.ta[c],b)}
f.Uf=function(a){var b=[];if(a){for(var c=this,d=0;d<a.length;d++){var e=a.charAt(d);if(!c.ta[e])return[];c=c.ta[e]}Ai(c,a,b)}else Ai(this,"",b);return b};function Ai(a,b,c){void 0!==a.Db&&c.push(b);for(var d in a.ta)Ai(a.ta[d],b+d,c)}f.clear=function(){this.ta={};this.Db=void 0};
f.remove=function(a){for(var b=this,c=[],d=0;d<a.length;d++){var e=a.charAt(d);if(!b.ta[e])throw Error('The collection does not have the key "'+a+'"');c.push([b,e]);b=b.ta[e]}a=b.Db;for(delete b.Db;0<c.length;)if(e=c.pop(),b=e[0],e=e[1],b.ta[e].$h())delete b.ta[e];else break;return a};f.clone=function(){return new xi(this)};f.$h=function(){var a;if(a=void 0===this.Db)a:{a=this.ta;for(var b in a){a=!1;break a}a=!0}return a};function Bi(){this.zc=new xi}f=Bi.prototype;f.Z="";f.ig=null;f.Ne=null;f.Md=0;f.ad=0;function Ci(a,b){var c=!1,d=a.zc.Uf(b);d&&d.length&&(a.ad=0,a.Md=0,c=a.zc.get(d[0]),c=Di(a,c))&&(a.ig=d);return c}function Di(a,b){var c;b&&(a.ad<b.length&&(c=b[a.ad],a.Ne=b),c&&(c.xg(),c.select()));return!!c}f.clear=function(){this.Z=""};function Ei(a,b,c,d,e){this.reset(a,b,c,d,e)}Ei.prototype.Lh=null;var Fi=0;Ei.prototype.reset=function(a,b,c,d,e){"number"==typeof e||Fi++;d||na();this.Ld=a;this.vk=b;delete this.Lh};Ei.prototype.Ai=function(a){this.Ld=a};function Gi(a){this.ji=a;this.Vh=this.S=this.Ld=this.xa=null}function Hi(a,b){this.name=a;this.value=b}Hi.prototype.toString=function(){return this.name};var Ii=new Hi("WARNING",900),Ji=new Hi("INFO",800),Ki=new Hi("CONFIG",700),Li=new Hi("FINE",500);f=Gi.prototype;f.getName=function(){return this.ji};f.getParent=function(){return this.xa};f.uc=function(){this.S||(this.S={});return this.S};f.Ai=function(a){this.Ld=a};
function Mi(a){if(a.Ld)return a.Ld;if(a.xa)return Mi(a.xa);Ja("Root logger has no level set.");return null}f.log=function(a,b,c){if(a.value>=Mi(this).value)for(u(b)&&(b=b()),a=new Ei(a,String(b),this.ji),c&&(a.Lh=c),c="log:"+a.vk,m.console&&(m.console.timeStamp?m.console.timeStamp(c):m.console.markTimeline&&m.console.markTimeline(c)),m.msWriteProfilerMark&&m.msWriteProfilerMark(c),c=this;c;){b=c;var d=a;if(b.Vh)for(var e=0,g=void 0;g=b.Vh[e];e++)g(d);c=c.getParent()}};
f.fe=function(a,b){this.log(Ii,a,b)};f.info=function(a,b){this.log(Ji,a,b)};var Ni={},Oi=null;function Pi(a){Oi||(Oi=new Gi(""),Ni[""]=Oi,Oi.Ai(Ki));var b;if(!(b=Ni[a])){b=new Gi(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=Pi(a.substr(0,c));c.uc()[d]=b;b.xa=c;Ni[a]=b}return b};function Qi(a){Zd.call(this);this.u=a;a=y?"focusout":"blur";this.qk=Ld(this.u,y?"focusin":"focus",this,!y);this.rk=Ld(this.u,a,this,!y)}w(Qi,Zd);Qi.prototype.handleEvent=function(a){var b=new Fd(a.Ba);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";this.dispatchEvent(b)};Qi.prototype.na=function(){Qi.i.na.call(this);Sd(this.qk);Sd(this.rk);delete this.u};function Ri(a,b,c){R.call(this,a,b,c);this.ud=!0;If(this,!0);this.Qa=this;this.be=new Bi;if(y)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(d){(a=this.ei)&&a.fe("Failed to enable background image cache",void 0)}}w(Ri,R);f=Ri.prototype;f.wa=null;f.Pf=null;f.ei=Pi("goog.ui.tree.TreeControl");f.Rf=!1;f.Oj=null;f.Vd=!0;f.Eg=!0;f.Kc=!0;f.Fg=!0;f.Ca=function(){return this};f.Uc=function(){return 0};f.xg=function(){};f.Yj=function(){this.Rf=!0;ne(this.h(),"focused");this.Qa&&this.Qa.select()};
f.Uj=function(){this.Rf=!1;pe(this.h(),"focused")};f.hasFocus=function(){return this.Rf};f.Ka=function(){return!this.Kc||Ri.i.Ka.call(this)};f.Qb=function(a){this.Kc?Ri.i.Qb.call(this,a):this.ud=a};f.Tf=function(){return wb};f.xe=function(){var a=Ff(this);return a?a.firstChild:null};f.we=function(){return null};f.kd=function(){};f.Ad=function(){return Ri.i.Ad.call(this)+(this.Kc?"":" "+this.ma.wh)};
f.te=function(){var a=this.Ka(),b=this.Nj;if(a&&b)return b;b=this.fk;if(!a&&b)return b;b=this.ma;return a&&b.vh?b.mc+" "+b.vh:!a&&b.qh?b.mc+" "+b.qh:""};f.Jc=function(a){if(this.Qa!=a){var b=!1;this.Qa&&(b=this.Qa==this.Oj,If(this.Qa,!1));if(this.Qa=a)If(a,!0),b&&a.select();this.dispatchEvent("change")}};function Si(a){0!=a.Vd&&(a.Vd=!1,a.B&&Ti(a))}
function Ti(a){function b(a){var h=Cf(a);if(h){var k=!d||c==a.getParent()&&!e?a.ma.oh:a.ma.nh;h.className=k;if(h=a.we())h.className=Mf(a)}ge(a,b)}var c=a,d=c.Vd,e=c.Fg;b(a)}function Ui(a){0!=a.Eg&&(a.Eg=!1,a.B&&Ti(a))}function Vi(a){if(0!=a.Kc){a.Kc=!1;if(a.B){var b=Ff(a);b&&(b.className=a.Ad())}a.Qa==a&&O(a,0)&&a.Jc(O(a,0))}}f.He=function(){Ri.i.He.call(this);var a=this.h();ue(a,"tree");P(a,"labelledby",Bf(this).id)};
f.oa=function(){Ri.i.oa.call(this);var a=this.h();a.className=this.ma.zh;a.setAttribute("hideFocus","true");a=this.h();a.tabIndex=0;var b=this.wa=new Ge(a),c=this.Pf=new Qi(a);ee(this).D(c,"focusout",this.Uj).D(c,"focusin",this.Yj).D(b,"key",this.qb).D(a,"mousedown",this.Xf).D(a,"click",this.Xf).D(a,"dblclick",this.Xf);this.He()};f.Ya=function(){Ri.i.Ya.call(this);this.wa.j();this.wa=null;this.Pf.j();this.Pf=null};
f.Xf=function(a){var b=this.ei;b&&b.log(Li,"Received event "+a.type,void 0);if(b=Wi(this,a))switch(a.type){case "mousedown":b.ng(a);break;case "click":a.preventDefault();break;case "dblclick":b.ki(a)}};
f.qb=function(a){var b=!1,b=this.be,c=!1;switch(a.keyCode){case 40:case 38:if(a.ctrlKey){var c=40==a.keyCode?1:-1,d=b.ig;if(d){var e=null,g=!1;if(b.Ne){var h=b.ad+c;0<=h&&h<b.Ne.length?(b.ad=h,e=b.Ne):g=!0}e||(h=b.Md+c,0<=h&&h<d.length&&(b.Md=h),d.length>b.Md&&(e=b.zc.get(d[b.Md])),e&&e.length&&g&&(b.ad=-1==c?e.length-1:0));Di(b,e)&&(b.ig=d)}c=!0}break;case 8:d=b.Z.length-1;c=!0;0<d?(b.Z=b.Z.substring(0,d),Ci(b,b.Z)):0==d?b.Z="":c=!1;break;case 27:b.Z="",c=!0}if(!(b=c)&&(b=this.Qa)){b=this.Qa;c=!0;
switch(a.keyCode){case 39:if(a.altKey)break;je(b)&&(b.Ka()?O(b,0).select():b.Qb(!0));break;case 37:if(a.altKey)break;je(b)&&b.Ka()&&b.Kd?b.Qb(!1):(d=b.getParent(),e=b.Ca(),d&&(e.Kc||d!=e)&&d.select());break;case 40:a:if(je(b)&&b.Ka())d=O(b,0);else{for(d=b;d!=b.Ca();){e=d.rb;if(null!=e){d=e;break a}d=d.getParent()}d=null}d&&d.select();break;case 38:d=b.Bc;null!=d?d=Pf(d):(d=b.getParent(),e=b.Ca(),d=!e.Kc&&d==e||b==e?null:d);d&&d.select();break;default:c=!1}c&&(a.preventDefault(),(e=b.Ca())&&e.be.clear());
b=c}b||(b=this.be,c=!1,a.ctrlKey||a.altKey||(d=String.fromCharCode(a.charCode||a.keyCode).toLowerCase(),(1==d.length&&" "<=d&&"~">=d||"\u0080"<=d&&"\ufffd">=d)&&(" "!=d||b.Z)&&(b.Z+=d,c=Ci(b,b.Z))),b=c);b&&a.preventDefault();return b};function Wi(a,b){for(var c=null,d=b.target;null!=d;){if(c=Af[d.id])return c;if(d==a.h())break;d=d.parentNode}return null}f.createNode=function(a){return new Qf(a||wb,this.ma,this.pb())};
function Of(a,b){var c=a.be,d=b.Kb();if(d&&!/^[\s\xa0]*$/.test(null==d?"":String(d))){var d=d.toLowerCase(),e=c.zc.get(d);e?e.push(b):c.zc.set(d,[b])}}f.removeNode=function(a){var b=this.be,c=a.Kb();if(c&&!/^[\s\xa0]*$/.test(null==c?"":String(c))){var c=c.toLowerCase(),d=b.zc.get(c);d&&(Va(d,a),d.length&&b.zc.remove(c))}};
// Copyright 2011 Google Inc.  Apache License 2.0
function Xi(a,b){this.jc=C("div","blocklyToolboxDiv");this.jc.setAttribute("dir",I?"RTL":"LTR");b.appendChild(this.jc);this.qa=new gi;a.appendChild(this.qa.G());L(this.jc,"mousedown",this,function(a){Sc(a)||a.target==this.jc?vg(!1):vg(!0)})}f=Xi.prototype;f.width=0;f.qf={dg:19,zh:"blocklyTreeRoot",wh:"blocklyHidden",xh:"",Hf:"blocklyTreeRow",yh:"blocklyTreeLabel",mc:"blocklyTreeIcon",Ff:"blocklyTreeIconOpen",Gf:"blocklyTreeIconNone",Ah:"blocklyTreeSelected"};
f.U=function(a){this.qf.cleardotPath=zg+"1x1.gif";this.qf.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(I?"Rtl":"Ltr");var b=new Yi(this,this.qf);this.ae=b;Vi(b);Si(b);Ui(b);b.Jc(null);this.jc.style.display="block";this.qa.U(a);Zi(this);b.L(this.jc);var c=this;Ld(window,"resize",function(){c.ec()});this.ec()};
f.ec=function(){var a=this.jc,b=od(J),c=Sh();I?(b=$i(0,0,!1),a.style.left=b.x+c.width-a.offsetWidth+"px"):a.style.marginLeft=b.left;a.style.height=c.height+1+"px";this.width=a.offsetWidth;I||--this.width};
function Zi(a){function b(a,e){for(var g=0,h;h=a.childNodes[g];g++)if(h.tagName){var k=h.tagName.toUpperCase();if("CATEGORY"==k){k=c.createNode(h.getAttribute("name"));k.kc=[];e.add(k);var l=h.getAttribute("custom");l?k.kc=l:b(h,k)}else"HR"==k?console.warn("The <hr> separator tag in the toolbox XML needs to be changed to <sep></sep> (due to a bug in IE)."):"SEP"==k?e.add(new aj):"BLOCK"==k&&e.kc.push(h)}}var c=a.ae;c.xi();c.kc=[];b(xc,a.ae);if(c.kc.length)throw"Toolbox cannot have both blocks and categories in the root level.";
ag(window,"resize")}f.zd=function(){return new ad(I?Sh().width-this.width:-1E7,-1E7,1E7+this.width,2E7)};function Yi(a,b){this.za=a;Ri.call(this,wb,b)}w(Yi,Ri);Yi.prototype.oa=function(){Yi.i.oa.call(this);if(zd){var a=this.h();L(a,"touchstart",this,this.ck)}};Yi.prototype.ck=function(a){a.preventDefault();var b=Wi(this,a);b&&"touchstart"===a.type&&setTimeout(function(){b.ng(a)},1)};Yi.prototype.createNode=function(a){return new bj(this.za,a?pb(a):wb,this.ma,this.pb())};
Yi.prototype.Jc=function(a){this.Qa!=a&&(Ri.prototype.Jc.call(this,a),a&&a.kc&&a.kc.length?this.za.qa.show(a.kc):this.za.qa.Lb())};function bj(a,b,c,d){R.call(this,b,c,d);a&&(b=function(){ag(window,"resize")},Ld(a.ae,"expand",b),Ld(a.ae,"collapse",b))}w(bj,Qf);R.prototype.Tf=function(){return ub("span")};bj.prototype.ng=function(){je(this)&&this.Kd?(this.toggle(),this.select()):this.Je()?this.Ca().Jc(null):this.select();Jf(this)};bj.prototype.ki=function(){};
function aj(){bj.call(this,null,"",cj)}w(aj,bj);var cj={Hf:"blocklyTreeSeparator"};
// Copyright 2011 Google Inc.  Apache License 2.0
var ej={me:null,show:function(a,b){dj();if(b.length){for(var c=new pf,d=0,e;e=b[d];d++){var g=new Xe(e.text);c.sf(g,!0);g.Sd(e.enabled);e.enabled&&Ld(g,"action",function(a){return function(){a()}}(e.fb))}Ld(c,"action",ej.Lb);e=$b();g=dd();c.L(fj);var h=c.h();Qc(h,"blocklyContextMenu");var k=gd(h),d=a.clientX+g.x,l=a.clientY+g.y;a.clientY+k.height>=e.height&&(l-=k.height);I?k.width>=a.clientX&&(d+=k.width):a.clientX+k.width>=e.width&&(d-=k.width);gj(d,l,e,g);qf(c);setTimeout(function(){h.focus()},
1);ej.me=null}else ej.Lb()},Lb:function(){Oh==ej&&hj();ej.me=null},Hl:function(a,b){return function(){var c=Xf(a.t,b),d=a.Q();d.x=I?d.x-V:d.x+V;d.y+=2*V;c.moveBy(d.x,d.y);c.select()}}};
// Copyright 2012 Google Inc.  Apache License 2.0
function Zh(){this.g=K("g",{},null);this.lf=K("path",{"class":"blocklyPathDark",transform:"translate(1, 1)"},this.g);this.Sb=K("path",{"class":"blocklyPath"},this.g);this.mf=K("path",{"class":"blocklyPathLight"},this.g);this.Sb.Sa=this;Jh(this.Sb);ci(this)}w(Zh,vh);f=Zh.prototype;f.height=0;f.width=0;
f.Nb=function(){for(var a=0,b;b=this.V[a];a++)b.U();this.Pe&&this.Pe.Jl();this.Mc();N||this.Kh||L(this.J(),"mousedown",this,this.Re);u(this.onchange)&&!this.Kh&&L(this.t.Y,"blocklyWorkspaceChange",this,this.onchange);this.Kh=!0;this.J().parentNode||this.t.Y.appendChild(this.J())};f.select=function(){U&&Tg();U=this;this.tf();ag(this.t.Y,"blocklySelectChange")};function Tg(){var a=U;U=null;a.cf();ag(a.t.Y,"blocklySelectChange")}f.Pe=null;f.M=null;f.fe=null;
function Wh(a){var b=[];a.Pe&&b.push(a.Pe);a.M&&b.push(a.M);a.fe&&b.push(a.fe);return b}var ij=null,jj=null;f=Zh.prototype;f.Ga=function(a){var b=this.J();if(this.Ac&&b){var c=this.Q();this.t.Y.appendChild(b);b.setAttribute("transform","translate("+c.x+", "+c.y+")")}Zh.i.Ga.call(this,a);a&&(c=this.Q(),a.J().appendChild(b),a=this.Q(),mh(this,a.x-c.x,a.y-c.y))};f.Q=function(){var a=0,b=0,c=this.J();if(c){do var d=Yg(c),a=a+d.x,b=b+d.y,c=c.parentNode;while(c&&c!=this.t.Y)}return new B(a,b)};
f.moveBy=function(a,b){var c=this.Q();this.J().setAttribute("transform","translate("+(c.x+a)+", "+(c.y+b)+")");mh(this,a,b);kj(this)};function oi(a){var b=a.height,c=a.width;if(a=Tf(a))a=oi(a),b+=a.height-4,c=Math.max(c,a.width);return{height:b,width:c}}
f.Hc=function(a){if(this.lc!=a){Zh.i.Hc.call(this,a);for(var b=[],c=0,d;d=this.V[c];c++)b.push.apply(b,d.F(!a));if(a){a=Wh(this);for(c=0;c<a.length;c++)a[c].F(!1);c=this.toString(lj);Vh(ei(this,5,"_TEMP_COLLAPSED_INPUT"),c).U()}else a:{for(c=0;a=this.V[c];c++)if("_TEMP_COLLAPSED_INPUT"==a.name){a.n&&a.n.m&&S(a.n).Ga(null);a.j();this.V.splice(c,1);this.v&&(this.L(),this.Na());break a}Ja('Input "%s" not found.',"_TEMP_COLLAPSED_INPUT")}b.length||(b[0]=this);if(this.v){for(c=0;a=b[c];c++)a.L();this.Na()}}};
f.Re=function(a){if(!this.ac){mj();si();this.select();vg();if(Sc(a))ti(this,a);else if(this.Ob&&!N){Lg();tg(ug);var b=this.Q();this.Fi=b.x;this.Gi=b.y;this.Jg=a.clientX;this.Kg=a.clientY;Tc=1;ij=L(document,"mouseup",this,this.pg);jj=L(document,"mousemove",this,this.og);this.qe=[];for(var b=this.ob(),c=0,d;d=b[c];c++){d=Wh(d);for(var e=0;e<d.length;e++){var g;g=d[e];g={x:g.Xc,y:g.Yc};g.qj=d[e];this.qe.push(g)}}}else return;a.stopPropagation()}};
f.pg=function(a){var b=this;nj(function(){si();if(U&&ah){dg(bh,ah);if(b.v){var c=(ch(bh)?ah:bh).k;oj("click");var d=Cg(c.g);c.I?(d.x+=I?3:-3,d.y+=13):c.A&&(d.x+=I?-23:23,d.y+=3);c=K("circle",{cx:d.x,cy:d.y,r:0,fill:"none",stroke:"#888","stroke-width":10},J);c.Hg=new Date;pj(c)}b.t.Ta&&b.t.Ta.close()}else Ug(b.t,a)&&U.nc&&!N&&((c=b.t.Ta)&&yf(c.close,100,c),U.j(!1,!0),ag(window,"resize"));ah&&(G(Zg.Ee),delete Zg.Ee,ah=null);tg(qj)})};
function ti(a,b){if(!N&&a.contextMenu){var c=[];if(a.nc&&!N&&a.Ob&&!N&&!a.ac){var d={text:rj,enabled:!0,fb:function(){var b=Sf(a);hg(b);var b=Xf(a.t,b),c=a.Q();c.x=I?c.x-V:c.x+V;c.y+=2*V;b.moveBy(c.x,c.y);b.select()}};a.ob().length>Nc(a.t)&&(d.enabled=!1);c.push(d);a.Tc&&!N&&!a.lc&&yc&&(d={enabled:!0},a.M?(d.text=sj,d.fb=function(){a.Qd(null)}):(d.text=tj,d.fb=function(){a.Qd("")}),c.push(d));if(!a.lc)for(d=0;d<a.V.length;d++)if(1==a.V[d].type){d={enabled:!0};d.text=a.Id?uj:vj;d.fb=function(){eg(a,
!a.Id)};c.push(d);break}zc&&(a.lc?(d={enabled:!0},d.text=wj,d.fb=function(){a.Hc(!1)}):(d={enabled:!0},d.text=xj,d.fb=function(){a.Hc(!0)}),c.push(d));Ac&&(d={text:a.disabled?yj:zj,enabled:!di(a),fb:function(){a.Rd(!a.disabled)}},c.push(d));var d=a.ob().length,e=Tf(a);e&&(d-=e.ob().length);d={text:1==d?Aj:Bj.replace("%1",String(d)),enabled:!0,fb:function(){a.j(!0,!0)}};c.push(d)}d={enabled:!(u(a.wc)?!a.wc():!a.wc)};d.text=Cj;d.fb=function(){var b=u(a.wc)?a.wc():a.wc;b&&window.open(b)};c.push(d);a.Fj&&
!a.ac&&a.Fj(c);ej.show(b,c);ej.me=a}}function mh(a,b,c){if(a.v){for(var d=qh(a,!1),e=0;e<d.length;e++)d[e].moveBy(b,c);d=Wh(a);for(e=0;e<d.length;e++)Xg(d[e]);for(e=0;e<a.vb.length;e++)mh(a.vb[e],b,c)}}function Dj(a,b){b?Qc(a.g,"blocklyDragging"):Rc(a.g,"blocklyDragging");for(var c=0;c<a.vb.length;c++)Dj(a.vb[c],b)}
f.og=function(a){var b=this;nj(function(){if(!("mousemove"==a.type&&1>=a.clientX&&0==a.clientY&&0==a.button)){Lg();var c=a.clientX-b.Jg,d=a.clientY-b.Kg;if(1==Tc&&Math.sqrt(Math.pow(c,2)+Math.pow(d,2))>vi){Tc=2;b.Ga(null);Dj(b,!0);var e=b.t;e.Ch=e.Ta?e.Ta.zd():null;e.Bh=e.qa?e.qa.zd():e.za?e.za.zd():null}if(2==Tc){b.J().setAttribute("transform","translate("+(b.Fi+c)+", "+(b.Gi+d)+")");for(e=0;e<b.qe.length;e++){var g=b.qe[e],h=g.qj,k=g.x+c,g=g.y+d;h.Xc=k;h.Yc=g;h.w()&&kg(h.ha,k,g)}for(var h=qh(b,
!1),g=k=null,l=V,e=0;e<h.length;e++){var r=h[e],v=nh(r,l,c,d);v.n&&(k=v.n,g=r,l=v.ti)}ah&&ah!=k&&(G(Zg.Ee),delete Zg.Ee,bh=ah=null);k&&k!=ah&&(k.Wh(),ah=k,bh=g);b.nc&&!N&&Ug(b.t,a)}}a.stopPropagation()})};function ci(a){a.Ob&&!N?Qc(a.g,"blocklyDraggable"):Rc(a.g,"blocklyDraggable")}f.J=function(){return this.g};var Ej=7*(1-Math.SQRT1_2)+1,Fj=9*(1-Math.SQRT1_2)-1,Gj="m "+Ej+","+Ej,Hj="a 9,9 0 0,0 "+(-Fj-1)+","+(8-Fj),Ij="a 9,9 0 0,0 "+(8-Fj)+","+(Fj+1);f=Zh.prototype;
f.j=function(a,b){si();ej.me==this&&ej.Lb();ai(this,a);if(b&&this.v){oj("delete");var c=Cg(this.g),d=this.g.cloneNode(!0);d.Mi=c.x;d.Ni=c.y;d.setAttribute("transform","translate("+d.Mi+","+d.Ni+")");J.appendChild(d);d.bh=d.getBBox();d.Hg=new Date;Jj(d)}this.v=!1;c=Wh(this);for(d=0;d<c.length;d++)c[d].j();Zh.i.j.call(this,a);G(this.g);this.lf=this.mf=this.Sb=this.g=null};
function Jj(a){var b=(new Date-a.Hg)/150;1<b?G(a):(a.setAttribute("transform","translate("+(a.Mi+(I?-1:1)*a.bh.width/2*b+", "+(a.Ni+a.bh.height*b))+") scale("+(1-b)+")"),setTimeout(function(){Jj(a)},10))}function pj(a){var b=(new Date-a.Hg)/150;1<b?G(a):(a.setAttribute("r",25*b),a.style.opacity=1-b,setTimeout(function(){pj(a)},10))}
f.Mc=function(){if(!this.disabled){var a=tf(wf(this.lh)),b,c;c=a;if(!vf.test(c))throw Error("'"+c+"' is not a valid hex color");4==c.length&&(c=c.replace(sf,"#$1$1$2$2$3$3"));c=c.toLowerCase();b=[parseInt(c.substr(1,2),16),parseInt(c.substr(3,2),16),parseInt(c.substr(5,2),16)];c=xf([255,255,255],b,.3);b=xf([0,0,0],b,.4);this.mf.setAttribute("stroke",tf(c));this.lf.setAttribute("fill",tf(b));this.Sb.setAttribute("fill",a);c=Wh(this);for(a=0;a<c.length;a++)c[a].Mc();for(a=0;c=this.V[a];a++){b=0;for(var d;d=
c.ua[b];b++)d.Rb(null)}}};function $f(a){var b;b=-1!=(" "+a.g.getAttribute("class")+" ").indexOf(" blocklyDisabled ");a.disabled||di(a)?b||(Qc(a.g,"blocklyDisabled"),a.Sb.setAttribute("fill","url(#blocklyDisabledPattern)")):b&&(Rc(a.g,"blocklyDisabled"),a.Mc());a=a.uc();b=0;for(var c;c=a[b];b++)$f(c)}f.Nh=function(){return this.M?this.M.Kb().replace(/\s+$/,"").replace(/ +\n/g,"\n"):""};
f.Qd=function(a){var b=!1;n(a)?(this.M||(this.M=new wh(this),b=!0),this.M.Rb(a)):this.M&&(this.M.j(),b=!0);b&&this.v&&(this.L(),this.Na())};f.Rd=function(a){this.disabled!=a&&(Zh.i.Rd.call(this,a),this.v&&$f(this),this.t.Jb())};f.tf=function(){Qc(this.g,"blocklySelected");this.g.parentNode.appendChild(this.g)};f.cf=function(){Rc(this.g,"blocklySelected")};
f.L=function(a){this.v=!0;var b=10;I&&(b=-b);for(var c=Wh(this),d=0;d<c.length;d++){var e=c[d];e.Ia.isCollapsed()?e.Ea.setAttribute("display","none"):(e.Ea.setAttribute("display","block"),I&&(b-=16),e.Ea.setAttribute("transform","translate("+b+", 5)"),Xg(e),b=I?b-10:b+26)}var g=b+=I?10:-10,h=this.V,c=[];c.W=g+20;if(this.A||this.H)c.W=Math.max(c.W,40);for(var e=d=0,k=!1,l=!1,r=!1,v=void 0,p=this.Id&&!this.isCollapsed(),D=0,t;t=h[D];D++)if(t.w()){var F;p&&v&&3!=v&&3!=t.type?F=c[c.length-1]:(v=t.type,
F=[],F.type=p&&3!=t.type?-1:t.type,F.height=0,c.push(F));F.push(t);t.Ec=25;t.ra=p&&1==t.type?20.5:0;if(t.n&&t.n.m){var ya=oi(S(t.n));t.Ec=Math.max(t.Ec,ya.height);t.ra=Math.max(t.ra,ya.width)}D==h.length-1&&t.Ec--;F.height=Math.max(F.height,t.Ec);t.kb=0;1==c.length&&(t.kb+=I?-g:g);for(var ya=!1,Gf=0,hb;hb=t.ua[Gf];Gf++){0!=Gf&&(t.kb+=10);var fi=hb.Qh();hb.ra=fi.width;hb.ef=ya&&hb.ld?10:0;t.kb+=hb.ra+hb.ef;F.height=Math.max(F.height,fi.height);ya=hb.ld}-1!=F.type&&(3==F.type?(l=!0,e=Math.max(e,t.kb)):
(1==F.type?k=!0:5==F.type&&(r=!0),d=Math.max(d,t.kb)))}for(g=0;F=c[g];g++)if(F.Ki=!1,-1==F.type)for(h=0;t=F[h];h++)if(1==t.type){F.height+=10;F.Ki=!0;break}c.jf=20+e;l&&(c.W=Math.max(c.W,c.jf+30));k?c.W=Math.max(c.W,d+20+8):r&&(c.W=Math.max(c.W,d+20));c.ek=k;c.Sl=l;c.Rl=r;e=b;this.I?this.Gg=this.hf=!0:(this.Gg=this.hf=!1,this.A&&(b=S(this.A))&&Tf(b)==this&&(this.hf=!0),Tf(this)&&(this.Gg=!0));k=this.Q();l=[];r=[];b=[];d=[];t=c.W;this.hf?(l.push("m 0,0"),b.push("m 1,1")):(l.push("m 0,8"),b.push(I?
Gj:"m 1,7"),l.push("A 8,8 0 0,1 8,0"),b.push("A 7,7 0 0,1 8,1"));this.A&&(l.push("H",15),b.push("H",15),l.push("l 6,4 3,0 6,-4"),b.push("l 6.5,4 2,0 6.5,-4"),this.A.moveTo(k.x+(I?-30:30),k.y));l.push("H",t);b.push("H",t+(I?-1:0));this.width=t;for(F=t=0;g=c[F];F++){p=10;0==F&&(p+=I?-e:e);b.push("M",c.W-1+","+(t+1));if(this.isCollapsed())h=g[0],D=t+18,Kj(h.ua,p,D),l.push("l 8,0 0,4 8,4 -16,8 8,4"),I?b.push("l 8,0 0,3.8 7,3.2 m -14.5,9 l 8,4"):b.push("h 8"),h=g.height-20,l.push("v",h),I&&b.push("v",
h-2),this.width+=15;else if(-1==g.type){for(v=0;h=g[v];v++)D=t+18,g.Ki&&(D+=5),p=Kj(h.ua,p,D),5!=h.type&&(p+=h.ra+10),1==h.type&&(r.push("M",p-10+","+(t+5)),r.push("h",6-h.ra),r.push("v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5"),r.push("v",h.Ec+1-20),r.push("h",h.ra+2-8),r.push("z"),I?(d.push("M",p-10-3+8-h.ra+","+(t+5+1)),d.push("v 6.5 m -7.84,2.5 q -0.4,10 2.16,10 m 5.68,-2.5 v 1.5"),d.push("v",h.Ec-20+3),d.push("h",h.ra-8+1)):(d.push("M",p-10+1+","+(t+5+1)),d.push("v",h.Ec+1),d.push("h",6-h.ra),d.push("M",
p-h.ra-10+1.8+","+(t+5+20-.4)),d.push("l","3.04,-1.8")),D=I?k.x-p-8+10+h.ra+1:k.x+p+8-10-h.ra-1,ya=k.y+t+5+1,h.n.moveTo(D,ya),h.n.m&&lh(h.n));p=Math.max(p,c.W);this.width=Math.max(this.width,p);l.push("H",p);b.push("H",p+(I?-1:0));l.push("v",g.height);I&&b.push("v",g.height-2)}else 1==g.type?(h=g[0],D=t+18,-1!=h.align&&(v=c.W-h.kb-8-20,1==h.align?p+=v:0==h.align&&(p+=(v+p)/2)),Kj(h.ua,p,D),l.push("v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5"),v=g.height-20,l.push("v",v),I?(b.push("v 6.5 m -7.84,2.5 q -0.4,10 2.16,10 m 5.68,-2.5 v 1.5"),
b.push("v",v)):(b.push("M",c.W-4.2+","+(t+20-.4)),b.push("l","3.04,-1.8")),D=k.x+(I?-c.W-1:c.W+1),ya=k.y+t,h.n.moveTo(D,ya),h.n.m&&(lh(h.n),this.width=Math.max(this.width,c.W+oi(S(h.n)).width-8+1))):5==g.type?(h=g[0],D=t+18,-1!=h.align&&(v=c.W-h.kb-20,c.ek&&(v-=8),1==h.align?p+=v:0==h.align&&(p+=(v+p)/2)),Kj(h.ua,p,D),l.push("v",g.height),I&&b.push("v",g.height-2)):3==g.type&&(h=g[0],0==F&&(l.push("v",10),I&&b.push("v",9),t+=10),D=t+18,-1!=h.align&&(v=c.jf-h.kb-20,1==h.align?p+=v:0==h.align&&(p+=
(v+p)/2)),Kj(h.ua,p,D),p=c.jf+30,l.push("H",p),l.push("l -6,4 -3,0 -6,-4 h -7 a 8,8 0 0,0 -8,8"),l.push("v",g.height-16),l.push("a 8,8 0 0,0 8,8"),l.push("H",c.W),I?(b.push("M",p-30+Fj+","+(t+Fj)),b.push(Hj),b.push("v",g.height-16),b.push("a 9,9 0 0,0 9,9"),b.push("H",c.W-1)):(b.push("M",p-30+Fj+","+(t+g.height-Fj)),b.push(Ij),b.push("H",c.W)),D=k.x+(I?-p:p),ya=k.y+t+1,h.n.moveTo(D,ya),h.n.m&&(lh(h.n),this.width=Math.max(this.width,c.jf+oi(S(h.n)).width)),F==c.length-1||3==c[F+1].type)&&(l.push("v",
10),I&&b.push("v",9),t+=10);t+=g.height}c.length||(t=25,l.push("V",t),I&&b.push("V",t-1));c=t;this.height=c+1;this.H&&(l.push("H","30 l -6,4 -3,0 -6,-4"),this.H.moveTo(I?k.x-30:k.x+30,k.y+c+1),this.H.m&&lh(this.H),this.height+=4);this.Gg?(l.push("H 0"),I||b.push("M","1,"+c)):(l.push("H",8),l.push("a","8,8 0 0,1 -8,-8"),I||(b.push("M",Ej+","+(c-Ej)),b.push("A","7,7 0 0,1 1,"+(c-8))));this.I?(this.I.moveTo(k.x,k.y),l.push("V",20),l.push("c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5"),I?(b.push("M","-2.4,8.9"),
b.push("l","-3.6,-2.1")):(b.push("V",19),b.push("m","-7.36,-1 q -1.52,-5.5 0,-11"),b.push("m","7.36,1 V 1 H 2")),this.width+=8):I||(this.hf?b.push("V",1):b.push("V",8));l.push("z");c=l.join(" ")+"\n"+r.join(" ");this.Sb.setAttribute("d",c);this.lf.setAttribute("d",c);c=b.join(" ")+"\n"+d.join(" ");this.mf.setAttribute("d",c);I&&(this.Sb.setAttribute("transform","scale(-1 1)"),this.mf.setAttribute("transform","scale(-1 1)"),this.lf.setAttribute("transform","translate(1,1) scale(-1 1)"));!1!==a&&((a=
this.getParent())?a.L(!0):ag(window,"resize"));kj(this)};function Kj(a,b,c){I&&(b=-b);for(var d=0,e;e=a[d];d++){var g=e.J();g&&(I?(b-=e.ef+e.ra,g.setAttribute("transform","translate("+b+", "+c+")"),e.ra&&(b-=10)):(g.setAttribute("transform","translate("+(b+e.ef)+", "+c+")"),e.ra&&(b+=e.ef+e.ra+10)))}return I?-b:b};
// Copyright 2012 Google Inc.  Apache License 2.0
function Qc(a,b){var c=a.getAttribute("class")||"";-1==(" "+c+" ").indexOf(" "+b+" ")&&(c&&(c+=" "),a.setAttribute("class",c+b))}function Rc(a,b){var c=a.getAttribute("class");if(-1!=(" "+c+" ").indexOf(" "+b+" ")){for(var c=c.split(/\s+/),d=0;d<c.length;d++)c[d]&&c[d]!=b||(c.splice(d,1),d--);c.length?a.setAttribute("class",c.join(" ")):a.removeAttribute("class")}}
function L(a,b,c,d){function e(a){d.call(c,a)}a.addEventListener(b,e,!1);var g=[[a,b,e]];if(b in Lj)for(var e=function(a){if(1==a.changedTouches.length){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY}d.call(c,a);a.preventDefault()},h=0,k;k=Lj[b][h];h++)a.addEventListener(k,e,!1),g.push([a,k,e]);return g}var Lj={};zd&&(Lj={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});
function M(a){for(;a.length;){var b=a.pop();b[0].removeEventListener(b[1],b[2],!1)}}function ri(a,b){var c=Mj[b];if(c){var d=c.indexOf(a);-1!=d&&c.splice(d,1)}if(document.createEvent)c=document.createEvent("UIEvents"),c.initEvent(b,!0,!0),a.dispatchEvent(c);else if(document.createEventObject)c=document.createEventObject(),a.fireEvent("on"+b,c);else throw"FireEvent: No event creation mechanism.";}
function ag(a,b){var c=Mj[b];if(c){if(-1!=c.indexOf(a))return;c.push(a)}else Mj[b]=[a];setTimeout(function(){ri(a,b)},0)}var Mj={};function Yg(a){var b={x:0,y:0},c=a.getAttribute("x");c&&(b.x=parseInt(c,10));if(c=a.getAttribute("y"))b.y=parseInt(c,10);if(a=(a=a.getAttribute("transform"))&&a.match(/translate\(\s*([-\d.]+)([ ,]\s*([-\d.]+)\s*\))?/))b.x+=parseInt(a[1],10),a[3]&&(b.y+=parseInt(a[3],10));return b}
function Cg(a){var b=0,c=0;do{var d=Yg(a),b=b+d.x,c=c+d.y;a=a.parentNode}while(a&&a!=J);return{x:b,y:c}}function K(a,b,c){a=document.createElementNS("http://www.w3.org/2000/svg",a);for(var d in b)a.setAttribute(d,b[d]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);c&&c.appendChild(a);return a}function Sc(a){return 2==a.button||a.ctrlKey}
function $i(a,b,c){c&&(a-=window.scrollX||window.pageXOffset,b-=window.scrollY||window.pageYOffset);var d=J.createSVGPoint();d.x=a;d.y=b;a=J.getScreenCTM();c&&(a=a.inverse());d=d.matrixTransform(a);c||(d.x+=window.scrollX||window.pageXOffset,d.y+=window.scrollY||window.pageYOffset);return d}function Kg(a){return $i(a.clientX+(window.scrollX||window.pageXOffset),a.clientY+(window.scrollY||window.pageYOffset),!0)};
// Copyright 2012 Google Inc.  Apache License 2.0

// Copyright 2012 Google Inc.  Apache License 2.0

// Copyright 2012 Google Inc.  Apache License 2.0

// Copyright 2012 Google Inc.  Apache License 2.0

// Copyright 2013 Google Inc.  Apache License 2.0
var qj="handopen",ug="handclosed",Vg="handdelete",Nj="",Oj=null,Pj="";function Qj(){var a=".blocklyDraggable {}\n";Bc&&(a+=Rj.join("\n"));Pj=zg.replace(/[\\\/]$/,"");var a=a.replace(/<<<PATH>>>/g,Pj),b=document,c=b.createElement("style");c.type="text/css";b.getElementsByTagName("head")[0].appendChild(c);c.styleSheet?c.styleSheet.cssText=a:c.appendChild(b.createTextNode(a));Oj=c.sheet;tg(qj)}
function tg(a){if(!N&&Nj!=a){Nj=a;var b="url("+Pj+"/"+a+".cur) "+(a==qj?"8 5":"7 3")+", auto",c=".blocklyDraggable {\n  cursor: "+b+";\n}\n",d=Oj||"".parentStyleSheet||"".style&&"".style["-closure-parent-stylesheet"];if(d){d.deleteRule?d.deleteRule(0):d.removeRule(0);var e=0;if(0>e||void 0==e){e=null;try{e=d.cssRules||d.rules}catch(g){if(15==g.code)throw g.styleSheet=d,g;}e=e.length}if(d.insertRule)d.insertRule(c,e);else if(c=/^([^\{]+)\{([^\{]+)\}/.exec(c),3==c.length)d.addRule(c[1],c[2],e);else throw Error("Your CSSRule appears to be ill-formatted.");
}else throw Error("Cannot proceed without the parentStyleSheet.");d=document.getElementsByClassName("blocklyToolboxDiv");for(c=0;e=d[c];c++)e.style.cursor=a==qj?"":b;J&&(J.style.cursor=a==qj?"":b)}}
var Rj=[".blocklySvg {","  background-color: #fff;","  border: 1px solid #ddd;","  overflow: hidden;","}",".blocklyWidgetDiv {","  display: none;","  position: absolute;","  z-index: 999;","}",".blocklyResizeSE {","  cursor: se-resize;","  fill: #aaa;","}",".blocklyResizeSW {","  cursor: sw-resize;","  fill: #aaa;","}",".blocklyResizeLine {","  stroke: #888;","  stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","  fill: none;","  stroke: #fc3;","  stroke-width: 4px;","}",".blocklyPathLight {",
"  fill: none;","  stroke-linecap: round;","  stroke-width: 2;","}",".blocklySelected>.blocklyPath {","  stroke: #fc3;","  stroke-width: 3px;","}",".blocklySelected>.blocklyPathLight {","  display: none;","}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","  fill-opacity: .8;","  stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","  display: none;","}",".blocklyDisabled>.blocklyPath {","  fill-opacity: .5;","  stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",
".blocklyDisabled>.blocklyPathDark {","  display: none;","}",".blocklyText {","  cursor: default;","  fill: #fff;","  font-family: sans-serif;","  font-size: 11pt;","}",".blocklyNonEditableText>text {","  pointer-events: none;","}",".blocklyNonEditableText>rect,",".blocklyEditableText>rect {","  fill: #fff;","  fill-opacity: .6;","}",".blocklyNonEditableText>text,",".blocklyEditableText>text {","  fill: #000;","}",".blocklyEditableText:hover>rect {","  stroke: #fff;","  stroke-width: 2;","}",".blocklyBubbleText {",
"  fill: #000;","}",".blocklySvg text {","  user-select: none;","  -moz-user-select: none;","  -webkit-user-select: none;","  cursor: inherit;","}",".blocklyHidden {","  display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","  display: block;","}",".blocklyTooltipBackground {","  fill: #ffffc7;","  stroke: #d8d8d8;","  stroke-width: 1px;","}",".blocklyTooltipShadow,",".blocklyDropdownMenuShadow {","  fill: #bbb;","  filter: url(#blocklyShadowFilter);","}",".blocklyTooltipText {","  fill: #000;",
"  font-family: sans-serif;","  font-size: 9pt;","}",".blocklyIconShield {","  cursor: default;","  fill: #00c;","  stroke: #ccc;","  stroke-width: 1px;","}",".blocklyIconGroup:hover>.blocklyIconShield {","  fill: #00f;","  stroke: #fff;","}",".blocklyIconGroup:hover>.blocklyIconMark {","  fill: #fff;","}",".blocklyIconMark {","  cursor: default !important;","  fill: #ccc;","  font-family: sans-serif;","  font-size: 9pt;","  font-weight: bold;","  text-anchor: middle;","}",".blocklyWarningBody {",
"}",".blocklyMinimalBody {","  margin: 0;","  padding: 0;","}",".blocklyCommentTextarea {","  background-color: #ffc;","  border: 0;","  margin: 0;","  padding: 2px;","  resize: none;","}",".blocklyHtmlInput {","  border: none;","  font-family: sans-serif;","  font-size: 11pt;","  outline: none;","  width: 100%","}",".blocklyMutatorBackground {","  fill: #fff;","  stroke: #ddd;","  stroke-width: 1;","}",".blocklyFlyoutBackground {","  fill: #ddd;","  fill-opacity: .8;","}",".blocklyColourBackground {",
"  fill: #666;","}",".blocklyScrollbarBackground {","  fill: #fff;","  stroke: #e4e4e4;","  stroke-width: 1;","}",".blocklyScrollbarKnob {","  fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarKnob,",".blocklyScrollbarKnob:hover {","  fill: #bbb;","}",".blocklyInvalidInput {","  background: #faa;","}",".blocklyAngleCircle {","  stroke: #444;","  stroke-width: 1;","  fill: #ddd;","  fill-opacity: .8;","}",".blocklyAngleMarks {","  stroke: #444;","  stroke-width: 1;","}",".blocklyAngleGauge {",
"  fill: #f88;","  fill-opacity: .8;  ","}",".blocklyAngleLine {","  stroke: #f00;","  stroke-width: 2;","  stroke-linecap: round;","}",".blocklyContextMenu {","  border-radius: 4px;","}",".blocklyDropdownMenu {","  padding: 0 !important;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {","  background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px !important;","}",".blocklyToolboxDiv {","  background-color: #ddd;",
"  display: none;","  overflow-x: visible;","  overflow-y: auto;","  position: absolute;","}",".blocklyTreeRoot {","  padding: 4px 0;","}",".blocklyTreeRoot:focus {","  outline: none;","}",".blocklyTreeRow {","  line-height: 22px;","  height: 22px;","  padding-right: 1em;","  white-space: nowrap;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"  padding-right: 0;","  padding-left: 1em !important;","}",".blocklyTreeRow:hover {","  background-color: #e4e4e4;","}",".blocklyTreeSeparator {","  border-bottom: solid #e5e5e5 1px;",
"  height: 0px;","  margin: 5px 0;","}",".blocklyTreeIcon {","  background-image: url(<<<PATH>>>/sprites.png);","  height: 16px;","  vertical-align: middle;","  width: 16px;","}",".blocklyTreeIconClosedLtr {","  background-position: -32px -1px;","}",".blocklyTreeIconClosedRtl {","  background-position: 0px -1px;","}",".blocklyTreeIconOpen {","  background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {","  background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {",
"  background-position: 0px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","  background-position: -16px -17px;","}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {","  background-position: -48px -1px;","}",".blocklyTreeLabel {","  cursor: default;","  font-family: sans-serif;","  font-size: 16px;","  padding: 0 3px;","  vertical-align: middle;","}",".blocklyTreeSelected  {","  background-color: #57e !important;","}",".blocklyTreeSelected .blocklyTreeLabel {","  color: #fff;",
"}",".blocklyWidgetDiv .goog-palette {","  outline: none;","  cursor: default;","}",".blocklyWidgetDiv .goog-palette-table {","  border: 1px solid #666;","  border-collapse: collapse;","}",".blocklyWidgetDiv .goog-palette-cell {","  height: 13px;","  width: 15px;","  margin: 0;","  border: 0;","  text-align: center;","  vertical-align: middle;","  border-right: 1px solid #666;","  font-size: 1px;","}",".blocklyWidgetDiv .goog-palette-colorswatch {","  position: relative;","  height: 13px;","  width: 15px;",
"  border: 1px solid #666;","}",".blocklyWidgetDiv .goog-palette-cell-hover .goog-palette-colorswatch {","  border: 1px solid #FFF;","}",".blocklyWidgetDiv .goog-palette-cell-selected .goog-palette-colorswatch {","  border: 1px solid #000;","  color: #fff;","}",".blocklyWidgetDiv .goog-menu {","  background: #fff;","  border-color: #ccc #666 #666 #ccc;","  border-style: solid;","  border-width: 1px;","  cursor: default;","  font: normal 13px Arial, sans-serif;","  margin: 0;","  outline: none;","  padding: 4px 0;",
"  position: absolute;","  z-index: 20000;","}",".blocklyWidgetDiv .goog-menuitem {","  color: #000;","  font: normal 13px Arial, sans-serif;","  list-style: none;","  margin: 0;","  padding: 4px 7em 4px 28px;","  white-space: nowrap;","}",".blocklyWidgetDiv .goog-menuitem.goog-menuitem-rtl {","  padding-left: 7em;","  padding-right: 28px;","}",".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem,",".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem {","  padding-left: 12px;","}",".blocklyWidgetDiv .goog-menu-noaccel .goog-menuitem {",
"  padding-right: 20px;","}",".blocklyWidgetDiv .goog-menuitem-content {","  color: #000;","  font: normal 13px Arial, sans-serif;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-accel,",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content {","  color: #ccc !important;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon {","  opacity: 0.3;","  -moz-opacity: 0.3;","  filter: alpha(opacity=30);","}",".blocklyWidgetDiv .goog-menuitem-highlight,",".blocklyWidgetDiv .goog-menuitem-hover {",
"  background-color: #d6e9f8;","  border-color: #d6e9f8;","  border-style: dotted;","  border-width: 1px 0;","  padding-bottom: 3px;","  padding-top: 3px;","}",".blocklyWidgetDiv .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-icon {","  background-repeat: no-repeat;","  height: 16px;","  left: 6px;","  position: absolute;","  right: auto;","  vertical-align: middle;","  width: 16px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon {",
"  left: auto;","  right: 6px;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {","  background: url(//ssl.gstatic.com/editor/editortoolbar.png) no-repeat -512px 0;","}",".blocklyWidgetDiv .goog-menuitem-accel {","  color: #999;","  direction: ltr;","  left: auto;","  padding: 0 6px;","  position: absolute;","  right: 0;","  text-align: right;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-accel {","  left: 0;",
"  right: auto;","  text-align: left;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-hint {","  text-decoration: underline;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-separator {","  color: #999;","  font-size: 12px;","  padding-left: 4px;","}",".blocklyWidgetDiv .goog-menuseparator {","  border-top: 1px solid #ccc;","  margin: 4px 0;","  padding: 0;","}",""];
// Copyright 2011 Google Inc.  Apache License 2.0
function Sj(a){function b(){Tj(a);Uj()}var c={media:"media/",readOnly:!0,$l:-1!=Vj.indexOf(tc),scrollbars:!1};if(!fc(document,a))throw"Error: container is not in current document.";c&&Wj(c);if(Cc){if(c=document.getElementById("realtime"))c.style.display="block";Xj(b,a)}else b()}
function Wj(a){var b=!!a.readOnly;if(b)var c=!1,d=!1,e=!1,g=!1,h=!1,k=null;else(c=a.toolbox)?("string"!=typeof c&&"undefined"==typeof XSLTProcessor&&(c=c.outerHTML),"string"==typeof c&&(c=Vf(c))):c=null,k=c,c=Boolean(k&&k.getElementsByTagName("category").length),d=a.trashcan,void 0===d&&(d=c),e=a.collapse,void 0===e&&(e=c),g=a.comments,void 0===g&&(g=c),h=a.disable,void 0===h&&(h=c);var l=a.scrollbars;void 0===l&&(l=c);var r=a.sounds;void 0===r&&(r=!0);var v=a.css;void 0===v&&(v=!0);var p=!!a.realtime,
D=p?a.realtimeOptions:void 0;I=!!a.rtl;zc=e;yc=g;Ac=h;N=b;Ec=a.maxBlocks||Infinity;a.media?zg=a.media:a.path&&(zg=a.path+"media/");Fc=c;Gc=l;wc=d;Hc=r;Bc=v;xc=k;Cc=p;Dc=D}
function Tj(a){a.setAttribute("dir","LTR");be=I;Qj();var b=K("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklySvg"},null),c=K("defs",{},b),d,e;d=K("filter",{id:"blocklyEmboss"},c);K("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:1,result:"blur"},d);e=K("feSpecularLighting",{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},d);
K("fePointLight",{x:-5E3,y:-1E4,z:2E4},e);K("feComposite",{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},d);K("feComposite",{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},d);d=K("filter",{id:"blocklyTrashcanShadowFilter"},c);K("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:2,result:"blur"},d);K("feOffset",{"in":"blur",dx:1,dy:1,result:"offsetBlur"},d);d=K("feMerge",{},d);K("feMergeNode",{"in":"offsetBlur"},d);K("feMergeNode",{"in":"SourceGraphic"},
d);d=K("filter",{id:"blocklyShadowFilter"},c);K("feGaussianBlur",{stdDeviation:2},d);c=K("pattern",{id:"blocklyDisabledPattern",patternUnits:"userSpaceOnUse",width:10,height:10},c);K("rect",{width:10,height:10,fill:"#aaa"},c);K("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},c);E=new Mg(Yj,Zj);b.appendChild(E.G());E.jg=Ec;N||(Fc?E.za=new Xi(b,a):xc&&(E.qa=new gi,c=E.qa,d=c.G(),c.ie=!1,ec(d)),Gc||ak(function(){if(0==Tc){var a=E.Yb(),b=a.Ua+a.Va,c=a.hc+a.Wa;if(a.gb<c||a.gb+a.Xa>a.Aa+c||a.Fb<
(I?a.Ua:b)||a.Fb+a.Rc>(I?a.ea:a.ea+b))for(var d=Lc(E,!1),e=0,v;v=d[e];e++){var p=v.Q(),D=oi(v),t=c+25-D.height-p.y;0<t&&v.moveBy(0,t);t=c+a.Aa-25-p.y;0>t&&v.moveBy(0,t);t=25+b-p.x-(I?0:D.width);0<t&&v.moveBy(t,0);t=b+a.ea-25-p.x+(I?D.width:0);0>t&&v.moveBy(t,0)}}}));b.appendChild(Ih());a.appendChild(b);J=b;mj();fj=C("div","blocklyWidgetDiv");fj.style.direction=I?"rtl":"ltr";document.body.appendChild(fj)}
function Uj(){L(J,"mousedown",null,bk);L(J,"contextmenu",null,ck);L(fj,"contextmenu",null,ck);Ic||(L(window,"resize",document,mj),L(document,"keydown",null,dk),document.addEventListener("mouseup",ek,!1),Hb&&L(window,"orientationchange",document,function(){ag(window,"resize")}),Ic=!0);if(xc)if(E.za)E.za.U(E);else if(E.qa){E.qa.U(E);E.qa.show(xc.childNodes);E.scrollX=E.qa.K;I&&(E.scrollX*=-1);var a="translate("+E.scrollX+", 0)";E.Y.setAttribute("transform",a);E.hd.setAttribute("transform",a)}Gc&&(E.gc=
new Dg(E),E.gc.resize());Og();if(Hc){fk([zg+"click.mp3",zg+"click.wav",zg+"click.ogg"],"click");fk([zg+"delete.mp3",zg+"delete.ogg",zg+"delete.wav"],"delete");var b=[],a=function(){for(;b.length;)M(b.pop());for(var a in gk){var d=gk[a];d.volume=.01;d.play();d.pause();if(Hb||Gb)break}};b.push(L(document,"mousemove",null,a));b.push(L(document,"touchstart",null,a))}};
// Copyright 2013 Google Inc.  Apache License 2.0
var fj=null,Oh=null,hk=null;function dj(){var a=ej;hj();Oh=a;hk=null;fj.style.display="block"}function hj(){Oh&&(fj.style.display="none",hk&&hk(),hk=Oh=null,dc(fj))}function gj(a,b,c,d){b<d.y&&(b=d.y);I?a>c.width+d.x&&(a=c.width+d.x):a<d.x&&(a=d.x);fj.style.left=a+"px";fj.style.top=b+"px"};
// Copyright 2012 Google Inc.  Apache License 2.0

// Copyright 2013 Google Inc.  Apache License 2.0
function ik(){function a(a){a=a.slice(1).split("&");for(var b=0;b<a.length;b++){var d=a[b].split("=");c[decodeURIComponent(d[0])]=decodeURIComponent(d[1])}}var b=m.location||{},c={},d=b.hash;d&&a(d);(b=b.search)&&a(b);return c}var jk=ik();function W(a,b,c){if(a.hasOwnProperty(b))return a[b];void 0===c&&console.error(b+" should be present in the options.");return c}
function kk(a){this.uj=W(a,"clientId");this.Rg=jk.userId;document.getElementById(W(a,"authButtonElementId"));document.getElementById(W(a,"authDivElementId"))}kk.prototype.start=function(){gapi.load("auth:client,drive-realtime,drive-share",function(){})};
function lk(a,b,c,d){function e(c){gapi.Vb.T.files.Ie({resource:{mimeType:b,title:a,parents:[{id:c}]}}).qc(d)}function g(){function a(b){gapi.Vb.T.Lk.Ie({fileId:"appdata",resource:{key:"folderId",value:b}}).qc(function(){e(b)})}function b(){gapi.Vb.T.files.Ie({resource:{mimeType:"application/vnd.google-apps.folder",title:c}}).qc(function(b){a(b.id)})}gapi.Vb.T.Lk.get({fileId:"appdata",propertyKey:"folderId"}).qc(function(d){if(d.error)c?b():a("root");else{var g=d.result.value;gapi.Vb.T.files.get({fileId:g}).qc(function(a){a.error||
a.labels.im?b():e(g)})}})}gapi.Vb.load("drive","v2",function(){g()})}function mk(a){this.li=W(a,"onFileLoaded");this.xk=W(a,"newFileMimeType","application/vnd.google-apps.drive-sdk");this.Xh=W(a,"initializeModel");this.wi=W(a,"registerTypes",function(){});this.Yg=W(a,"afterAuth",function(){});this.oj=W(a,"autoCreate",!1);this.Hj=W(a,"defaultTitle","New Realtime File");this.Gj=W(a,"defaultFolderTitle","");this.Zg=W(a,"afterCreate",function(){});this.zf=new kk(a)}
function nk(a,b,c){var d=[];b&&d.push("fileIds="+b.join(","));c&&d.push("userId="+c);c=0==d.length?window.location.pathname:window.location.pathname+"#"+d.join("&");window.history&&window.history.replaceState?window.history.replaceState("Google Drive Realtime API Playground","Google Drive Realtime API Playground",c):window.location.href=c;jk=ik();for(var e in b)gapi.T.Cb.load(b[e],a.li,a.Xh,a.Th)}mk.prototype.start=function(){var a=this;this.zf.start(function(){a.wi&&a.wi();a.Yg&&a.Yg();a.load()})};
mk.prototype.Th=function(a){a.type!=gapi.T.Cb.Ug.Al&&(a.type==gapi.T.Cb.Ug.sl?(alert("An Error happened: "+a.message),window.location.href="/"):a.type==gapi.T.Cb.Ug.yl&&(alert("The file was not found. It does not exist or you do not have read access to the file."),window.location.href="/"))};
mk.prototype.load=function(){var a=jk.fileIds;a&&(a=a.split(","));var b=this.zf.Rg,b=jk.state;if(a)for(var c in a)gapi.T.Cb.load(a[c],this.li,this.Xh,this.Th);else{if(b){var d;try{d=JSON.parse(b)}catch(e){d=null}if("open"==d.action){a=d.Tl;b=d.Rg;nk(this,a,b);return}}this.oj&&ok(this)}};function ok(a){lk(a.Hj,a.xk,a.Gj,function(b){b.id?(a.Zg&&a.Zg(b.id),nk(a,[b.id],a.zf.Rg)):(console.error("Error creating file."),console.error(b))})};
// Copyright 2014 Google Inc.  Apache License 2.0
var Qg,pk,Pg=!1,qk=null,Yh=null,rk=null,sk=null,$h=null,bi=!1,tk=null,uk=null,vk=null;function wk(a){var b=a.Mj;a=a.Mj.length;for(var c=0;c<a;c++){var d=b[c];if(!d.ok){var e=d.target;"value_changed"==d.type&&("xmlDom"==d.ri?xk(function(){yk(e,!1);zk(e)}):"relativeX"!=d.ri&&"relativeY"!=d.ri||xk(function(){e.Ii||yk(e,!1);zk(e)}))}}}function Ak(a){if(!a.ok){var b=a.newValue;b?yk(b,!a.oldValue):(b=a.oldValue,Bk(b))}}function xk(a){if(bi)a();else try{bi=!0,a()}finally{bi=!1}}
function yk(a,b){xk(function(){var c=Vf(a.Sg).firstChild;if(c=Xf(E,c,!0))b&&c.t.pd(c),(b||Ua(Qg,c))&&zk(c)})}function zk(a){if(!isNaN(a.Ze)&&!isNaN(a.$e)){var b=Sh().width,c=a.Q(),d=a.Ze-c.x;a.moveBy(I?b-d:d,a.$e-c.y)}}function Bk(a){xk(function(){a.j(!0,!0,!0)})}function kj(a){if(a.t==E&&Pg&&!bi){a=ih(a);var b=a.Q(),c=!1,d=Sf(a);d.setAttribute("id",a.id);var e=C("xml");e.appendChild(d);d=Uf(e);d!=a.Sg&&(c=!0,a.Sg=d);if(a.Ze!=b.x||a.$e!=b.y)a.Ze=b.x,a.$e=b.y,c=!0;c&&$h.set(a.id.toString(),a)}}
function Ck(a,b){gapi.Vb.T.pi.list({fileId:a}).qc(function(a){for(var d=0;d<a.items.length;d++){var e=a.items[d];if("owner"==e.Zl){b(e.domain);break}}})}
var Gk={clientId:null,authButtonElementId:"authorizeButton",authDivElementId:"authButtonDiv",initializeModel:function(a){Yh=a;var b=a.Ll();a.Vc().set("blocks",b);b=a.Kl();a.Vc().set("topBlocks",b);uk&&a.Vc().set(uk,a.Ml(vk))},autoCreate:!0,defaultTitle:"Realtime Blockly File",defaultFolderTitle:"Realtime Blockly Folder",newFileMimeType:null,onFileLoaded:function(a){qk=a;a:{for(var b=a.Rj(),c=0;c<b.length;c++){var d=b[c];if(d.pk){rk=d.bm;break a}}rk=void 0}Yh=a.Oe;$h=Yh.Vc().get("blocks");Qg=Yh.Vc().get("topBlocks");
Yh.Vc().addEventListener(gapi.T.Cb.rf.zl,wk);$h.addEventListener(gapi.T.Cb.rf.Bl,Ak);sk();a.addEventListener(gapi.T.Cb.rf.ul,Dk);a.addEventListener(gapi.T.Cb.rf.vl,Ek);Fk();a=Qg;for(b=0;b<a.length;b++)c=a.get(b),yk(c,!0)},registerTypes:function(){var a=gapi.T.Cb.Nl;a.Xl(vh,"Block");vh.prototype.id=a.Df("id");vh.prototype.Sg=a.Df("xmlDom");vh.prototype.Ze=a.Df("relativeX");vh.prototype.$e=a.Df("relativeY");a.cm(vh,vh.prototype.initialize)},afterAuth:function(){setTimeout(function(){},18E5)},afterCreate:function(a){var b=
gapi.Vb.T.pi.Ie({fileId:a,resource:{type:"anyone",role:"writer",value:"default",withLink:!0}});b.qc(function(c){c.error&&Ck(a,function(c){b=gapi.Vb.T.pi.Ie({fileId:a,resource:{type:"domain",role:"writer",value:c,withLink:!0}});b.qc(function(){})})})}};function Hk(){var a=Dc,b=W(a,"chatbox");b&&(uk=W(b,"elementId"),vk=W(b,"initText",Ik));Gk.uj=W(a,"clientId");pk=W(a,"collabElementId")}
function Xj(a,b){Hk();Pg=!0;Jk(b);sk=function(){a();if(uk){var b=Yh.Vc().get(uk),d=document.getElementById(uk);gapi.T.Cb.Ol.Fl(b,d);d.disabled=!1}};tk=new mk(Gk);tk.start()}
function Jk(a){a.style.background="url("+zg+"progress.gif) no-repeat center center";var b=id(a),c=C("div");c.id=Gk.authDivElementId;var d=C("p",null,Kk);c.appendChild(d);d=C("button",null,"Authorize");d.id=Gk.Dl;c.appendChild(d);a.appendChild(c);c.style.display="none";c.style.position="relative";c.style.textAlign="center";c.style.border="1px solid";c.style.backgroundColor="#f6f9ff";c.style.borderRadius="15px";c.style.boxShadow="10px 10px 5px #888";c.style.width=b.width/3+"px";a=id(c);c.style.left=
(b.width-a.width)/3+"px";c.style.top=(b.height-a.height)/4+"px"}function Fk(){if(pk){var a;a=pk;a=n(a)?document.getElementById(a):a;dc(a);for(var b=qk.Rj(),c=0;c<b.length;c++){var d=b[c],e=C("img",{src:d.Wl||zg+"anon.jpeg",alt:d.displayName,title:d.displayName+(d.pk?" ("+Lk+")":"")});e.style.backgroundColor=d.color;a.appendChild(e)}}}function Dk(){Fk()}function Ek(){Fk()}function rh(a){var b=rk+"-"+a;return $h.has(b)?rh("-"+a):b};
// Copyright 2013 Google Inc.  Apache License 2.0

// Copyright 2011 Google Inc.  Apache License 2.0
var zg="https://blockly-demo.appspot.com/static/media/",xg=64,yg=92,Ag="sprites.png",dh=[,2,1,4,3],gk=Object.create(null),U=null,N=!1,ah=null,bh=null,vi=5,V=20,gh=250,lj=30,E=null,Mk=null,Tc=0,Nk=null;function Sh(){return{width:J.fh,height:J.eh}}function mj(){var a=J,b=a.parentNode,c=b.offsetWidth,b=b.offsetHeight;a.fh!=c&&(a.setAttribute("width",c+"px"),a.fh=c);a.eh!=b&&(a.setAttribute("height",b+"px"),a.eh=b);E.gc&&E.gc.resize()}
function bk(a){mj();si();vg();var b=a.target&&a.target.nodeName&&"svg"==a.target.nodeName.toLowerCase();!N&&U&&b&&Tg();a.target==J&&Sc(a)?Ok(a):(N||b)&&E.gc&&(E.Nf=!0,E.Jg=a.clientX,E.Kg=a.clientY,E.Yk=E.Yb(),E.$k=E.scrollX,E.al=E.scrollY,"mouseup"in Lj&&(Nk=L(document,"mouseup",null,ek)),Jc=L(document,"mousemove",null,Pk))}function ek(){tg(qj);E.Nf=!1;Nk&&(M(Nk),Nk=null);Jc&&(M(Jc),Jc=null)}
function Pk(a){if(E.Nf){Lg();var b=E.Yk,c=E.$k+(a.clientX-E.Jg),d=E.al+(a.clientY-E.Kg),c=Math.min(c,-b.Fb),d=Math.min(d,-b.gb),c=Math.max(c,b.ea-b.Fb-b.Rc),d=Math.max(d,b.Aa-b.gb-b.Xa);E.gc.set(-c-b.Fb,-d-b.gb);a.stopPropagation()}}
function dk(a){if(!sg(a))if(27==a.keyCode)vg();else if(8==a.keyCode||46==a.keyCode)try{U&&U.nc&&!N&&(vg(),U.j(!0,!0))}finally{a.preventDefault()}else if(a.altKey||a.ctrlKey||a.metaKey)if(U&&U.nc&&!N&&U.Ob&&!N&&U.t==E&&(vg(),67==a.keyCode?Qk():88==a.keyCode&&(Qk(),U.j(!0,!0))),86==a.keyCode&&Mk){a=E;var b=Mk;if(!(b.getElementsByTagName("block").length>=Nc(a))){var c=Xf(a,b),d=parseInt(b.getAttribute("x"),10),b=parseInt(b.getAttribute("y"),10);if(!isNaN(d)&&!isNaN(b)){I&&(d=-d);do for(var e=!1,g=a.rc(),
h=0,k;k=g[h];h++)k=k.Q(),1>=Math.abs(d-k.x)&&1>=Math.abs(b-k.y)&&(d=I?d-V:d+V,b+=2*V,e=!0);while(e);c.moveBy(d,b)}c.select()}}}function si(){ij&&(M(ij),ij=null);jj&&(M(jj),jj=null);var a=U;if(2==Tc&&a){var b=a.Q();mh(a,b.x-a.Fi,b.y-a.Gi);delete a.qe;Dj(a,!1);a.L();yf(a.Na,gh,a);ag(window,"resize");a.t.Jb()}Tc=0;tg(qj);ui()}function Qk(){var a=U,b=Sf(a);hg(b);a=a.Q();b.setAttribute("x",I?-a.x:a.x);b.setAttribute("y",a.y);Mk=b}
function Ok(a){if(!N){var b=[];if(zc){for(var c=!1,d=!1,e=Lc(E,!1),g=0;g<e.length;g++)for(var h=e[g];h;)h.isCollapsed()?c=!0:d=!0,h=Tf(h);d={enabled:d};d.text=Rk;d.fb=function(){for(var a=0,b=0;b<e.length;b++)for(var c=e[b];c;)setTimeout(c.Hc.bind(c,!0),a),c=Tf(c),a+=10};b.push(d);c={enabled:c};c.text=Sk;c.fb=function(){for(var a=0,b=0;b<e.length;b++)for(var c=e[b];c;)setTimeout(c.Hc.bind(c,!1),a),c=Tf(c),a+=10};b.push(c)}ej.show(a,b)}}function ck(a){sg(a)||a.preventDefault()}
function vg(a){Nh();hj();!a&&E.za&&E.za.qa&&E.za.qa.ie&&E.za.ae.Jc(null)}function Lg(){if(window.getSelection){var a=window.getSelection();a&&a.removeAllRanges&&(a.removeAllRanges(),setTimeout(function(){try{window.getSelection().removeAllRanges()}catch(a){}},0))}}function sg(a){return"textarea"==a.target.type||"text"==a.target.type}
function fk(a,b){if(window.Audio&&a.length){for(var c,d=new window.Audio,e=0;e<a.length;e++){var g=a[e],h=g.match(/\.(\w+)$/);if(h&&d.canPlayType("audio/"+h[1])){c=new window.Audio(g);break}}c&&c.play&&(gk[b]=c)}}function oj(a,b){var c=gk[a];c&&(c=Mb&&9===Mb||Hb||Fb?c:c.cloneNode(),c.volume=void 0===b?1:b,c.play())}
function Yj(){var a=Sh();E.za&&(a.width-=E.za.width);var b=a.width-T,c=a.height-T;try{var d=E.Y.getBBox()}catch(e){return null}if(E.gc)var g=Math.min(d.x-b/2,d.x+d.width-b),b=Math.max(d.x+d.width+b/2,d.x+b),h=Math.min(d.y-c/2,d.y+d.height-c),c=Math.max(d.y+d.height+c/2,d.y+c);else g=d.x,b=g+d.width,h=d.y,c=h+d.height;d=0;!I&&E.za&&(d=E.za.width);return{Aa:a.height,ea:a.width,Xa:c-h,Rc:b-g,hc:-E.scrollY,Ua:-E.scrollX,gb:h,Fb:g,Wa:0,Va:d}}
function Zj(a){if(!E.gc)throw"Attempt to set main workspace scroll without scrollbars.";var b=Yj();q(a.x)&&(E.scrollX=-b.Rc*a.x-b.Fb);q(a.y)&&(E.scrollY=-b.Xa*a.y-b.gb);a="translate("+(E.scrollX+b.Va)+","+(E.scrollY+b.Wa)+")";E.Y.setAttribute("transform",a);E.hd.setAttribute("transform",a)}function nj(a){a()}function ak(a){return L(E.Y,"blocklyWorkspaceChange",null,a)}m.Blockly||(m.Blockly={});m.Blockly.getMainWorkspace=function(){return E};m.Blockly.addChangeListener=ak;
m.Blockly.removeChangeListener=function(a){M(a)};var tj="Lis\u00e4\u00e4 kommentti",Kk="Valtuuta t\u00e4m\u00e4 ohjelma jotta voit tallettaa ty\u00f6si ja jakaa sen.",Ik="Keskustele yhteisty\u00f6kumppanisi kanssa t\u00e4ss\u00e4 laatikossa!",Rk="Sulje lohkot",xj="Sulje lohko",Aj="Poista lohko",Bj="Poista %1 lohkoa",zj="Passivoi lohko",rj="Kopioi",yj="Aktivoi lohko",Sk="Laajenna lohkot",wj="Laajenna lohko",uj="Ulkoiset sy\u00f6tteet",Cj="Apua",vj="Tuo sy\u00f6tteet",Lk="Min\u00e4",sj="Poista kommentti";function Tk(a,b){var c;c=a.className;for(var d=c=n(c)&&c.match(/\S+/g)||[],e=Ya(arguments,1),g=0;g<e.length;g++)Ua(d,e[g])||d.push(e[g]);a.className=c.join(" ")};var Uk={ace:"\u0628\u0647\u0633\u0627 \u0627\u0686\u064a\u0647",af:"Afrikaans",ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",az:"Az\u0259rbaycanca","be-tarask":"Tara\u0161kievica",br:"Brezhoneg",ca:"Catal\u00e0",cdo:"\u95a9\u6771\u8a9e",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",fi:"Suomi",fo:"F\u00f8royskt",fr:"Fran\u00e7ais",frr:"Frasch",gl:"Galego",hak:"\u5ba2\u5bb6\u8a71",
he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hrx:"Hunsrik",hu:"Magyar",ia:"Interlingua",id:"Bahasa Indonesia",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",ka:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",km:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",ko:"\ud55c\uad6d\uc5b4",ksh:"Ripoar\u0117sch",ky:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",la:"Latine",lb:"L\u00ebtzebuergesch",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",mg:"Malagasy",ml:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",
mk:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",mr:"\u092e\u0930\u093e\u0920\u0940",ms:"Bahasa Melayu",mzn:"\u0645\u0627\u0632\u0650\u0631\u0648\u0646\u06cc",nb:"Norsk Bokm\u00e5l",nl:"Nederlands, Vlaams",oc:"Lenga d'\u00f2c",pa:"\u092a\u0902\u091c\u093e\u092c\u0940",pl:"Polski",pms:"Piemont\u00e8is",ps:"\u067e\u069a\u062a\u0648",pt:"Portugu\u00eas","pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sco:"Scots",si:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",
sk:"Sloven\u010dina",sr:"\u0421\u0440\u043f\u0441\u043a\u0438",sv:"Svenska",sw:"Kishwahili",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",tl:"Tagalog",tlh:"tlhIngan Hol",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",vi:"Ti\u1ebfng Vi\u1ec7t","zh-hans":"\u7c21\u9ad4\u4e2d\u6587","zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},Vj="ace ar fa he mzn ps".split(" "),tc=window.BlocklyGamesLang,Vk=window.BlocklyGamesLanguages,uc=!!window.location.pathname.match(/\.html$/);
function Wk(a,b){var c=window.location.search.match(new RegExp("[?&]"+a+"=([^&]+)"));return c?decodeURIComponent(c[1].replace(/\+/g,"%20")):b}var H,Xk=Number(Wk("level","NaN"));H=isNaN(Xk)?1:Sb(1,Xk,10);
function Yk(){document.title=document.getElementById("title").textContent;document.head.parentElement.setAttribute("dir",-1!=Vj.indexOf(tc)?"rtl":"ltr");document.head.parentElement.setAttribute("lang",tc);for(var a=[],b=0;b<Vk.length;b++){var c=Vk[b];a.push([Uk[c],c])}a.sort(function(a,b){return a[0]>b[0]?1:a[0]<b[0]?-1:0});for(var d=document.getElementById("languageMenu"),b=d.options.length=0;b<a.length;b++){var e=a[b],c=e[1],e=new Option(e[0],c);c==tc&&(e.selected=!0);d.options.add(e)}1>=d.options.length&&
(d.style.display="none");for(b=1;10>=b;b++)a=document.getElementById("level"+b),c=!!Zk(b),a&&c&&Tk(a,"level_done");(b=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&b.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");setTimeout($k,1)}function Zk(a){var b=al,c;try{c=window.localStorage[b+a]}catch(d){}return c}
function bl(a){var b;(b=document.getElementById(a))?(b=b.textContent,b=b.replace(/\\n/g,"\n")):b=null;return null===b?"[Unknown message: "+a+"]":b}function cl(a,b){"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",b,!0);a.addEventListener("touchend",b,!0)}
function $k(){if(!uc){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var b=document.createElement("script");b.async=1;b.src="//www.google-analytics.com/analytics.js";document.head.appendChild(b);a("create","UA-50448074-1","auto");a("send","pageview")}};var X={xb:null,U:function(){Yk();var a=document.getElementById("linkButton");"BlocklyStorage"in window?(BlocklyStorage.HTTPREQUEST_ERROR=bl("Games_httpRequestError"),BlocklyStorage.LINK_ALERT=bl("Games_linkAlert"),BlocklyStorage.HASH_ERROR=bl("Games_hashError"),BlocklyStorage.XML_ERROR=bl("Games_xmlError"),BlocklyStorage.alert=qc.cl,a&&cl(a,BlocklyStorage.link)):a&&(a.style.display="none");document.getElementById("languageMenu").addEventListener("change",X.tj,!0)},Ul:function(a){document.body.innerHTML=
a;a=document.getElementById("blockly");a.style.height=window.innerHeight+"px";Sj(a);a=Wk("xml","");X.Bg("<xml>"+a+"</xml>")},tk:function(a,b){if("BlocklyStorage"in window&&1<window.location.hash.length)BlocklyStorage.retrieveXml(window.location.hash.substring(1));else{var c=null;try{c=window.sessionStorage.di}catch(d){}c&&delete window.sessionStorage.di;var e=Zk(H),g=b&&Zk(H-1);(c=c||e||g||a)&&X.Bg(c)}},Bg:function(a){X.xb?X.xb.setValue(a,-1):(a=Vf(a),Wf(E,a))},Rk:function(){if(void 0!=typeof vc&&
window.localStorage){var a=al+H;if(X.xb)var b=X.xb.getValue();else b=Rf(E),b=Uf(b);window.localStorage[a]=b}},Ge:function(){window.location=(uc?"index.html":"./")+"?lang="+tc},tj:function(){if(window.sessionStorage){if(X.xb)var a=X.xb.getValue();else a=Rf(E),a=Uf(a);window.sessionStorage.di=a}var a=document.getElementById("languageMenu"),a=encodeURIComponent(a.options[a.selectedIndex].value),b=window.location.search,b=1>=b.length?"?lang="+a:b.match(/[?&]lang=[^&]*/)?b.replace(/([?&]lang=)[^&]*/,"$1"+
a):b.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+b},Wh:function(a){if(a){var b=a.match(/^block_id_(\d+)$/);b&&(a=b[1])}Sg(a)},dl:function(a){return a.replace(/(,\s*)?'block_id_\d+'\)/g,")").trimRight()},yb:function(a){if("click"==a.type&&"touchend"==X.yb.tg&&X.yb.sg+2E3>Date.now()||X.yb.tg==a.type&&X.yb.sg+400>Date.now())return a.preventDefault(),a.stopPropagation(),!0;X.yb.tg=a.type;X.yb.sg=Date.now();return!1}};
X.yb.tg=null;X.yb.sg=0;X.ik=function(){var a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","js-read-only/JS-Interpreter/compiled.js");document.head.appendChild(a)};
X.jk=function(){var a=document.createElement("link");a.setAttribute("rel","stylesheet");a.setAttribute("type","text/css");a.setAttribute("href","common/prettify.css");document.head.appendChild(a);a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","common/prettify.js");document.head.appendChild(a)};window.BlocklyInterface=X;X.setCode=X.Bg;var Y={xc:!1,Eh:null,oe:null,Ud:function(a,b,c,d,e,g){function h(){Y.xc&&(k.style.visibility="visible",k.style.zIndex=10,l.style.visibility="hidden")}Y.xc&&Y.Mb(!1);vg(!0);Y.xc=!0;Y.Eh=b;Y.oe=g;var k=document.getElementById("dialog");g=document.getElementById("dialogShadow");var l=document.getElementById("dialogBorder"),r;for(r in e)k.style[r]=e[r];d&&(g.style.visibility="visible",g.style.opacity=.3,g.style.zIndex=9,d=document.createElement("div"),d.id="dialogHeader",k.appendChild(d),Y.If=L(d,"mousedown",
null,Y.Ij));k.appendChild(a);a.className=a.className.replace("dialogHiddenContent","");c&&b?(Y.dc(b,!1,.2),Y.dc(k,!0,.8),setTimeout(h,175)):h()},Fh:0,Gh:0,Ij:function(a){Y.Lf();if(!Sc(a)){var b=document.getElementById("dialog");Y.Fh=b.offsetLeft-a.clientX;Y.Gh=b.offsetTop-a.clientY;Y.Kf=L(document,"mouseup",null,Y.Lf);Y.Jf=L(document,"mousemove",null,Y.Jj);a.stopPropagation()}},Jj:function(a){var b=document.getElementById("dialog"),c=Y.Fh+a.clientX;a=Y.Gh+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-
b.offsetHeight);c=Math.max(c,0);c=Math.min(c,window.innerWidth-b.offsetWidth);b.style.left=c+"px";b.style.top=a+"px"},Lf:function(){Y.Kf&&(M(Y.Kf),Y.Kf=null);Y.Jf&&(M(Y.Jf),Y.Jf=null)},Mb:function(a){function b(){d.style.zIndex=-1;d.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(Y.xc){Y.Lf();Y.If&&(M(Y.If),Y.If=null);Y.xc=!1;Y.oe&&Y.oe();Y.oe=null;var c=!1===a?null:Y.Eh;a=document.getElementById("dialog");var d=document.getElementById("dialogShadow");
d.style.opacity=0;c?(Y.dc(a,!1,.8),Y.dc(c,!0,.2),setTimeout(b,175)):b();a.style.visibility="hidden";a.style.zIndex=-1;for((c=document.getElementById("dialogHeader"))&&c.parentNode.removeChild(c);a.firstChild;)c=a.firstChild,c.className+=" dialogHiddenContent",document.body.appendChild(c)}},dc:function(a,b,c){function d(){e.style.width=g.width+"px";e.style.height=g.height+"px";e.style.left=g.x+"px";e.style.top=g.y+"px";e.style.opacity=c}if(a){var e=document.getElementById("dialogBorder"),g=Y.Qj(a);
b?(e.className="dialogAnimate",setTimeout(d,1)):(e.className="",d());e.style.visibility="visible"}},Qj:function(a){if(a.getBBox){var b=a.getBBox(),c=b.height,b=b.width;a=Cg(a);a=$i(a.x,a.y,!1);var d=a.x,e=a.y}else{c=a.offsetHeight;b=a.offsetWidth;e=d=0;do d+=a.offsetLeft,e+=a.offsetTop,a=a.offsetParent;while(a)}return{height:c,width:b,x:d,y:e}},cl:function(a){var b=document.getElementById("containerStorage");b.textContent="";a=a.split("\n");for(var c=0;c<a.length;c++){var d=document.createElement("p");
d.appendChild(document.createTextNode(a[c]));b.appendChild(d)}b=document.getElementById("dialogStorage");a=document.getElementById("linkButton");Y.Ud(b,a,!0,!0,{width:"50%",left:"25%",top:"5em"},Y.Lg);Y.Ig()},gj:function(){if(!Zk(H))if(Y.xc||0!=vh.Pl)setTimeout(Y.gj,15E3);else{var a=document.getElementById("dialogAbort"),b=document.getElementById("abortCancel");b.addEventListener("click",Y.Mb,!0);b.addEventListener("touchend",Y.Mb,!0);b=document.getElementById("abortOk");b.addEventListener("click",
X.Ge,!0);b.addEventListener("touchend",X.Ge,!0);Y.Ud(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",Y.Xg,!0)});document.body.addEventListener("keydown",Y.Xg,!0)}},vj:function(){var a=document.getElementById("dialogDone");if(E){var b=document.getElementById("dialogLinesText");b.textContent="";var c=vc.xl.jm(),c=X.dl(c),d=c.split("\n").length,e=document.getElementById("containerCode");e.textContent=c;"function"==typeof prettyPrintOne&&(c=e.innerHTML,
c=prettyPrintOne(c,"js"),e.innerHTML=c);c=1==d?bl("Games_linesOfCode1"):bl("Games_linesOfCode2").replace("%1",d);b.appendChild(document.createTextNode(c))}c=10>H?bl("Games_nextLevel").replace("%1",H+1):bl("Games_finalLevel");b=document.getElementById("doneCancel");b.addEventListener("click",Y.Mb,!0);b.addEventListener("touchend",Y.Mb,!0);b=document.getElementById("doneOk");b.addEventListener("click",X.lg,!0);b.addEventListener("touchend",X.lg,!0);Y.Ud(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},
function(){document.body.removeEventListener("keydown",Y.mh,!0)});document.body.addEventListener("keydown",Y.mh,!0);document.getElementById("dialogDoneText").textContent=c},Dh:function(a){!Y.xc||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(Y.Mb(!0),a.stopPropagation(),a.preventDefault())},Ig:function(){document.body.addEventListener("keydown",Y.Dh,!0)},Lg:function(){document.body.removeEventListener("keydown",Y.Dh,!0)},mh:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)Y.Mb(!0),a.stopPropagation(),
a.preventDefault(),27!=a.keyCode&&X.lg()},Xg:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)Y.Mb(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&X.Ge()}};window.BlocklyDialogs=Y;Y.hideDialog=Y.Mb;Pi("goog.net.XhrIo");function dl(a,b,c,d,e){this.name=a;this.kh=b;this.Hi=c;this.Wk=d||0;this.Tb=e;this.s=new B;this.reset();console.log(this+" loaded.")}f=dl.prototype;f.bl=!1;f.jb=!1;f.p=0;f.Hb=0;f.facing=0;f.speed=0;f.wb=0;f.s=null;f.gg=0;f.toString=function(){return"["+this.name+"]"};
f.reset=function(){delete this.bl;delete this.jb;delete this.speed;delete this.wb;delete this.gg;this.p=this.Wk;this.s.x=this.Hi.x;this.s.y=this.Hi.y;this.facing=this.Hb=Tb(180*Math.atan2(50-this.s.y,50-this.s.x)/Math.PI);var a=this.kh;if(u(a))a=a();else if(!n(a))throw"Player "+this.name+" has invalid code: "+a;this.Zh="Interpreter"in window?new Interpreter(a,this.Tb.kk):null};function el(a,b){a.p+=b;100<=a.p&&fl(a)}
function fl(a){a.speed=0;a.jb=!0;a.p=100;a.Tb.nd.unshift(a);a.Tb.bb.push({type:"DIE",player:a});console.log(a+" dies.")}
function gl(a,b){var c=Z.hb,d;d=void 0===b||null===b?5:b;if(!q(a)||isNaN(a)||!q(d)||isNaN(d))throw TypeError;a=Tb(a);d=Sb(d,0,20);c.Tb.bb.push({type:"SCAN",player:c,degree:a,resolution:d});var e=Tb(a-d/2);d=Tb(a+d/2);e>d&&(d+=360);for(var g=c.s.x,h=c.s.y,k=Infinity,l=0,r;r=c.Tb.Ha[l];l++)if(r!=c&&!r.jb){var v=r.s.x,p=r.s.y;r=Math.sqrt((p-h)*(p-h)+(v-g)*(v-g));r>=k||(v=Math.atan2(p-h,v-g),v=Tb(180*v/Math.PI),v<e&&(v+=360),e<=v&&v<=d&&(k=r))}return k}
f.T=function(a,b){var c;c=void 0===b||null===b?50:b;if(!q(a)||isNaN(a)||!q(c)||isNaN(c))throw TypeError;this.Hb!=Tb(a)&&(50>=this.speed?this.facing=this.Hb=Tb(a):c=0);0==this.speed&&0<c&&(this.speed=.1);this.wb=Sb(c,0,100)};f.stop=function(){this.wb=0};
function hl(a,b){var c=Z.hb;if(!q(a)||isNaN(a)||!q(b)||isNaN(b))throw TypeError;var d=Date.now();if(c.gg+1E3*c.Tb.Xi>d)return!1;c.gg=d;d=c.s.clone();a=Tb(a);c.facing=a;b=Sb(b,0,70);d={Hk:c,Xd:d,Hb:a,Ye:b,td:new B(d.x+b*Math.cos(a*Math.PI/180),d.y+b*Math.sin(a*Math.PI/180)),Nd:0};c.Tb.Oc.push(d);c.Tb.bb.push({type:"BANG",player:c,degree:d.Hb});return!0};var Z={Ha:[],nd:[],bb:[],Oc:[],Ti:50,cj:100,Xi:.5,hb:null,Wi:1,Wg:3,Tg:5,Si:5,pf:3,qi:0,re:0,Ng:0,ej:3E5,Mf:null};Z.bj=[new B(10,90),new B(90,10),new B(10,10),new B(90,90),new B(50,99),new B(50,1),new B(1,50),new B(99,50),new B(50,49)];Z.reset=function(){clearTimeout(Z.qi);Z.bb.length=0;Z.Oc.length=0;Z.nd.length=0;for(var a=Z.Ng=0,b;b=Z.Ha[a];a++)b.reset()};Z.ij=function(a,b,c,d){c||(c=Z.bj[Z.Ha.length]);a=new dl(a,b,c,d,Z);Z.Ha.push(a)};
Z.start=function(a){Z.Mf=a;Z.re=Date.now()+Z.ej;console.log("Starting battle with "+Z.Ha.length+" players.");Z.update()};Z.update=function(){Z.kl();Z.ll();Z.ol();Z.Ha.length<=Z.nd.length+1&&(Z.re=Math.min(Z.re,Date.now()+1E3));Date.now()>Z.re?Z.stop():Z.qi=setTimeout(Z.update,1E3/Z.Ti)};Z.stop=function(){for(var a=[],b=0,c;c=Z.Ha[b];b++)c.jb||a.push(c);b=a.length;for(a.sort(function(a,b){return a.p-b.p});a.length;)Z.nd.unshift(a.pop());Z.Mf&&Z.Mf(b)};
Z.ll=function(){for(var a=Z.Oc.length-1;0<=a;a--){var b=Z.Oc[a];b.Nd+=Z.Wg;var c=0;if(b.Ye-b.Nd<Z.Wg/2){Z.Oc.splice(a,1);for(var d=0,e;e=Z.Ha[d];d++)if(!e.jb){var g=10*(1-Ub(e.s,b.td)/4);0<g&&(el(e,g),c=Math.max(c,g))}Z.bb.push({type:"BOOM",damage:c,x:b.td.x,y:b.td.y})}}};
Z.ol=function(){for(var a=0,b;b=Z.Ha[a];a++)if(!b.jb&&(b.speed<b.wb?b.speed=Math.min(b.speed+Z.Tg,b.wb):b.speed>b.wb&&(b.speed=Math.max(b.speed-Z.Tg,b.wb)),0<b.speed)){var c=Z.jh(b),d=c[1],e=b.Hb*Math.PI/180,g=b.speed/100*Z.Wi,h=Math.cos(e)*g,g=Math.sin(e)*g;b.s.x+=h;b.s.y+=g;0>b.s.x||100<b.s.x||0>b.s.y||100<b.s.y?(b.s.x=Sb(b.s.x,0,100),b.s.y=Sb(b.s.y,0,100),d=b.speed/100*Z.pf,el(b,d),b.speed=0,b.wb=0,Z.bb.push({type:"CRASH",player:b,damage:d})):(c=Z.jh(b),e=c[0],c=c[1],c<Z.Si&&d>c&&(b.s.x-=h,b.s.y-=
g,d=Math.max(b.speed,e.speed)/100*Z.pf,el(b,d),b.speed=0,b.wb=0,el(e,d),e.speed=0,e.wb=0,Z.bb.push({type:"CRASH",player:b,damage:d}),Z.bb.push({type:"CRASH",player:e,damage:d})))}};Z.kl=function(){for(var a=0;a<Z.cj;a++){Z.Ng++;for(var b=0,c;c=Z.Ha[b];b++)if(!c.jb){Z.hb=c;try{c.Zh.step()}catch(d){console.log(c+" throws an error: "+d),console.dir(c.Zh.gm),fl(c)}Z.hb=null}}};
Z.kk=function(a,b){var c;c=function(b,c){return a.createPrimitive(gl(b&&b.valueOf(),c&&c.valueOf()))};a.setProperty(b,"scan",a.createNativeFunction(c));c=function(b,c){return a.createPrimitive(hl(b&&b.valueOf(),c&&c.valueOf()))};a.setProperty(b,"cannon",a.createNativeFunction(c));c=function(a,b){Z.hb.T(a&&a.valueOf(),b&&b.valueOf())};a.setProperty(b,"drive",a.createNativeFunction(c));a.setProperty(b,"swim",a.createNativeFunction(c));a.setProperty(b,"stop",a.createNativeFunction(function(){Z.hb.stop()}));
a.setProperty(b,"damage",a.createNativeFunction(function(){return a.createPrimitive(Z.hb.p)}));a.setProperty(b,"health",a.createNativeFunction(function(){return a.createPrimitive(100-Z.hb.p)}));a.setProperty(b,"speed",a.createNativeFunction(function(){return a.createPrimitive(Z.hb.speed)}));a.setProperty(b,"loc_x",a.createNativeFunction(function(){return a.createPrimitive(Z.hb.s.x)}));a.setProperty(b,"loc_y",a.createNativeFunction(function(){return a.createPrimitive(Z.hb.s.y)}));var d=a.getProperty(b,
"Math");d!=a.UNDEFINED&&(c=function(b){return a.createPrimitive(Math.sin((b&&b.valueOf())/180*Math.PI))},a.setProperty(d,"sin_deg",a.createNativeFunction(c)),c=function(b){return a.createPrimitive(Math.cos((b&&b.valueOf())/180*Math.PI))},a.setProperty(d,"cos_deg",a.createNativeFunction(c)),c=function(b){return a.createPrimitive(Math.tan((b&&b.valueOf())/180*Math.PI))},a.setProperty(d,"tan_deg",a.createNativeFunction(c)),c=function(b){return a.createPrimitive(Math.asin(b&&b.valueOf())/Math.PI*180)},
a.setProperty(d,"asin_deg",a.createNativeFunction(c)),c=function(b){return a.createPrimitive(Math.acos(b&&b.valueOf())/Math.PI*180)},a.setProperty(d,"acos_deg",a.createNativeFunction(c)),c=function(b){return a.createPrimitive(Math.atan(b&&b.valueOf())/Math.PI*180)},a.setProperty(d,"atan_deg",a.createNativeFunction(c)))};Z.jh=function(a){for(var b=null,c=Infinity,d=0,e;e=Z.Ha[d];d++)if(!e.jb&&a!=e){var g=Math.min(c,Ub(a.s,e.s));g<c&&(c=g,b=e)}return[b,c]};var il,jl,kl,ll={},ml=[],nl=new Image;nl.src="pond/sprites.png";var ol=["#ff8b00","#c90015","#166c0b","#11162a"],pl=0;function ql(){il=document.getElementById("scratch").getContext("2d");var a=document.getElementById("display").getContext("2d");jl=a;kl=a.canvas.width;a.globalCompositeOperation="copy";fk(["pond/whack.mp3","pond/whack.ogg"],"whack");fk(["pond/boom.mp3","pond/boom.ogg"],"boom");fk(["pond/splash.mp3","pond/splash.ogg"],"splash")}
function rl(){clearTimeout(pl);ml.length=0;var a=document.getElementById("playerStatRow");a.innerHTML="";for(var b=[],c=[],d=0,e;e=Z.Ha[d];d++){var g=ol[d%ol.length];e.Oi=d;var h=document.createElement("td");h.style.borderColor=g;var k=document.createElement("div");k.className="playerStatHealth";k.style.background=g;e.ql=k;c[d]=k;h.appendChild(k);k=document.createElement("div");k.className="playerStatName";e=document.createTextNode(e.name);k.appendChild(e);b[d]=k;h.appendChild(k);k=document.createElement("div");
e=document.createTextNode("\u00a0");k.appendChild(e);h.appendChild(k);a.appendChild(h)}for(d=0;k=b[d];d++)k.style.width=k.parentNode.offsetWidth-2+"px";for(d=0;k=c[d];d++)k.style.height=k.parentNode.offsetHeight-2+"px";sl()}var tl=0,ul=0;function vl(){sl();var a=Date.now(),b=Math.max(1,1E3/36-(a-tl-ul));pl=setTimeout(vl,b);tl=a;ul=b}function wl(a){return a/100*(kl-35)+17.5}
function sl(){var a=il;a.beginPath();a.rect(0,0,a.canvas.width,a.canvas.height);a.fillStyle="#527dbf";a.fill();for(var b=[],c=0,d;d=Z.Ha[c];c++)d.jb&&b.push(d);for(c=0;d=Z.Ha[c];c++)d.jb||b.push(d);for(c=0;d=b[c];c++){a.save();var e=wl(d.s.x),g=wl(100-d.s.y);a.translate(e,g);var h=d.Oi%ol.length*35;d.jb&&(a.globalAlpha=.25);0<d.speed&&(a.save(),e=50<d.speed?0:25<d.speed?35:70,a.rotate(-d.Hb/180*Math.PI),a.drawImage(nl,455,e,35,35,-45.5,-17.5,35,35),a.restore());a.drawImage(nl,0,h,35,35,-17.5,-17.5,
35,35);e=d.facing/180*Math.PI;a.translate(12*Math.cos(e),12*-Math.sin(e)-2);e=(14-Math.round(d.facing/360*12))%12+1;d=d.facing%30;15<=d&&(d-=30);d/=1.5;a.rotate(-d/180*Math.PI);a.drawImage(nl,35*e,h,35,35,-15.5,-15.5,35,35);a.restore()}for(c=0;d=Z.Oc[c];c++){a.save();var g=d.Nd/d.Ye,h=(d.td.y-d.Xd.y)*-g,e=d.Ye/2,k=.15*d.Ye,e=k-Math.pow((d.Nd-e)/Math.sqrt(k)*k/e,2),g=wl(d.Xd.x+(d.td.x-d.Xd.x)*g),k=wl(100-d.Xd.y+h-e),h=wl(100-d.Xd.y+h);a.beginPath();a.arc(g,h,5*Math.max(0,1-e/10),0,2*Math.PI,!0);a.closePath();
a.fillStyle="rgba(128, 128, 128, "+Math.max(0,1-e/10)+")";a.fill();a.beginPath();a.arc(g,k,5,0,2*Math.PI,!0);a.closePath();a.fillStyle=ol[d.Hk.Oi%ol.length];a.fill()}for(c=0;c<Z.bb.length;c++)if(e=Z.bb[c],d=e.player,"CRASH"==e.type){if(h=ll[d.id],!h||h+1E3<na())oj("whack",e.damage/Z.pf),ll[d.id]=na()}else"SCAN"==e.type?(g=Math.max(e.resolution/2,.5),h=-((e.degree+g)*Math.PI/180),k=-((e.degree-g)*Math.PI/180),a.beginPath(),e=wl(d.s.x),g=wl(100-d.s.y),a.moveTo(e,g),a.lineTo(e+200*Math.cos(h),g+200*
Math.sin(h)),a.arc(e,g,200,h,k),a.lineTo(e,g),d=a.createRadialGradient(e,g,17.5,e,g,200),d.addColorStop(0,"rgba(255, 255, 255, 0.3)"),d.addColorStop(1,"rgba(255, 255, 255, 0)"),a.fillStyle=d,a.fill()):"BANG"!=e.type&&("BOOM"==e.type?(e.damage&&oj("boom",e.damage/10),ml.push({x:e.x,y:e.y,Zd:0})):"DIE"==e.type&&oj("splash"));Z.bb.length=0;for(c=ml.length-1;0<=c;c--)d=ml[c],e=wl(d.x),g=wl(100-d.y),a.beginPath(),a.arc(e,g,d.Zd+1,0,2*Math.PI,!0),a.closePath(),a.lineWidth=5,a.strokeStyle="rgba(255, 255, 255, "+
(1-d.Zd/10)+")",a.stroke(),d.Zd+=2,10<d.Zd&&ml.splice(c,1);jl.drawImage(a.canvas,0,0);for(c=0;d=b[c];c++)a=d.ql,a.parentNode.title=Math.round(100-d.p)+"%",a.style.width=Math.max(0,a.parentNode.offsetWidth*(1-d.p/100)-2)+"px"};var xl=null,yl=!1;function zl(){function a(){c.style.visibility="visible";document.getElementById("dialogBorder").style.visibility="hidden"}if(!yl){var b=document.getElementById("docsButton"),c=document.getElementById("dialogDocs"),d=document.getElementById("frameDocs");d.src||(d.src="pond/docs.html?lang="+tc+"&app="+al+"&level="+H);yl=!0;Y.dc(b,!1,.2);Y.dc(c,!0,.8);setTimeout(a,175)}}
function Al(){var a=document.getElementById("docsButton"),b=document.getElementById("dialogDocs");yl=!1;Y.dc(b,!1,.8);Y.dc(a,!0,.2);setTimeout(function(){document.getElementById("dialogBorder").style.visibility="hidden"},175);b.style.visibility="hidden"}function Bl(a){if(!X.yb(a)){a=document.getElementById("runButton");var b=document.getElementById("resetButton");b.style.minWidth||(b.style.minWidth=a.offsetWidth+"px");a.style.display="none";b.style.display="inline";Cl()}}
function Dl(a){X.yb(a)||(document.getElementById("runButton").style.display="inline",document.getElementById("resetButton").style.display="none",Z.reset(),rl())}function Cl(){"Interpreter"in window?(Z.reset(),rl(),Z.start(xl),vl()):setTimeout(Cl,250)}function El(){var a=document.getElementById("help"),b=document.getElementById("helpButton");Y.Ud(a,b,!0,!0,{width:"50%",left:"25%",top:"5em"},Y.Lg);Y.Ig()};X.lg=function(){10>H?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+tc+"&level="+(H+1):X.Ge()};
var Fl=[void 0,[{start:new B(50,30),p:0,name:"Pond_playerName",code:null},{start:new B(50,70),p:99,name:"Pond_targetName",code:"playerTarget"}],[{start:new B(20,20),p:0,name:"Pond_playerName",code:null},{start:new B(62.4264,62.4264),p:0,name:"Pond_targetName",code:"playerTarget"}],[{start:new B(90,50),p:0,name:"Pond_playerName",code:null},{start:new B(50,50),p:0,name:"Pond_pendulumName",code:"playerPendulum"}],[{start:new B(20,80),p:0,name:"Pond_playerName",code:null},{start:new B(80,20),p:99,name:"Pond_targetName",
code:"playerTarget"}],[{start:new B(5,50),p:99,name:"Pond_playerName",code:null},{start:new B(95,50),p:0,name:"Pond_targetName",code:"playerTarget"}],[{start:new B(10,90),p:50,name:"Pond_playerName",code:null},{start:new B(40,60),p:0,name:"Pond_scaredName",code:"playerScared"}],[{start:new B(50,50),p:0,name:"Pond_playerName",code:null},{start:new B(50,20),p:0,name:"Pond_rabbitName",code:"playerRabbit"}],[{start:new B(20,80),p:0,name:"Pond_playerName",code:null},{start:new B(50,50),p:0,name:"Pond_rookName",
code:"playerRook"}],[{start:new B(20,80),p:0,name:"Pond_playerName",code:null},{start:new B(80,20),p:0,name:"Pond_rookName",code:"playerRook"},{start:new B(20,20),p:0,name:"Pond_counterName",code:"playerCounter"}],[{start:new B(20,80),p:0,name:"Pond_playerName",code:null},{start:new B(80,20),p:0,name:"Pond_rookName",code:"playerRook"},{start:new B(20,20),p:0,name:"Pond_counterName",code:"playerCounter"},{start:new B(80,80),p:0,name:"Pond_sniperName",code:"playerSniper"}]][H],xl=function(a){clearTimeout(pl);
0!=a&&1==a&&"function"==typeof Z.nd[0].kh&&(3==H&&2E5<Z.Ng?(a=document.getElementById("helpUseScan"),Y.Ud(a,null,!1,!0,{width:"30%",left:"35%",top:"12em"},Y.Lg),Y.Ig()):(X.Rk(),Y.vj()))};var al="pond-advanced";
window.addEventListener("load",function(){function a(){var a=e.offsetTop,b=document.getElementById("editor");b.style.top=Math.max(10,a-window.pageYOffset)+"px";b.style.left=d?"10px":"420px";b.style.width=window.innerWidth-440+"px"}document.body.innerHTML=sc();X.U();ql();cl("runButton",Bl);cl("resetButton",Dl);cl("docsButton",zl);cl("closeDocs",Al);setTimeout(X.ik,1);setTimeout(X.jk,1);cl("helpButton",El);2>location.hash.length&&!Zk(H)&&setTimeout(El,1E3);var b=document.getElementById("containerCode");b.parentNode.removeChild(b);
b=4==H?"swim(0, 50);":"cannon(0, 70);";X.xb=window.ace.edit("editor");X.xb.setTheme("ace/theme/chrome");var c=X.xb.getSession();c.setMode("ace/mode/javascript");c.setTabSize(2);c.setUseSoftTabs(!0);X.tk(b+"\n",4!=H);var d=-1!=Vj.indexOf(tc),e=document.getElementById("visualization");window.addEventListener("scroll",a);window.addEventListener("resize",a);a();for(c=0;b=Fl[c];c++){var g=b.code?document.getElementById(b.code).textContent:function(){return X.xb.getValue()},h=bl(b.name);Z.ij(h,g,b.start,
b.p)}Z.reset();rl()});
